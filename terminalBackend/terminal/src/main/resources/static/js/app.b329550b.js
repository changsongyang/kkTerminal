(function(){var e={4451:function(e,l,n){"use strict";var t=n(9242),i=n(3396);function a(e,l,n,t,a,o){const s=(0,i.up)("FrameWork");return(0,i.wg)(),(0,i.j4)(s)}var o="data:image/png;base64,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";const s=e=>((0,i.dD)("data-v-23892656"),e=e(),(0,i.Cn)(),e),r={class:"golbal"},u={class:"setting"},c=s((()=>(0,i._)("div",null,"连接设置",-1))),d=[c],v=s((()=>(0,i._)("div",null,"偏好设置",-1))),p=[v],g=s((()=>(0,i._)("div",null,"文件管理",-1))),m=[g],f=s((()=>(0,i._)("div",null,"重启",-1))),w=[f],y={class:"bar"},k=s((()=>(0,i._)("img",{src:o,alt:"终端",style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,-1))),h=[k],_=s((()=>(0,i._)("div",{style:{"font-size":"14px"}},[(0,i._)("span",null,"kk Terminal")],-1))),C={ref:"terminal",class:"terminal-class"};function I(e,l,n,a,o,s){const c=(0,i.up)("FileBlock"),v=(0,i.up)("ConnectSetting"),g=(0,i.up)("StyleSetting");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",r,[(0,i.Wm)(c,{sshKey:a.sshKey},null,8,["sshKey"]),(0,i.wy)((0,i._)("div",u,[(0,i._)("div",{class:"setting-menu",onClick:l[0]||(l[0]=e=>a.doSettings(1))},d),(0,i._)("div",{class:"setting-menu",onClick:l[1]||(l[1]=e=>a.doSettings(2))},p),(0,i._)("div",{class:"setting-menu",onClick:l[2]||(l[2]=e=>a.doSettings(4))},m),(0,i._)("div",{class:"setting-menu",onClick:l[3]||(l[3]=e=>a.doSettings(3))},w)],512),[[t.F8,a.isShowSetting]]),(0,i._)("div",y,[(0,i._)("div",{onClick:l[4]||(l[4]=(...e)=>a.showSettings&&a.showSettings(...e))},h),_]),(0,i._)("div",C,null,512)]),(0,i.Wm)(v,{ref:"connectSettingRef",env:a.env,onCallback:a.saveEnv},null,8,["env","onCallback"]),(0,i.Wm)(g,{ref:"styleSettingRef",env:a.env,onCallback:a.saveEnv},null,8,["env","onCallback"]),(0,i.Wm)(c,{ref:"fileBlockRef",sshKey:a.sshKey},null,8,["sshKey"])],64)}var S=n(7071),A=n(4870),E=n(8082),b=n.n(E);const D="P5P1SIqVe6kaOxMX";function x(e){var l=b().enc.Utf8.parse(D),n=b().enc.Utf8.parse(e),t=b().AES.encrypt(n,l,{mode:b().mode.ECB,padding:b().pad.Pkcs7});return t.toString()}function B(e){var l=b().enc.Utf8.parse(D),n=b().AES.decrypt(e,l,{mode:b().mode.ECB,padding:b().pad.Pkcs7});return b().enc.Utf8.stringify(n).toString()}var Q=n(6537),J=n(7114);const U={server_ip:"",server_port:22,server_user:"root",server_password:"",bg:"#000000",fg:"#ECECEC",fontFamily:"Monospace",fontSize:16,cursorStyle:"block",cursorBlink:!0};let T=window.location.protocol,W="";W="https:"==T?"wss://":"ws://";const F=W+window.location.host+"/socket/ssh/",j=T+"//"+window.location.host+"/api";function H(e){let l="";for(let n=0;n<e.length;n++)"/"!=e[n]?l+=e[n]:l+="@";return l}var R=n(7139);const V=e=>((0,i.dD)("data-v-3b5094ac"),e=e(),(0,i.Cn)(),e),M=V((()=>(0,i._)("div",{style:{"margin-top":"-15px"}},null,-1))),z={class:"item-class",style:{"margin-bottom":"15px"}},P=V((()=>(0,i._)("div",null,"主机ip：",-1))),K={class:"item-class",style:{"margin-bottom":"15px"}},O=V((()=>(0,i._)("div",null,"端口号：",-1))),L={class:"item-class",style:{"margin-bottom":"15px"}},Y=V((()=>(0,i._)("div",null,"用户名：",-1))),Z={class:"item-class",style:{"margin-bottom":"5px"}},N=V((()=>(0,i._)("div",null,"密   码：",-1))),G={class:"errInfo"},q=V((()=>(0,i._)("div",{style:{"margin-bottom":"5px"}},null,-1))),X={style:{display:"flex","border-top":"1px solid #f1f2f4"}},$=V((()=>(0,i._)("div",{style:{flex:"1"}},null,-1)));function ee(e,l,n,t,a,o){const s=(0,i.up)("HomeFilled"),r=(0,i.up)("el-icon"),u=(0,i.up)("el-input"),c=(0,i.up)("Paperclip"),d=(0,i.up)("User"),v=(0,i.up)("Lock"),p=(0,i.up)("el-button"),g=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.j4)(g,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[4]||(l[4]=e=>t.DialogVisilble=e),"destroy-on-close":"",width:360,title:"连接设置",modal:!1,draggable:""},{default:(0,i.w5)((()=>[M,(0,i._)("div",null,[(0,i._)("div",z,[P,(0,i._)("div",null,[(0,i.Wm)(u,{modelValue:t.setInfo.server_ip,"onUpdate:modelValue":l[0]||(l[0]=e=>t.setInfo.server_ip=e),class:"w-50 m-2",placeholder:"输入主机ip"},{prefix:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s)])),_:1})])),_:1},8,["modelValue"])])]),(0,i._)("div",K,[O,(0,i._)("div",null,[(0,i.Wm)(u,{modelValue:t.setInfo.server_port,"onUpdate:modelValue":l[1]||(l[1]=e=>t.setInfo.server_port=e),class:"w-50 m-2",placeholder:"输入端口号"},{prefix:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:1})])),_:1},8,["modelValue"])])]),(0,i._)("div",L,[Y,(0,i._)("div",null,[(0,i.Wm)(u,{modelValue:t.setInfo.server_user,"onUpdate:modelValue":l[2]||(l[2]=e=>t.setInfo.server_user=e),class:"w-50 m-2",placeholder:"输入用户名"},{prefix:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"el-input__icon"},{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1})])),_:1},8,["modelValue"])])]),(0,i._)("div",Z,[N,(0,i._)("div",null,[(0,i.Wm)(u,{modelValue:t.setInfo.server_password,"onUpdate:modelValue":l[3]||(l[3]=e=>t.setInfo.server_password=e),type:"password",class:"w-50 m-2",placeholder:"输入密码"},{prefix:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"el-input__icon"},{default:(0,i.w5)((()=>[(0,i.Wm)(v)])),_:1})])),_:1},8,["modelValue"])])])]),(0,i._)("div",G,(0,R.zw)(t.err_msg),1),q,(0,i._)("div",X,[$,(0,i.Wm)(p,{size:"small",type:"primary",onClick:t.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,i.w5)((()=>[(0,i.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var le={name:"ConnectSetting",components:{},props:["env"],setup(e,l){const n=(0,A.iH)(!1),t=(0,A.iH)(""),i=(0,A.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password}),a=()=>{l.emit("callback",i.value),n.value=!1};return{setInfo:i,DialogVisilble:n,err_msg:t,confirm:a}}},ne=n(89);const te=(0,ne.Z)(le,[["render",ee],["__scopeId","data-v-3b5094ac"]]);var ie=te;const ae=e=>((0,i.dD)("data-v-321e5aec"),e=e(),(0,i.Cn)(),e),oe=ae((()=>(0,i._)("div",{style:{"margin-top":"-15px"}},null,-1))),se={class:"item-class",style:{"margin-bottom":"15px"}},re=ae((()=>(0,i._)("div",{style:{"margin-right":"10px"}},"颜色：",-1))),ue={class:"item-class"},ce=ae((()=>(0,i._)("div",null,"背景色",-1))),de={style:{margin:"0 20px"}},ve=ae((()=>(0,i._)("div",{style:{width:"20px"}},null,-1))),pe={class:"item-class"},ge=ae((()=>(0,i._)("div",null,"前景色",-1))),me={style:{margin:"0 20px"}},fe={class:"item-class",style:{"margin-bottom":"15px"}},we=ae((()=>(0,i._)("div",{style:{"margin-right":"10px"}},"文本：",-1))),ye={class:"item-class"},ke=ae((()=>(0,i._)("div",null,"字体",-1))),he={class:"a-link"},_e={class:"item-class"},Ce=ae((()=>(0,i._)("div",null,"字号",-1))),Ie={class:"a-link"},Se={class:"item-class",style:{"margin-bottom":"5px"}},Ae=ae((()=>(0,i._)("div",{style:{"margin-right":"10px"}},"光标：",-1))),Ee={class:"item-class"},be=ae((()=>(0,i._)("div",null,"样式",-1))),De={class:"a-link"},xe={class:"item-class"},Be=ae((()=>(0,i._)("div",null,"闪烁",-1))),Qe={style:{margin:"0 20px"}},Je={class:"errInfo"},Ue=ae((()=>(0,i._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Te={style:{display:"flex","border-top":"1px solid #f1f2f4"}},We=ae((()=>(0,i._)("div",{style:{flex:"1"}},null,-1)));function Fe(e,l,n,t,a,o){const s=(0,i.up)("el-color-picker"),r=(0,i.up)("arrow-down"),u=(0,i.up)("el-icon"),c=(0,i.up)("el-dropdown-item"),d=(0,i.up)("el-dropdown-menu"),v=(0,i.up)("el-dropdown"),p=(0,i.up)("el-switch"),g=(0,i.up)("el-button"),m=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.j4)(m,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[3]||(l[3]=e=>t.DialogVisilble=e),"destroy-on-close":"",width:420,title:"样式设置",modal:!1,draggable:""},{default:(0,i.w5)((()=>[oe,(0,i._)("div",null,[(0,i._)("div",se,[re,(0,i._)("div",ue,[ce,(0,i._)("div",de,[(0,i.Wm)(s,{modelValue:t.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>t.setInfo.bg=e)},null,8,["modelValue"])])]),ve,(0,i._)("div",pe,[ge,(0,i._)("div",me,[(0,i.Wm)(s,{modelValue:t.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>t.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,i._)("div",fe,[we,(0,i._)("div",ye,[ke,(0,i.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.fontFamilyList,((e,l)=>((0,i.wg)(),(0,i.j4)(c,{key:l,onClick:l=>t.setInfo.fontFamily=e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,R.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",he,[(0,i.Uk)((0,R.zw)(t.setInfo.fontFamily),1),(0,i.Wm)(u,{class:"el-icon--right"},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})])])),_:1})]),(0,i._)("div",_e,[Ce,(0,i.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.fontSizeList,((e,l)=>((0,i.wg)(),(0,i.j4)(c,{key:l,onClick:l=>t.setInfo.fontSize=e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,R.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",Ie,[(0,i.Uk)((0,R.zw)(t.setInfo.fontSize),1),(0,i.Wm)(u,{class:"el-icon--right"},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})])])),_:1})])]),(0,i._)("div",Se,[Ae,(0,i._)("div",Ee,[be,(0,i.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.cursorStyleList,((e,l)=>((0,i.wg)(),(0,i.j4)(c,{key:l,onClick:l=>t.setInfo.cursorStyle=e},{default:(0,i.w5)((()=>[(0,i.Uk)((0,R.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",De,[(0,i.Uk)((0,R.zw)(t.setInfo.cursorStyle),1),(0,i.Wm)(u,{class:"el-icon--right"},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})])])),_:1})]),(0,i._)("div",xe,[Be,(0,i._)("div",Qe,[(0,i.Wm)(p,{modelValue:t.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>t.setInfo.cursorBlink=e)},null,8,["modelValue"])])])])]),(0,i._)("div",Je,(0,R.zw)(t.err_msg),1),Ue,(0,i._)("div",Te,[We,(0,i.Wm)(g,{size:"small",type:"primary",onClick:t.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,i.w5)((()=>[(0,i.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var je={name:"StyleSetting",components:{},props:["env"],setup(e,l){const n=(0,A.iH)(!1),t=(0,A.iH)(""),i=["Monospace","Consolas","Courier","Liberation Mono"],a=[12,14,16,18,20],o=["block","underline","bar"],s=(0,A.iH)({bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink}),r=()=>{l.emit("callback",s.value),n.value=!1};return{fontFamilyList:i,fontSizeList:a,cursorStyleList:o,setInfo:s,DialogVisilble:n,err_msg:t,confirm:r}}};const He=(0,ne.Z)(je,[["render",Fe],["__scopeId","data-v-321e5aec"]]);var Re=He;const Ve=e=>((0,i.dD)("data-v-1be68164"),e=e(),(0,i.Cn)(),e),Me=Ve((()=>(0,i._)("div",{style:{"margin-top":"-15px"}},null,-1))),ze={class:"title",style:{display:"flex","align-items":"center"}},Pe={style:{flex:"1","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Ke={key:0},Oe={style:{display:"flex","align-items":"center"}},Le={class:"list-class no-select"},Ye={key:0},Ze=["onClick","onDblclick"],Ne={style:{margin:"0 10px"}},Ge=["onClick","onDblclick"],qe={style:{margin:"0 10px"}},Xe={key:1};function $e(e,l,n,t,a,o){const s=(0,i.up)("el-input"),r=(0,i.up)("Refresh"),u=(0,i.up)("el-icon"),c=(0,i.up)("Fold"),d=(0,i.up)("Download"),v=(0,i.up)("Upload"),p=(0,i.up)("el-upload"),g=(0,i.up)("FileIcons"),m=(0,i.up)("NoData"),f=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.j4)(f,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[6]||(l[6]=e=>t.DialogVisilble=e),"before-close":t.closeDialog,title:"文件管理",width:"50%",draggable:""},{default:(0,i.w5)((()=>[Me,(0,i._)("div",null,[(0,i._)("div",ze,[(0,i._)("div",Pe,[1==t.isShowDirInput?((0,i.wg)(),(0,i.iD)("div",Ke,[(0,i.Wm)(s,{modelValue:t.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>t.dir=e),placeholder:"输入目录路径",size:"small",onChange:t.dirInputCallback},null,8,["modelValue","onChange"])])):((0,i.wg)(),(0,i.iD)("div",{key:1,onDblclick:l[1]||(l[1]=e=>t.isShowDirInput=!0)},(0,R.zw)(t.dir),33))]),(0,i._)("div",Oe,[(0,i._)("div",{class:"hover-class",onClick:l[2]||(l[2]=(...e)=>t.doRefresh&&t.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})]),(0,i._)("div",{class:"hover-class",onClick:l[3]||(l[3]=(...e)=>t.doReturn&&t.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:1})]),(0,i._)("div",{class:"hover-class",onClick:l[4]||(l[4]=(...e)=>t.doDownload&&t.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1})]),(0,i._)("div",{class:"hover-class",onClick:l[5]||(l[5]=(...e)=>t.doUpload&&t.doUpload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,i.Wm)(p,{"show-file-list":!1,"with-credentials":!0,"http-request":t.doUpload},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v)])),_:1})])),_:1},8,["http-request"])])])]),(0,i._)("div",Le,[0!=t.files.length?((0,i.wg)(),(0,i.iD)("div",Ye,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.files,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.name},[1==e.isDirectory?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,R.C_)(["item-class",t.aimFileInfo&&e.name==t.aimFileInfo.name?"item-selected":""]),onClick:l=>t.aimFileInfo=e,onDblclick:l=>t.changeDir(t.dir+e.name+"/")},[(0,i.Wm)(g,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,i._)("div",Ne,(0,R.zw)(e.name),1)],42,Ze)):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,R.C_)(["item-class",t.aimFileInfo&&e.name==t.aimFileInfo.name?"item-selected":""]),onClick:l=>t.aimFileInfo=e,onDblclick:l=>t.downloadFile(e.name)},[(0,i.Wm)(g,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,i._)("div",qe,(0,R.zw)(e.name),1)],42,Ge))])))),128))])):((0,i.wg)(),(0,i.iD)("div",Xe,[(0,i.Wm)(m,{msg:t.noDataMsg},null,8,["msg"])]))])])])),_:1},8,["modelValue","before-close"])}var el=n(7387),ll=n.n(el),nl=n(7178),tl=n.p+"img/no_data.ec5c928e.png";const il=e=>((0,i.dD)("data-v-170687cc"),e=e(),(0,i.Cn)(),e),al={class:"no-data"},ol=il((()=>(0,i._)("div",null,[(0,i._)("img",{src:tl,alt:"暂无数据",style:{width:"120px"}})],-1))),sl={class:"msg"};function rl(e,l,n,t,a,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.WI)(e.$slots,"forMid",{},void 0,!0),(0,i._)("div",al,[(0,i._)("div",null,[ol,(0,i._)("div",sl,(0,R.zw)(n.msg),1)])])],64)}var ul={name:"NoData",components:{},props:{msg:String}};const cl=(0,ne.Z)(ul,[["render",rl],["__scopeId","data-v-170687cc"]]);var dl=cl,vl=n(3223),pl=n.n(vl),gl={name:"FileBlock",components:{NoData:dl,FileIcons:pl()},props:["sshKey"],setup(e){const l=(0,A.iH)(null),n=(0,A.iH)(!1),t=(0,A.iH)(""),i=()=>{""==t.value&&ll().ajax({url:j+"/pwd",type:"get",data:{sshKey:e.sshKey},success(e){t.value=e.data.path,""!=t.value&&"/"==t.value[0]||(t.value="/"+t.value),"/"!=t.value[t.value.length-1]&&(t.value=t.value+"/"),t.value=t.value.replace(/\/{2,}/g,"/"),l.value=null,s()}})},a=(0,A.iH)([]),o=(0,A.iH)("暂无文件"),s=()=>{ll().ajax({url:j+"/ls",type:"get",data:{sshKey:e.sshKey,path:t.value},success(e){"success"==e.status?(a.value=e.data.files,o.value="暂无文件"):(a.value=[],o.value=e.info,(0,nl.z8)({message:e.info,type:e.status}))}})},r=l=>{if(1==n.value)return;let i=document.createElement("a");i.href=j+"/download/"+l+"?sshKey="+e.sshKey+"&path="+t.value,document.body.appendChild(i),i.click(),document.body.removeChild(i)},u=e=>{1!=n.value&&(t.value=e,l.value=null,s())},c=()=>{n.value=!1,""!=t.value&&"/"==t.value[0]||(t.value="/"+t.value),"/"!=t.value[t.value.length-1]&&(t.value=t.value+"/"),t.value=t.value.replace(/\/{2,}/g,"/"),l.value=null,s()},d=()=>{n.value=!1,s()},v=()=>{if(1==n.value)return;if("/"==t.value)return;"/"==t.value[t.value.length-1]&&(t.value=t.value.substring(0,t.value.length-1));let e=t.value.lastIndexOf("/");-1!=e&&(t.value=t.value.substring(0,e+1)),l.value=null,d()},p=()=>{1!=n.value&&l.value&&l.value.name&&!l.value.isDirectory&&r(l.value.name)},g=529408,m=async l=>{if(1==n.value)return;let i=l.file;if(!i)return;const a=i.name,o=i.size,s=parseInt(Math.ceil(o/g)),r=i.uid;let u=1;const c=t.value;for(let n=u;n<=s;n++){let l=(n-1)*g,t=l+g>=o?o:l+g,u=i.slice(l,t),d=new FormData;d.append("file",u),d.append("fileName",a),d.append("chunks",s),d.append("chunk",n),d.append("totalSize",o),d.append("id",r),d.append("sshKey",e.sshKey),d.append("path",c),await ll().ajax({url:j+"/upload",type:"post",data:d,contentType:!1,processData:!1,success(e){202==e.code?(0,nl.z8)({message:e.info,type:e.status}):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,nl.z8)({message:e.info,type:e.status}),n=s+1)}})}},f=(0,A.iH)(!1),w=e=>{e()};return{DialogVisilble:f,closeDialog:w,isShowDirInput:n,dir:t,files:a,getInitDir:i,getDirList:s,downloadFile:r,changeDir:u,dirInputCallback:c,noDataMsg:o,doRefresh:d,doReturn:v,doDownload:p,doUpload:m,aimFileInfo:l}}};const ml=(0,ne.Z)(gl,[["render",$e],["__scopeId","data-v-1be68164"]]);var fl=ml,wl={name:"FrameWork",components:{ConnectSetting:ie,StyleSetting:Re,FileBlock:fl},setup(){const{toClipboard:e}=(0,S.Z)(),l=new J.FitAddon,n=(0,A.iH)(null),t=()=>{localStorage.getItem("env")?n.value=JSON.parse(B(localStorage.getItem("env"))):n.value=U};t();const a=(0,A.iH)({Fail:"Fail to connect kk server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to kk server ...\r\n",Disconnected:"Disconnect to kk server.\r\n"}),o=(0,A.iH)(a.value["Connecting"]),s=(0,A.iH)();let r=null;const u=(0,A.iH)(!0),c=()=>{r=new Q.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:n.value.cursorStyle,cursorBlink:n.value.cursorBlink,theme:{foreground:n.value.fg,background:n.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:n.value.fontFamily,fontSize:n.value.fontSize}),r.loadAddon(l)},d=()=>{if(s.value.style.height=window.innerHeight-27+"px",l.fit(),p.value&&p.value.readyState==WebSocket.OPEN&&r){let e=l.proposeDimensions().rows,n=l.proposeDimensions().cols;p.value.send(x(JSON.stringify({type:1,content:"",rows:e,cols:n}))),r.resize(n,e)}},v=(0,A.iH)(""),p=(0,A.iH)(null),g=()=>{p.value=new WebSocket(F+H(x(JSON.stringify(n.value)))),p.value.onopen=()=>{d()},p.value.onmessage=e=>{let l=JSON.parse(e.data);-1==l.code&&(r.clear(),o.value=a.value["Fail"],r.write(o.value),n.value.server_ip&&""!=n.value.server_ip||I(1)),0==l.code&&(r.clear(),o.value=a.value["Success"],v.value=B(l.info)),1==l.code&&(r.write(B(l.info)),r.options.scrollback+=r._core.buffer.lines.length)},p.value.onclose=()=>{o.value==a.value["Success"]&&(o.value=a.value["Disconnected"],r.write("\r\n"+o.value))}},m=(0,A.iH)(!1),f=()=>{m.value=!m.value},w=(0,A.iH)(),y=(0,A.iH)(),k=(0,A.iH)(),h=e=>{n.value={...n.value,...e},localStorage.setItem("env",x(JSON.stringify(n.value))),I(3)},_=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();p.value&&p.value.send(x(JSON.stringify({type:0,content:l,rows:0,cols:0})))},C=()=>{r&&s.value&&s.value.removeEventListener("contextmenu",_),s.value.innerHTML="",u.value=!0,t(),c(),r.open(s.value),d(),r.onKey((e=>{p.value&&(u.value&&(d(),u.value=!1),p.value.send(x(JSON.stringify({type:0,content:e.key,rows:0,cols:0}))))})),r.onSelectionChange((async()=>{if(r.hasSelection()){let l=r.getSelection(),n=l.trim();n&&""!=n&&await e(l)}})),s.value.addEventListener("contextmenu",_),s.value.addEventListener("click",(function(e){e.preventDefault(),m.value=!1})),r.write(o.value)},I=e=>{1==e?(m.value=!1,w.value.DialogVisilble=!0):2==e?(m.value=!1,y.value.DialogVisilble=!0):3==e?(m.value=!1,o.value=a.value["Connecting"],p.value&&p.value.close(),g(),C()):4==e&&(m.value=!1,k.value.DialogVisilble=!0,k.value.getInitDir())};let E=null;const b=()=>{null==E&&(E=setInterval((()=>{p.value&&p.value.readyState==WebSocket.OPEN&&p.value.send(x(JSON.stringify({type:2,content:"",rows:0,cols:0})))}),25e3))};return(0,i.bv)((()=>{g(),C(),window.addEventListener("resize",(()=>{d()})),b()})),(0,i.Ah)((()=>{E&&clearInterval(E)})),{env:n,now_connect_status:o,terminal:s,doSSHConnect:g,socket:p,showSettings:f,isShowSetting:m,doSettings:I,connectSettingRef:w,styleSettingRef:y,fileBlockRef:k,saveEnv:h,sshKey:v,doHeartBeat:b}}};const yl=(0,ne.Z)(wl,[["render",I],["__scopeId","data-v-23892656"]]);var kl=yl,hl={name:"App",components:{FrameWork:kl}};const _l=(0,ne.Z)(hl,[["render",a]]);var Cl=_l,Il=n(7866),Sl=(n(4415),n(812)),Al=n(2748);const El=(0,t.ri)(Cl);El.use(Il.Z,{locale:Sl.Z}),El.config.globalProperties.$ELEMENT={size:"small"};for(const[bl,Dl]of Object.entries(Al))El.component(bl,Dl);El.mount("#app"),ll().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(B(e.data))),JSON.stringify(e)}}),El.config.warnHandler=()=>{}},2480:function(){}},l={};function n(t){var i=l[t];if(void 0!==i)return i.exports;var a=l[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(l,t,i,a){if(!t){var o=1/0;for(c=0;c<e.length;c++){t=e[c][0],i=e[c][1],a=e[c][2];for(var s=!0,r=0;r<t.length;r++)(!1&a||o>=a)&&Object.keys(n.O).every((function(e){return n.O[e](t[r])}))?t.splice(r--,1):(s=!1,a<o&&(o=a));if(s){e.splice(c--,1);var u=i();void 0!==u&&(l=u)}}return l}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,i,a]}}(),function(){n.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(l,{a:l}),l}}(),function(){n.d=function(e,l){for(var t in l)n.o(l,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(l){return 0===e[l]};var l=function(l,t){var i,a,o=t[0],s=t[1],r=t[2],u=0;if(o.some((function(l){return 0!==e[l]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(r)var c=r(n)}for(l&&l(t);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},t=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(4451)}));t=n.O(t)})();
//# sourceMappingURL=app.b329550b.js.map