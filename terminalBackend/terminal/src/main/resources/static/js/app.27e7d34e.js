(function(){var e={2605:function(e,l,n){"use strict";var t=n(9242),a=n(3396);function o(e,l,n,t,o,i){const s=(0,a.up)("FrameWork");return(0,a.wg)(),(0,a.j4)(s)}var i="data:image/png;base64,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";const s=e=>((0,a.dD)("data-v-379dea0b"),e=e(),(0,a.Cn)(),e),r={class:"golbal"},u={class:"setting"},c=s((()=>(0,a._)("div",null,"连接设置",-1))),d=[c],v=s((()=>(0,a._)("div",null,"偏好设置",-1))),p=[v],g=s((()=>(0,a._)("div",null,"文件管理",-1))),m=[g],f=s((()=>(0,a._)("div",null,"重启",-1))),y=[f],w={class:"bar"},k=s((()=>(0,a._)("img",{src:i,alt:"终端",style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,-1))),C=[k],_=s((()=>(0,a._)("div",{style:{"user-select":"none","font-size":"14px"}},[(0,a._)("span",null,"kk Terminal")],-1))),E={ref:"terminal",class:"terminal-class"};function I(e,l,n,o,i,s){const c=(0,a.up)("ConnectSetting"),v=(0,a.up)("StyleSetting"),g=(0,a.up)("FileBlock");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",r,[(0,a.wy)((0,a._)("div",u,[(0,a._)("div",{class:"setting-menu",onClick:l[0]||(l[0]=e=>o.doSettings(1))},d),(0,a._)("div",{class:"setting-menu",onClick:l[1]||(l[1]=e=>o.doSettings(2))},p),(0,a._)("div",{class:"setting-menu",onClick:l[2]||(l[2]=e=>o.doSettings(4))},m),(0,a._)("div",{class:"setting-menu",onClick:l[3]||(l[3]=e=>o.doSettings(3))},y)],512),[[t.F8,o.isShowSetting]]),(0,a._)("div",w,[(0,a._)("div",{style:{"user-select":"none"},onClick:l[4]||(l[4]=(...e)=>o.showSettings&&o.showSettings(...e))},C),_]),(0,a._)("div",E,null,512)]),(0,a.Wm)(c,{ref:"connectSettingRef",env:o.env,onCallback:o.saveEnv},null,8,["env","onCallback"]),(0,a.Wm)(v,{ref:"styleSettingRef",env:o.env,onCallback:o.saveEnv},null,8,["env","onCallback"]),(0,a.Wm)(g,{ref:"fileBlockRef",sshKey:o.sshKey},null,8,["sshKey"])],64)}var h=n(7071),S=n(4870),B=n(8082),A=n.n(B);const b="P5P1SIqVe6kaOxMX";function D(e){var l=A().enc.Utf8.parse(b),n=A().enc.Utf8.parse(e),t=A().AES.encrypt(n,l,{mode:A().mode.ECB,padding:A().pad.Pkcs7});return t.toString()}function x(e){var l=A().enc.Utf8.parse(b),n=A().AES.decrypt(e,l,{mode:A().mode.ECB,padding:A().pad.Pkcs7});return A().enc.Utf8.stringify(n).toString()}var Q=n(6537),V=n(7114);const H={server_ip:"",server_port:22,server_user:"root",server_password:"",bg:"#0c0c0c",fg:"#f2f2f2",fontFamily:"Monospace",fontSize:16,cursorStyle:"block",cursorBlink:!0};let F=window.location.protocol,U="";U="https:"==F?"wss://":"ws://";const W=U+window.location.host+"/socket/ssh/",J=F+"//"+window.location.host+"/api";function O(e){let l="";for(let n=0;n<e.length;n++)"/"!=e[n]?l+=e[n]:l+="@";return l}var z=n(7139);const M=e=>((0,a.dD)("data-v-3b5094ac"),e=e(),(0,a.Cn)(),e),j=M((()=>(0,a._)("div",{style:{"margin-top":"-15px"}},null,-1))),N={class:"item-class",style:{"margin-bottom":"15px"}},R=M((()=>(0,a._)("div",null,"主机ip：",-1))),T={class:"item-class",style:{"margin-bottom":"15px"}},G=M((()=>(0,a._)("div",null,"端口号：",-1))),P={class:"item-class",style:{"margin-bottom":"15px"}},Z=M((()=>(0,a._)("div",null,"用户名：",-1))),q={class:"item-class",style:{"margin-bottom":"5px"}},K=M((()=>(0,a._)("div",null,"密   码：",-1))),Y={class:"errInfo"},L=M((()=>(0,a._)("div",{style:{"margin-bottom":"5px"}},null,-1))),X={style:{display:"flex","border-top":"1px solid #f1f2f4"}},$=M((()=>(0,a._)("div",{style:{flex:"1"}},null,-1)));function ee(e,l,n,t,o,i){const s=(0,a.up)("HomeFilled"),r=(0,a.up)("el-icon"),u=(0,a.up)("el-input"),c=(0,a.up)("Paperclip"),d=(0,a.up)("User"),v=(0,a.up)("Lock"),p=(0,a.up)("el-button"),g=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.j4)(g,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[4]||(l[4]=e=>t.DialogVisilble=e),"destroy-on-close":"",width:360,title:"连接设置",modal:!1,draggable:""},{default:(0,a.w5)((()=>[j,(0,a._)("div",null,[(0,a._)("div",N,[R,(0,a._)("div",null,[(0,a.Wm)(u,{modelValue:t.setInfo.server_ip,"onUpdate:modelValue":l[0]||(l[0]=e=>t.setInfo.server_ip=e),class:"w-50 m-2",placeholder:"输入主机ip"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1})])),_:1},8,["modelValue"])])]),(0,a._)("div",T,[G,(0,a._)("div",null,[(0,a.Wm)(u,{modelValue:t.setInfo.server_port,"onUpdate:modelValue":l[1]||(l[1]=e=>t.setInfo.server_port=e),class:"w-50 m-2",placeholder:"输入端口号"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})])),_:1},8,["modelValue"])])]),(0,a._)("div",P,[Z,(0,a._)("div",null,[(0,a.Wm)(u,{modelValue:t.setInfo.server_user,"onUpdate:modelValue":l[2]||(l[2]=e=>t.setInfo.server_user=e),class:"w-50 m-2",placeholder:"输入用户名"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"el-input__icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(d)])),_:1})])),_:1},8,["modelValue"])])]),(0,a._)("div",q,[K,(0,a._)("div",null,[(0,a.Wm)(u,{modelValue:t.setInfo.server_password,"onUpdate:modelValue":l[3]||(l[3]=e=>t.setInfo.server_password=e),type:"password",class:"w-50 m-2",placeholder:"输入密码"},{prefix:(0,a.w5)((()=>[(0,a.Wm)(r,{class:"el-input__icon"},{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})])),_:1},8,["modelValue"])])])]),(0,a._)("div",Y,(0,z.zw)(t.err_msg),1),L,(0,a._)("div",X,[$,(0,a.Wm)(p,{size:"small",type:"primary",onClick:t.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var le={name:"ConnectSetting",components:{},props:["env"],setup(e,l){const n=(0,S.iH)(!1),t=(0,S.iH)(""),a=(0,S.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password}),o=()=>{l.emit("callback",a.value),n.value=!1};return{setInfo:a,DialogVisilble:n,err_msg:t,confirm:o}}},ne=n(89);const te=(0,ne.Z)(le,[["render",ee],["__scopeId","data-v-3b5094ac"]]);var ae=te;const oe=e=>((0,a.dD)("data-v-321e5aec"),e=e(),(0,a.Cn)(),e),ie=oe((()=>(0,a._)("div",{style:{"margin-top":"-15px"}},null,-1))),se={class:"item-class",style:{"margin-bottom":"15px"}},re=oe((()=>(0,a._)("div",{style:{"margin-right":"10px"}},"颜色：",-1))),ue={class:"item-class"},ce=oe((()=>(0,a._)("div",null,"背景色",-1))),de={style:{margin:"0 20px"}},ve=oe((()=>(0,a._)("div",{style:{width:"20px"}},null,-1))),pe={class:"item-class"},ge=oe((()=>(0,a._)("div",null,"前景色",-1))),me={style:{margin:"0 20px"}},fe={class:"item-class",style:{"margin-bottom":"15px"}},ye=oe((()=>(0,a._)("div",{style:{"margin-right":"10px"}},"文本：",-1))),we={class:"item-class"},ke=oe((()=>(0,a._)("div",null,"字体",-1))),Ce={class:"a-link"},_e={class:"item-class"},Ee=oe((()=>(0,a._)("div",null,"字号",-1))),Ie={class:"a-link"},he={class:"item-class",style:{"margin-bottom":"5px"}},Se=oe((()=>(0,a._)("div",{style:{"margin-right":"10px"}},"光标：",-1))),Be={class:"item-class"},Ae=oe((()=>(0,a._)("div",null,"样式",-1))),be={class:"a-link"},De={class:"item-class"},xe=oe((()=>(0,a._)("div",null,"闪烁",-1))),Qe={style:{margin:"0 20px"}},Ve={class:"errInfo"},He=oe((()=>(0,a._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Fe={style:{display:"flex","border-top":"1px solid #f1f2f4"}},Ue=oe((()=>(0,a._)("div",{style:{flex:"1"}},null,-1)));function We(e,l,n,t,o,i){const s=(0,a.up)("el-color-picker"),r=(0,a.up)("arrow-down"),u=(0,a.up)("el-icon"),c=(0,a.up)("el-dropdown-item"),d=(0,a.up)("el-dropdown-menu"),v=(0,a.up)("el-dropdown"),p=(0,a.up)("el-switch"),g=(0,a.up)("el-button"),m=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.j4)(m,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[3]||(l[3]=e=>t.DialogVisilble=e),"destroy-on-close":"",width:420,title:"样式设置",modal:!1,draggable:""},{default:(0,a.w5)((()=>[ie,(0,a._)("div",null,[(0,a._)("div",se,[re,(0,a._)("div",ue,[ce,(0,a._)("div",de,[(0,a.Wm)(s,{modelValue:t.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>t.setInfo.bg=e)},null,8,["modelValue"])])]),ve,(0,a._)("div",pe,[ge,(0,a._)("div",me,[(0,a.Wm)(s,{modelValue:t.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>t.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,a._)("div",fe,[ye,(0,a._)("div",we,[ke,(0,a.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.fontFamilyList,((e,l)=>((0,a.wg)(),(0,a.j4)(c,{key:l,onClick:l=>t.setInfo.fontFamily=e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,z.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("span",Ce,[(0,a.Uk)((0,z.zw)(t.setInfo.fontFamily),1),(0,a.Wm)(u,{class:"el-icon--right"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])])),_:1})]),(0,a._)("div",_e,[Ee,(0,a.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.fontSizeList,((e,l)=>((0,a.wg)(),(0,a.j4)(c,{key:l,onClick:l=>t.setInfo.fontSize=e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,z.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("span",Ie,[(0,a.Uk)((0,z.zw)(t.setInfo.fontSize),1),(0,a.Wm)(u,{class:"el-icon--right"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])])),_:1})])]),(0,a._)("div",he,[Se,(0,a._)("div",Be,[Ae,(0,a.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.cursorStyleList,((e,l)=>((0,a.wg)(),(0,a.j4)(c,{key:l,onClick:l=>t.setInfo.cursorStyle=e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,z.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,a.w5)((()=>[(0,a._)("span",be,[(0,a.Uk)((0,z.zw)(t.setInfo.cursorStyle),1),(0,a.Wm)(u,{class:"el-icon--right"},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})])])),_:1})]),(0,a._)("div",De,[xe,(0,a._)("div",Qe,[(0,a.Wm)(p,{modelValue:t.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>t.setInfo.cursorBlink=e)},null,8,["modelValue"])])])])]),(0,a._)("div",Ve,(0,z.zw)(t.err_msg),1),He,(0,a._)("div",Fe,[Ue,(0,a.Wm)(g,{size:"small",type:"primary",onClick:t.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var Je={name:"StyleSetting",components:{},props:["env"],setup(e,l){const n=(0,S.iH)(!1),t=(0,S.iH)(""),a=["Monospace","Consolas","Courier","Liberation Mono"],o=[12,14,16,18,20],i=["block","underline","bar"],s=(0,S.iH)({bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink}),r=()=>{l.emit("callback",s.value),n.value=!1};return{fontFamilyList:a,fontSizeList:o,cursorStyleList:i,setInfo:s,DialogVisilble:n,err_msg:t,confirm:r}}};const Oe=(0,ne.Z)(Je,[["render",We],["__scopeId","data-v-321e5aec"]]);var ze=Oe;const Me=e=>((0,a.dD)("data-v-878b1d9e"),e=e(),(0,a.Cn)(),e),je=Me((()=>(0,a._)("div",{style:{"margin-top":"-15px"}},null,-1))),Ne={class:"title",style:{display:"flex","align-items":"center"}},Re={style:{flex:"1","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},Te={key:0},Ge={style:{display:"flex","align-items":"center"}},Pe={"element-loading-text":"Loading...",class:"list-class no-select"},Ze={key:0},qe=["onClick","onDblclick"],Ke={style:{margin:"0 10px"}},Ye=["onClick","onDblclick"],Le={style:{margin:"0 10px"}},Xe={key:1};function $e(e,l,n,t,o,i){const s=(0,a.up)("el-input"),r=(0,a.up)("Refresh"),u=(0,a.up)("el-icon"),c=(0,a.up)("Fold"),d=(0,a.up)("Download"),v=(0,a.up)("Upload"),p=(0,a.up)("el-upload"),g=(0,a.up)("FileIcons"),m=(0,a.up)("NoData"),f=(0,a.up)("el-dialog"),y=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.j4)(f,{modelValue:t.DialogVisilble,"onUpdate:modelValue":l[6]||(l[6]=e=>t.DialogVisilble=e),"before-close":t.closeDialog,title:"文件管理",width:"50%",draggable:""},{default:(0,a.w5)((()=>[je,(0,a._)("div",null,[(0,a._)("div",Ne,[(0,a._)("div",Re,[1==t.isShowDirInput?((0,a.wg)(),(0,a.iD)("div",Te,[(0,a.Wm)(s,{modelValue:t.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>t.dir=e),placeholder:"输入目录路径",size:"small",onChange:t.dirInputCallback},null,8,["modelValue","onChange"])])):((0,a.wg)(),(0,a.iD)("div",{key:1,onDblclick:l[1]||(l[1]=e=>t.isShowDirInput=!0)},(0,z.zw)(t.dir),33))]),(0,a._)("div",Ge,[(0,a._)("div",{class:"hover-class",onClick:l[2]||(l[2]=(...e)=>t.doRefresh&&t.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1})]),(0,a._)("div",{class:"hover-class",onClick:l[3]||(l[3]=(...e)=>t.doReturn&&t.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})]),(0,a._)("div",{class:"hover-class",onClick:l[4]||(l[4]=(...e)=>t.doDownload&&t.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d)])),_:1})]),(0,a._)("div",{class:"hover-class",onClick:l[5]||(l[5]=(...e)=>t.doUpload&&t.doUpload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,a.Wm)(p,{"show-file-list":!1,"with-credentials":!0,"http-request":t.doUpload},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})])),_:1},8,["http-request"])])])]),(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",Pe,[0!=t.files.length?((0,a.wg)(),(0,a.iD)("div",Ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.files,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.name},[1==e.isDirectory?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,z.C_)(["item-class",t.aimFileInfo&&e.name==t.aimFileInfo.name?"item-selected":""]),onClick:l=>t.aimFileInfo=e,onDblclick:l=>t.changeDir(t.dir+e.name+"/")},[(0,a.Wm)(g,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,a._)("div",Ke,(0,z.zw)(e.name),1)],42,qe)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,z.C_)(["item-class",t.aimFileInfo&&e.name==t.aimFileInfo.name?"item-selected":""]),onClick:l=>t.aimFileInfo=e,onDblclick:l=>t.downloadFile(e.name)},[(0,a.Wm)(g,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,a._)("div",Le,(0,z.zw)(e.name),1)],42,Ye))])))),128))])):((0,a.wg)(),(0,a.iD)("div",Xe,[0==t.loading?((0,a.wg)(),(0,a.j4)(m,{key:0,msg:t.noDataMsg},null,8,["msg"])):(0,a.kq)("",!0)]))])),[[y,t.loading]])])])),_:1},8,["modelValue","before-close"])}var el=n(7387),ll=n.n(el),nl=n(7178),tl=n.p+"img/no_data.ec5c928e.png";const al=e=>((0,a.dD)("data-v-170687cc"),e=e(),(0,a.Cn)(),e),ol={class:"no-data"},il=al((()=>(0,a._)("div",null,[(0,a._)("img",{src:tl,alt:"暂无数据",style:{width:"120px"}})],-1))),sl={class:"msg"};function rl(e,l,n,t,o,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.WI)(e.$slots,"forMid",{},void 0,!0),(0,a._)("div",ol,[(0,a._)("div",null,[il,(0,a._)("div",sl,(0,z.zw)(n.msg),1)])])],64)}var ul={name:"NoData",components:{},props:{msg:String}};const cl=(0,ne.Z)(ul,[["render",rl],["__scopeId","data-v-170687cc"]]);var dl=cl,vl=n(3223),pl=n.n(vl),gl={name:"FileBlock",components:{NoData:dl,FileIcons:pl()},props:["sshKey"],setup(e){const l=(0,S.iH)(!0),n=(0,S.iH)(null),t=(0,S.iH)(!1),a=(0,S.iH)(""),o=()=>{""==a.value&&ll().ajax({url:J+"/pwd",type:"get",data:{sshKey:e.sshKey},success(e){a.value=e.data.path,""!=a.value&&"/"==a.value[0]||(a.value="/"+a.value),"/"!=a.value[a.value.length-1]&&(a.value=a.value+"/"),a.value=a.value.replace(/\/{2,}/g,"/"),n.value=null,r()}})},i=(0,S.iH)([]),s=(0,S.iH)("暂无文件"),r=()=>{let n=a.value;ll().ajax({url:J+"/ls",type:"get",data:{sshKey:e.sshKey,path:n},beforeSend:function(){l.value=!0,i.value=[]},success(e){n==a.value&&("success"==e.status?(i.value=e.data.files,s.value="暂无文件"):(i.value=[],s.value=e.info,(0,nl.z8)({message:e.info,type:e.status})))},complete:function(){n==a.value&&(l.value=!1)}})},u=l=>{if(1==t.value)return;let n=document.createElement("a");n.href=J+"/download/"+l+"?sshKey="+e.sshKey+"&path="+a.value,document.body.appendChild(n),n.click(),document.body.removeChild(n)},c=e=>{1!=t.value&&(a.value=e,n.value=null,r())},d=()=>{t.value=!1,""!=a.value&&"/"==a.value[0]||(a.value="/"+a.value),"/"!=a.value[a.value.length-1]&&(a.value=a.value+"/"),a.value=a.value.replace(/\/{2,}/g,"/"),n.value=null,r()},v=()=>{t.value=!1,r()},p=()=>{if(1==t.value)return;if("/"==a.value)return;"/"==a.value[a.value.length-1]&&(a.value=a.value.substring(0,a.value.length-1));let e=a.value.lastIndexOf("/");-1!=e&&(a.value=a.value.substring(0,e+1)),n.value=null,v()},g=()=>{1!=t.value&&n.value&&n.value.name&&!n.value.isDirectory&&u(n.value.name)},m=529408,f=async l=>{if(1==t.value)return;let n=l.file;if(!n)return;const o=n.name,i=n.size,s=parseInt(Math.ceil(i/m)),r=n.uid;let u=1;const c=a.value;for(let t=u;t<=s;t++){let l=(t-1)*m,a=l+m>=i?i:l+m,u=n.slice(l,a),d=new FormData;d.append("file",u),d.append("fileName",o),d.append("chunks",s),d.append("chunk",t),d.append("totalSize",i),d.append("id",r),d.append("sshKey",e.sshKey),d.append("path",c),await ll().ajax({url:J+"/upload",type:"post",data:d,contentType:!1,processData:!1,success(e){202==e.code?(0,nl.z8)({message:e.info,type:e.status}):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,nl.z8)({message:e.info,type:e.status}),t=s+1)}})}},y=(0,S.iH)(!1),w=e=>{e()};return{DialogVisilble:y,closeDialog:w,isShowDirInput:t,dir:a,files:i,getInitDir:o,getDirList:r,downloadFile:u,changeDir:c,dirInputCallback:d,noDataMsg:s,doRefresh:v,doReturn:p,doDownload:g,doUpload:f,aimFileInfo:n,loading:l}}};const ml=(0,ne.Z)(gl,[["render",$e],["__scopeId","data-v-878b1d9e"]]);var fl=ml,yl={name:"FrameWork",components:{ConnectSetting:ae,StyleSetting:ze,FileBlock:fl},setup(){const{toClipboard:e}=(0,h.Z)(),l=new V.FitAddon,n=(0,S.iH)(null),t=()=>{localStorage.getItem("env")?n.value=JSON.parse(x(localStorage.getItem("env"))):n.value=H};t();const o=(0,S.iH)({Fail:"Fail to connect kk server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to kk server ...\r\n",Disconnected:"Disconnect to kk server.\r\n"}),i=(0,S.iH)(o.value["Connecting"]),s=(0,S.iH)();let r=null;const u=(0,S.iH)(!0),c=()=>{r=new Q.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:n.value.cursorStyle,cursorBlink:n.value.cursorBlink,theme:{foreground:n.value.fg,background:n.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:n.value.fontFamily,fontSize:n.value.fontSize}),r.loadAddon(l)},d=()=>{if(s.value.style.height=window.innerHeight-25+"px",l.fit(),p.value&&p.value.readyState==WebSocket.OPEN&&r){let e=l.proposeDimensions().rows,n=l.proposeDimensions().cols;p.value.send(D(JSON.stringify({type:1,content:"",rows:e,cols:n}))),r.resize(n,e)}},v=(0,S.iH)(""),p=(0,S.iH)(null),g=()=>{p.value=new WebSocket(W+O(D(JSON.stringify(n.value)))),p.value.onopen=()=>{d()},p.value.onmessage=e=>{let l=JSON.parse(e.data);-1==l.code&&(r.clear(),i.value=o.value["Fail"],r.write(i.value),n.value.server_ip&&""!=n.value.server_ip||I(1)),0==l.code&&(r.clear(),i.value=o.value["Success"],v.value=x(l.info)),1==l.code&&(r.write(x(l.info)),r.options.scrollback+=r._core.buffer.lines.length)},p.value.onclose=()=>{i.value==o.value["Success"]&&(i.value=o.value["Disconnected"],r.write("\r\n"+i.value))}},m=(0,S.iH)(!1),f=()=>{m.value=!m.value},y=(0,S.iH)(),w=(0,S.iH)(),k=(0,S.iH)(),C=e=>{n.value={...n.value,...e},localStorage.setItem("env",D(JSON.stringify(n.value))),I(3)},_=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();p.value&&p.value.send(D(JSON.stringify({type:0,content:l,rows:0,cols:0})))},E=()=>{k.value.dir="",r&&s.value&&s.value.removeEventListener("contextmenu",_),s.value.innerHTML="",u.value=!0,t(),c(),r.open(s.value),d(),r.onKey((e=>{p.value&&(u.value&&(d(),u.value=!1),p.value.send(D(JSON.stringify({type:0,content:e.key,rows:0,cols:0}))))})),r.onSelectionChange((async()=>{if(r.hasSelection()){let l=r.getSelection(),n=l.trim();n&&""!=n&&await e(l)}})),s.value.addEventListener("contextmenu",_),s.value.addEventListener("click",(function(e){e.preventDefault(),m.value=!1})),r.write(i.value)},I=e=>{1==e?(m.value=!1,y.value.DialogVisilble=!0):2==e?(m.value=!1,w.value.DialogVisilble=!0):3==e?(m.value=!1,i.value=o.value["Connecting"],p.value&&p.value.close(),g(),E()):4==e&&(m.value=!1,k.value.DialogVisilble=!0,k.value.getInitDir())};let B=null;const A=()=>{null==B&&(B=setInterval((()=>{p.value&&p.value.readyState==WebSocket.OPEN&&p.value.send(D(JSON.stringify({type:2,content:"",rows:0,cols:0})))}),25e3))};return(0,a.bv)((()=>{g(),E(),window.addEventListener("resize",(()=>{d()})),A()})),(0,a.Ah)((()=>{B&&clearInterval(B)})),{env:n,now_connect_status:i,terminal:s,doSSHConnect:g,socket:p,showSettings:f,isShowSetting:m,doSettings:I,connectSettingRef:y,styleSettingRef:w,fileBlockRef:k,saveEnv:C,sshKey:v,doHeartBeat:A}}};const wl=(0,ne.Z)(yl,[["render",I],["__scopeId","data-v-379dea0b"]]);var kl=wl,Cl={name:"App",components:{FrameWork:kl}};const _l=(0,ne.Z)(Cl,[["render",o]]);var El=_l,Il=n(7866),hl=(n(4415),n(812)),Sl=n(2748);const Bl=(0,t.ri)(El);Bl.use(Il.Z,{locale:hl.Z}),Bl.config.globalProperties.$ELEMENT={size:"small"};for(const[Al,bl]of Object.entries(Sl))Bl.component(Al,bl);Bl.mount("#app"),ll().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(x(e.data))),JSON.stringify(e)}}),Bl.config.warnHandler=()=>{}},2480:function(){}},l={};function n(t){var a=l[t];if(void 0!==a)return a.exports;var o=l[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(l,t,a,o){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,r=0;r<t.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](t[r])}))?t.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(c--,1);var u=a();void 0!==u&&(l=u)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,a,o]}}(),function(){n.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(l,{a:l}),l}}(),function(){n.d=function(e,l){for(var t in l)n.o(l,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(l){return 0===e[l]};var l=function(l,t){var a,o,i=t[0],s=t[1],r=t[2],u=0;if(i.some((function(l){return 0!==e[l]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(r)var c=r(n)}for(l&&l(t);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},t=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=n.O(void 0,[998],(function(){return n(2605)}));t=n.O(t)})();
//# sourceMappingURL=app.27e7d34e.js.map