(function(){var e={673:function(e,l,a){"use strict";var i=a(9242),t=a(3396);function n(e,l,a,i,n,o){const s=(0,t.up)("FrameWork");return(0,t.wg)(),(0,t.j4)(s)}var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAB/dJREFUeF7tnbGv5VMQx2f/yNUoNAqFQqFQSKxCoVAoFAqNQrEbghCCEIQQhCBBCBtCEIIQgrD22rPZt8l7d+/Ombn3fGc+t74z58znO5/87ktu7jtlvCAAgRMJnIINBCBwMgEEYTsgsIUAgrAeEEAQdgACPgI8QXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQggSJOgGdNHAEF83KhqQgBBmgTNmD4CCOLjRlUTAgjSJGjG9BHYCHLBV0oVBOoTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwggyAQ8SusTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwioC3LOzE5PzE8pBLYSUBbkETO70czOIglbnkVAVZCHzeymI1CQJGtDmvdVFOQhM7v5mNyQpPkyZ4yvJsiDZnbLFhBIkrEljXsqCfKAmd26Q1ZIsgMk3rIbARVB7jez23Yb6f93Icl1wOKtJxNQEOQ+M7vdESKSOKBRcjWB1QW518zumAgNSSbgUWq2siD3mNmdASEhSQDEri1WFeTui4GcCQwFSQJhdmq1qiCbDJCk0yYuOuvKgiDJokvT6VqrC4IknbZxwVkVBEGSBReny5VUBEGSLhu52JxKgiDJYsvT4TpqgiBJh61caEZFQZBkoQWqfhVVQZCk+mYuMp+yIEiyyBJVvoa6IEhSeTsXmK2CIEiywCJVvUIVQZCk6oYeeK5KgiDJgZep4vHVBEGSilt6wJkqCoIkB1yoakdXFQRJqm3qgeapLAiSHGipKh1bXRAkqbStB5ilgyBIcoDFqnJkF0GQpMrG7nmOToIgyZ6Xq8Jx3QRBkgpbu8cZOgqCJHtcMPWjugqCJOqbu6f7dxYESfa0ZMrHdBcESZS3dw93R5BLkPmZ0z0sm+IRCHIlNSRR3ODkOyPI1YCRJHnh1NojyJXEPjSzG8zso6AQT49/BRfUjjaHIIAgl6h/MOT4OCgE5AgCeeg2CGL2/pDjk6AwkCMI5Aptugvy3pDj06AwkCMI5CptOgvy7pDjs6AwkCMI5EptugryzpDj86AwkCMI5GptOgry9pDji6AwkCMI5Iptugny1pDjfFAYyBEEctU2nQR5c8jxZVAYyBEEcuU2XQR5Y8jxVVAYyBEEcvU2HQR5fcjxdVAYyBEEUqFNdUFeG3J8ExQGcgSBVGlTWZBXhxzfBoWBHEEgldpUFeSVIcd3QWEgRxBItTYVBXl5yPF9UBjIEQRSsU01QV4acvwQFAZyBIFUbVNJkBeHHD8GhYEcQSCV21QR5IUhx09BYSBHEEj1NhUEeX7I8XNQGMgRBLJCG3VBnhty/BIUBnIEgazSRlmQZ4ccvwaFgRxBICu1URXkmSHHb0FhIEcQyGptFAV5esjxe1AYyBEEsmIbNUGeGnL8ERQGcgSBrNpGSZAnhxx/BoWBHEEgK7dREeSJIcdfQWEgRxDI6m0UBHl8yPF3UBjIEQSyQ5vVBXlsyPFPUBgKcmwy6fa66+LAZ1YcemVBHh1y/BsETkGOzagdBdnIsZFkudeqgpwbckQBU5GjqyA8QRybvvml9Y0osy8lORBkNu3g+lWfIJfHnJVETY6ugvARa0JsrySKcnQVhI9YE4JsSq9XElU5EGRyUaLLV/+IdXTeXSVRlqOrIHzECjL7WpKoy4EgQYsS1UbpCXKtP9wryIEgUZsd1EdRkOP+JqkiB4IELXZUG1VBjkpSSQ4EidrsoD7KglyW5GwQi1Xa8FWTVZIY3/u5sNB9uArfxVpqB9SfIEvBDLoMT5AgkBFtECSCYmyPXb72vU2i4z4RKEjHt3lj94huEMgnwBMknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE0AQ4fC4ej4BBMlnzAnCBBBEODyunk8AQfIZc4IwAQQRDo+r5xNAkHzGnCBMAEGEw+Pq+QQQJJ8xJwgTQBDh8Lh6PgEEyWfMCcIEEEQ4PK6eTwBB8hlzgjABBBEOj6vnE0CQfMacIEwAQYTD4+r5BBAknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE9gIwgsCEDiBAIKwGhDYQgBBWA8IIAg7AAEfAZ4gPm5UNSGAIE2CZkwfAQTxcaOqCQEEaRI0Y/oIIIiPG1VNCCBIk6AZ00cAQXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQj8B1C6ZEICxVr9AAAAAElFTkSuQmCC";const s=e=>((0,t.dD)("data-v-afd23d12"),e=e(),(0,t.Cn)(),e),r={class:"golbal"},u={class:"setting"},d=s((()=>(0,t._)("div",null,"连接设置",-1))),c=[d],v=s((()=>(0,t._)("div",null,"偏好设置",-1))),p=[v],m=s((()=>(0,t._)("div",null,"文件管理",-1))),g=[m],f=s((()=>(0,t._)("div",null,"重启",-1))),y=[f],w={class:"bar"},k=s((()=>(0,t._)("img",{src:o,alt:"终端",style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,-1))),h=[k],_=s((()=>(0,t._)("div",{style:{"user-select":"none","font-size":"14px"}},[(0,t._)("span",null,"kk Terminal")],-1))),C={ref:"terminal",class:"terminal-class"};function b(e,l,a,n,o,s){const d=(0,t.up)("ConnectSetting"),v=(0,t.up)("StyleSetting"),m=(0,t.up)("FileBlock");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r,[(0,t.wy)((0,t._)("div",u,[(0,t._)("div",{class:"setting-menu no-select",onClick:l[0]||(l[0]=e=>n.doSettings(1))},c),(0,t._)("div",{class:"setting-menu no-select",onClick:l[1]||(l[1]=e=>n.doSettings(2))},p),(0,t._)("div",{class:"setting-menu no-select",onClick:l[2]||(l[2]=e=>n.doSettings(4))},g),(0,t._)("div",{class:"setting-menu no-select",onClick:l[3]||(l[3]=e=>n.doSettings(3))},y)],512),[[i.F8,n.isShowSetting]]),(0,t._)("div",w,[(0,t._)("div",{style:{"user-select":"none"},onClick:l[4]||(l[4]=(...e)=>n.showSettings&&n.showSettings(...e))},h),_]),(0,t._)("div",C,null,512)]),(0,t.Wm)(d,{ref:"connectSettingRef",env:n.env,sshOptions:n.options,onSaveOp:n.saveOp,onCallback:n.saveEnv},null,8,["env","sshOptions","onSaveOp","onCallback"]),(0,t.Wm)(v,{ref:"styleSettingRef",env:n.env,onCallback:n.saveEnv},null,8,["env","onCallback"]),(0,t.Wm)(m,{ref:"fileBlockRef",sshKey:n.sshKey},null,8,["sshKey"])],64)}var I=a(7071),S=a(4870),D=a(8082),x=a.n(D);const E="P5P1SIqVe6kaOxMX";function B(e){var l=x().enc.Utf8.parse(E),a=x().enc.Utf8.parse(e),i=x().AES.encrypt(a,l,{mode:x().mode.ECB,padding:x().pad.Pkcs7});return i.toString()}function V(e){var l=x().enc.Utf8.parse(E),a=x().AES.decrypt(e,l,{mode:x().mode.ECB,padding:x().pad.Pkcs7});return x().enc.Utf8.stringify(a).toString()}var A=a(6537),F=a(7114);const H={server_ip:"",server_port:22,server_user:"root",server_password:"",option:"",bg:"#0c0c0c",fg:"#f2f2f2",fontFamily:"Monospace",fontSize:16,cursorStyle:"block",cursorBlink:!0};let z=window.location.protocol,O="";O="https:"==z?"wss://":"ws://";const W=O+window.location.host+"/socket/ssh/",U=z+"//"+window.location.host+"/api";function R(e){let l="";for(let a=0;a<e.length;a++)"/"!=e[a]?l+=e[a]:l+="@";return l}var Q=a(7139);const M=e=>((0,t.dD)("data-v-03e28c78"),e=e(),(0,t.Cn)(),e),T=M((()=>(0,t._)("div",{style:{"margin-top":"-25px"}},null,-1))),P={class:"item-class",style:{"margin-bottom":"15px"}},j=M((()=>(0,t._)("div",{class:"no-select nowrap"},"配   置：",-1))),N=M((()=>(0,t._)("div",{style:{flex:"1"}},null,-1))),J={class:"item-class",style:{"margin-bottom":"15px"}},L=M((()=>(0,t._)("div",{class:"no-select"},"主机ip：",-1))),G={class:"item-class",style:{"margin-bottom":"15px"}},K=M((()=>(0,t._)("div",{class:"no-select"},"端口号：",-1))),Z={class:"item-class",style:{"margin-bottom":"15px"}},Y=M((()=>(0,t._)("div",{class:"no-select"},"用户名：",-1))),q={class:"item-class",style:{"margin-bottom":"5px"}},X=M((()=>(0,t._)("div",{class:"no-select"},"密   码：",-1))),$={class:"errInfo no-select"},ee=M((()=>(0,t._)("div",{style:{"margin-bottom":"5px"}},null,-1))),le={style:{display:"flex","border-top":"1px solid #f1f2f4"}},ae=M((()=>(0,t._)("div",{style:{flex:"1"}},null,-1)));function ie(e,l,a,i,n,o){const s=(0,t.up)("el-button"),r=(0,t.up)("HomeFilled"),u=(0,t.up)("el-icon"),d=(0,t.up)("el-input"),c=(0,t.up)("DocumentCopy"),v=(0,t.up)("Paperclip"),p=(0,t.up)("User"),m=(0,t.up)("Lock"),g=(0,t.up)("View"),f=(0,t.up)("Hide"),y=(0,t.up)("el-dialog"),w=(0,t.up)("OptionBlock");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(y,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[11]||(l[11]=e=>i.DialogVisilble=e),"destory-on-close":!0,"before-close":i.closeDialog,width:360,title:"连接设置",modal:!1,"close-on-click-modal":!1,"modal-class":"kk-dialog-class","align-center":"",draggable:""},{default:(0,t.w5)((()=>[T,(0,t._)("div",null,[(0,t._)("div",P,[j,(0,t._)("div",{class:(0,Q.C_)(["ellipsis",i.setInfo.option&&i.setInfo.option.length>0?"old-option":"new-option"]),style:{"user-select":"none"}},(0,Q.zw)(i.setInfo.option&&i.setInfo.option.length>0?i.setInfo.option:"新建配置"),3),N,(0,t._)("div",null,[(0,t.Wm)(s,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>i.showOption(0)),style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("导入")])),_:1})]),(0,t._)("div",null,[0==i.isForbidInput?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"small",type:"primary",onClick:l[1]||(l[1]=e=>i.showOption(1)),style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("保存")])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",null,[1==i.isForbidInput?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"small",type:"primary",onClick:i.newOp,style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("新建")])),_:1},8,["onClick"])):(0,t.kq)("",!0)])]),(0,t._)("div",J,[L,(0,t._)("div",null,[(0,t.Wm)(d,{disabled:i.isForbidInput,modelValue:i.setInfo.server_ip,"onUpdate:modelValue":l[2]||(l[2]=e=>i.setInfo.server_ip=e),class:"w-50 m-2",placeholder:"输入主机ip"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,t._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[3]||(l[3]=e=>i.doCopy(i.setInfo.server_ip))},[(0,t.Wm)(u,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1})])]),(0,t._)("div",G,[K,(0,t._)("div",null,[(0,t.Wm)(d,{disabled:i.isForbidInput,modelValue:i.setInfo.server_port,"onUpdate:modelValue":l[4]||(l[4]=e=>i.setInfo.server_port=e),class:"w-50 m-2",placeholder:"输入端口号"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,t._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[5]||(l[5]=e=>i.doCopy(i.setInfo.server_port))},[(0,t.Wm)(u,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1})])]),(0,t._)("div",Z,[Y,(0,t._)("div",null,[(0,t.Wm)(d,{disabled:i.isForbidInput,modelValue:i.setInfo.server_user,"onUpdate:modelValue":l[6]||(l[6]=e=>i.setInfo.server_user=e),class:"w-50 m-2",placeholder:"输入用户名"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"el-input__icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(p)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,t._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[7]||(l[7]=e=>i.doCopy(i.setInfo.server_user))},[(0,t.Wm)(u,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1})])]),(0,t._)("div",q,[X,(0,t._)("div",null,[(0,t.Wm)(d,{disabled:i.isForbidInput,modelValue:i.setInfo.server_password,"onUpdate:modelValue":l[8]||(l[8]=e=>i.setInfo.server_password=e),type:i.isShowPassword?"text":"password",class:"w-50 m-2",placeholder:"输入密码"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"el-input__icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(m)])),_:1})])),_:1},8,["disabled","modelValue","type"])]),1==i.isShowPassword?((0,t.wg)(),(0,t.iD)("div",{key:0,style:{cursor:"pointer","margin-left":"10px"},onClick:l[9]||(l[9]=e=>i.isShowPassword=!1)},[(0,t.Wm)(u,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(g)])),_:1})])):((0,t.wg)(),(0,t.iD)("div",{key:1,style:{cursor:"pointer","margin-left":"10px"},onClick:l[10]||(l[10]=e=>i.isShowPassword=!0)},[(0,t.Wm)(u,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(f)])),_:1})]))])]),(0,t._)("div",$,(0,Q.zw)(i.err_msg),1),ee,(0,t._)("div",le,[ae,(0,t.Wm)(s,{size:"small",type:"primary",onClick:i.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close"]),(0,t.Wm)(w,{ref:"optionBlockRef",onCallback:i.doOption,opType:i.optionBlockType,sshOptions:a.sshOptions},null,8,["onCallback","opType","sshOptions"])],64)}var te=a(5595);const ne=e=>((0,t.dD)("data-v-35582546"),e=e(),(0,t.Cn)(),e),oe=ne((()=>(0,t._)("div",{style:{"margin-top":"-27px"}},null,-1))),se={class:"no-select"},re={key:0,class:"kk-border"},ue=["onClick"],de={class:"ellipsis",style:{margin:"0 10px"}},ce={key:1,class:"kk-border"},ve={class:"kk-flex"},pe=ne((()=>(0,t._)("div",null,"配置名：",-1))),me={style:{flex:"1"}},ge={style:{"margin-left":"10px"}},fe=ne((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1)));function ye(e,l,a,i,n,o){const s=(0,t.up)("FileIcons"),r=(0,t.up)("NoData"),u=(0,t.up)("el-input"),d=(0,t.up)("el-button"),c=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(c,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[1]||(l[1]=e=>i.DialogVisilble=e),"before-close":i.closeDialog,"destroy-on-close":"",width:420,modal:!1,title:"全部配置","modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[oe,(0,t._)("div",se,[Object.keys(a.sshOptions).length>0?((0,t.wg)(),(0,t.iD)("div",re,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.sshOptions,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("div",{class:(0,Q.C_)(["item-class",i.aimOption==l?"item-selected":""]),onClick:e=>i.aimOption=l},[(0,t.Wm)(s,{name:"kk.txt",width:"20",height:"20",isFolder:!1}),(0,t._)("div",de,(0,Q.zw)(l),1)],10,ue)])))),128))])):((0,t.wg)(),(0,t.iD)("div",ce,[(0,t.Wm)(r,{msg:i.noDataMsg},null,8,["msg"])])),(0,t._)("div",ve,[pe,(0,t._)("div",me,[(0,t.Wm)(u,{size:"small",modelValue:i.aimOption,"onUpdate:modelValue":l[0]||(l[0]=e=>i.aimOption=e),disabled:0==a.opType,class:"w-50 m-2",placeholder:""},null,8,["modelValue","disabled"])]),(0,t._)("div",ge,[(0,t.Wm)(d,{size:"small",type:"primary",onClick:i.confirm},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Q.zw)(a.opType?"保存":"导入"),1)])),_:1},8,["onClick"])])])]),fe])),_:1},8,["modelValue","before-close"])}var we=a.p+"img/no_data.ec5c928e.png";const ke=e=>((0,t.dD)("data-v-24721358"),e=e(),(0,t.Cn)(),e),he={class:"no-data"},_e=ke((()=>(0,t._)("div",null,[(0,t._)("img",{src:we,alt:"暂无数据",style:{width:"120px"}})],-1))),Ce={class:"msg"};function be(e,l,a,i,n,o){return(0,t.wg)(),(0,t.iD)("div",he,[(0,t._)("div",null,[_e,(0,t._)("div",Ce,(0,Q.zw)(a.msg),1)])])}var Ie={name:"NoData",components:{},props:{msg:String}},Se=a(89);const De=(0,Se.Z)(Ie,[["render",be],["__scopeId","data-v-24721358"]]);var xe=De,Ee=a(3223),Be=a.n(Ee),Ve={name:"OptionBlock",components:{FileIcons:Be(),NoData:xe},props:["opType","sshOptions"],setup(e,l){const a=(0,S.iH)(!1),i=(0,S.iH)(""),t=(0,S.iH)("暂无配置"),n=(0,S.iH)(""),o=()=>{""!=n.value&&""!=n.value.trim()&&(l.emit("callback",n.value.trim()),a.value=!1)},s=e=>{n.value="",e()};return{DialogVisilble:a,err_msg:i,noDataMsg:t,aimOption:n,confirm:o,closeDialog:s}}};const Ae=(0,Se.Z)(Ve,[["render",ye],["__scopeId","data-v-35582546"]]);var Fe=Ae,He=a(2748),ze={name:"ConnectSetting",components:{OptionBlock:Fe,HomeFilled:He.Ozs,Paperclip:He.pkz,User:He.n5m,Lock:He.HEZ,DocumentCopy:He.IBc,View:He.G7x,Hide:He.caK},props:["env","sshOptions"],setup(e,l){const a=(0,S.iH)(!1),i=(0,S.iH)(""),t=(0,S.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option}),n=()=>{i.value="";const e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return e.test(t.value.server_ip)?isNaN(t.value.server_port)||t.value.server_port<0||t.value.server_port>65535?(i.value="端口号无效",!1):t.value.server_user&&""!=t.value.server_user?!(!t.value.server_password||""==t.value.server_password)||(i.value="密码不能为空",!1):(i.value="用户名不能为空",!1):(i.value="主机ip地址无效",!1)},o=(0,S.iH)(),s=(0,S.iH)(0),r=e=>{1==e&&0==n()||(s.value=e,o.value.DialogVisilble=!0,o.value.aimOption="")},u=(0,S.iH)(!1);""!=t.value.option&&(u.value=!0);const d=a=>{0==s.value?(t.value={...t.value,...e.sshOptions[a]},u.value=!0):1==s.value&&(t.value.option=a,l.emit("saveOp",a,t.value),u.value=!0)},c=()=>{u.value=!1,t.value.option=""},v=()=>{0!=n()&&(l.emit("callback",t.value),a.value=!1)},{toClipboard:p}=(0,I.Z)(),m=async e=>{e+="",e&&e.length>0?(await p(e),(0,te.z8)({message:"复制成功",type:"success",grouping:!0})):(0,te.z8)({message:"内容为空",type:"warning",grouping:!0})},g=(0,S.iH)(!1),f=l=>{o.value.DialogVisilble=!1,setTimeout((()=>{i.value="",g.value=!1,t.value={server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option},""!=t.value.option?u.value=!0:u.value=!1}),200),l()};return{setInfo:t,DialogVisilble:a,err_msg:i,confirm:v,optionBlockRef:o,showOption:r,optionBlockType:s,doOption:d,isForbidInput:u,newOp:c,closeDialog:f,doCopy:m,isShowPassword:g}}};const Oe=(0,Se.Z)(ze,[["render",ie],["__scopeId","data-v-03e28c78"]]);var We=Oe;const Ue=e=>((0,t.dD)("data-v-9e29decc"),e=e(),(0,t.Cn)(),e),Re=Ue((()=>(0,t._)("div",{style:{"margin-top":"-27px"}},null,-1))),Qe={class:"no-select"},Me={class:"item-class",style:{"margin-bottom":"15px"}},Te=Ue((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"颜色：",-1))),Pe={class:"item-class"},je=Ue((()=>(0,t._)("div",null,"背景色",-1))),Ne={style:{margin:"0 20px"}},Je=Ue((()=>(0,t._)("div",{style:{width:"20px"}},null,-1))),Le={class:"item-class"},Ge=Ue((()=>(0,t._)("div",null,"前景色",-1))),Ke={style:{margin:"0 20px"}},Ze={class:"item-class",style:{"margin-bottom":"15px"}},Ye=Ue((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"文本：",-1))),qe={class:"item-class"},Xe=Ue((()=>(0,t._)("div",null,"字体",-1))),$e={class:"a-link"},el={class:"item-class"},ll=Ue((()=>(0,t._)("div",null,"字号",-1))),al={class:"a-link"},il={class:"item-class",style:{"margin-bottom":"5px"}},tl=Ue((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"光标：",-1))),nl={class:"item-class"},ol=Ue((()=>(0,t._)("div",null,"样式",-1))),sl={class:"a-link"},rl={class:"item-class"},ul=Ue((()=>(0,t._)("div",null,"闪烁",-1))),dl={style:{margin:"0 20px"}},cl=Ue((()=>(0,t._)("div",{style:{"margin-bottom":"5px"}},null,-1))),vl={style:{display:"flex","border-top":"1px solid #f1f2f4"}},pl=Ue((()=>(0,t._)("div",{style:{flex:"1"}},null,-1)));function ml(e,l,a,i,n,o){const s=(0,t.up)("el-color-picker"),r=(0,t.up)("arrow-down"),u=(0,t.up)("el-icon"),d=(0,t.up)("el-dropdown-item"),c=(0,t.up)("el-dropdown-menu"),v=(0,t.up)("el-dropdown"),p=(0,t.up)("el-switch"),m=(0,t.up)("el-button"),g=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(g,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[3]||(l[3]=e=>i.DialogVisilble=e),"destroy-on-close":"",width:420,title:"偏好设置",modal:!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[Re,(0,t._)("div",Qe,[(0,t._)("div",Me,[Te,(0,t._)("div",Pe,[je,(0,t._)("div",Ne,[(0,t.Wm)(s,{modelValue:i.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>i.setInfo.bg=e)},null,8,["modelValue"])])]),Je,(0,t._)("div",Le,[Ge,(0,t._)("div",Ke,[(0,t.Wm)(s,{modelValue:i.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>i.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,t._)("div",Ze,[Ye,(0,t._)("div",qe,[Xe,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.fontFamilyList,((e,l)=>((0,t.wg)(),(0,t.j4)(d,{key:l,onClick:l=>i.setInfo.fontFamily=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Q.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",$e,[(0,t.Uk)((0,Q.zw)(i.setInfo.fontFamily),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})]),(0,t._)("div",el,[ll,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.fontSizeList,((e,l)=>((0,t.wg)(),(0,t.j4)(d,{key:l,onClick:l=>i.setInfo.fontSize=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Q.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",al,[(0,t.Uk)((0,Q.zw)(i.setInfo.fontSize),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})])]),(0,t._)("div",il,[tl,(0,t._)("div",nl,[ol,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.cursorStyleList,((e,l)=>((0,t.wg)(),(0,t.j4)(d,{key:l,onClick:l=>i.setInfo.cursorStyle=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,Q.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",sl,[(0,t.Uk)((0,Q.zw)(i.setInfo.cursorStyle),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})]),(0,t._)("div",rl,[ul,(0,t._)("div",dl,[(0,t.Wm)(p,{modelValue:i.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>i.setInfo.cursorBlink=e)},null,8,["modelValue"])])])])]),cl,(0,t._)("div",vl,[pl,(0,t.Wm)(m,{size:"small",type:"primary",onClick:i.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var gl={name:"StyleSetting",components:{ArrowDown:He.K5e},props:["env"],setup(e,l){const a=(0,S.iH)(!1),i=["Monospace","Consolas","Courier","Lucida Console"],t=[12,14,16,18,20],n=["block","underline","bar"],o=(0,S.iH)({bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink}),s=()=>{l.emit("callback",o.value),a.value=!1};return{fontFamilyList:i,fontSizeList:t,cursorStyleList:n,setInfo:o,DialogVisilble:a,confirm:s}}};const fl=(0,Se.Z)(gl,[["render",ml],["__scopeId","data-v-9e29decc"]]);var yl=fl;const wl=e=>((0,t.dD)("data-v-10aa9a13"),e=e(),(0,t.Cn)(),e),kl=wl((()=>(0,t._)("div",{style:{"margin-top":"-27px"}},null,-1))),hl={class:"title",style:{display:"flex","align-items":"center"}},_l={class:"ellipsis",style:{flex:"1"}},Cl={key:0},bl={style:{display:"flex","align-items":"center"}},Il={key:0},Sl=["onClick","onDblclick","onContextmenu"],Dl={key:0,style:{margin:"0 10px"}},xl={key:1,class:"ellipsis",style:{margin:"0 10px"}},El=["onClick","onDblclick","onContextmenu"],Bl={key:0,style:{margin:"0 10px"}},Vl={key:1,class:"ellipsis",style:{margin:"0 10px"}},Al={key:1},Fl=wl((()=>(0,t._)("div",{style:{"margin-top":"-12px"}},null,-1))),Hl=wl((()=>(0,t._)("div",{class:"no-select",style:{"font-size":"13px","margin-top":"4px"}},"确定删除此文件/文件夹吗?",-1)));function zl(e,l,a,n,o,s){const r=(0,t.up)("el-input"),u=(0,t.up)("Refresh"),d=(0,t.up)("el-icon"),c=(0,t.up)("Fold"),v=(0,t.up)("Download"),p=(0,t.up)("Upload"),m=(0,t.up)("el-upload"),g=(0,t.up)("FileIcons"),f=(0,t.up)("NoData"),y=(0,t.up)("el-dialog"),w=(0,t.up)("TxtPreview"),k=(0,t.up)("MkFile"),h=(0,t.up)("FileAttr"),_=(0,t.up)("el-button"),C=(0,t.up)("a-popconfirm"),b=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(y,{modelValue:n.DialogVisilble,"onUpdate:modelValue":l[13]||(l[13]=e=>n.DialogVisilble=e),"before-close":n.closeDialog,title:"文件管理",width:"50%",modal:!1,"modal-class":"kk-dialog-class",draggable:"",style:{position:"relative"}},{default:(0,t.w5)((()=>[kl,(0,t._)("div",null,[(0,t._)("div",hl,[(0,t._)("div",_l,[1==n.isShowDirInput?((0,t.wg)(),(0,t.iD)("div",Cl,[(0,t.Wm)(r,{id:"aimDirInput",modelValue:n.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>n.dir=e),placeholder:"输入目录路径",size:"small",onBlur:n.dirInputCallback},null,8,["modelValue","onBlur"])])):((0,t.wg)(),(0,t.iD)("div",{key:1,class:"no-select ellipsis",onDblclick:l[1]||(l[1]=(...e)=>n.doShowDirInput&&n.doShowDirInput(...e))},(0,Q.zw)(n.dir),33))]),(0,t._)("div",bl,[(0,t._)("div",{class:"hover-class",onClick:l[2]||(l[2]=(...e)=>n.doRefresh&&n.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[3]||(l[3]=(...e)=>n.doReturn&&n.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[4]||(l[4]=(...e)=>n.doDownload&&n.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[5]||(l[5]=(...e)=>n.doUpload&&n.doUpload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(m,{"show-file-list":!1,"with-credentials":!0,"http-request":n.doUpload,multiple:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(p)])),_:1})])),_:1},8,["http-request"])])])]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{id:"fileArea",ref:"fileAreaRef","element-loading-text":"Loading...",class:"list-class no-select",onContextmenu:l[9]||(l[9]=(...e)=>n.handleContextMenu&&n.handleContextMenu(...e)),onDragover:l[10]||(l[10]=(...e)=>n.preventDefault&&n.preventDefault(...e)),onDrop:l[11]||(l[11]=(...e)=>n.handleFileDrag&&n.handleFileDrag(...e)),onScroll:l[12]||(l[12]=(...e)=>n.handleScroll&&n.handleScroll(...e))},[0!=n.files.length?((0,t.wg)(),(0,t.iD)("div",Il,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.files,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id},[1==e.isDirectory?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,Q.C_)(["item-class",n.aimFileInfo&&e.id==n.aimFileInfo.id?"item-selected":""]),onClick:l=>n.aimFileInfo=e,onDblclick:l=>n.changeDir(n.dir+e.name+"/"),onContextmenu:l=>n.aimFileInfo=e},[(0,t.Wm)(g,{name:e.name,width:"20",height:"20",isFolder:e.isDirectory},null,8,["name","isFolder"]),1==n.isShowRenameInput&&n.renameFile&&e.id==n.renameFile.id?((0,t.wg)(),(0,t.iD)("div",Dl,[(0,t.Wm)(r,{id:"rename",modelValue:n.renameFile.name,"onUpdate:modelValue":l[6]||(l[6]=e=>n.renameFile.name=e),placeholder:"",size:"small",onBlur:l=>n.handleRename(e)},null,8,["modelValue","onBlur"])])):((0,t.wg)(),(0,t.iD)("div",xl,(0,Q.zw)(e.name),1))],42,Sl)):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,Q.C_)(["item-class",n.aimFileInfo&&e.id==n.aimFileInfo.id?"item-selected":""]),onClick:l=>n.aimFileInfo=e,onDblclick:l=>n.preViewFile(e.name),onContextmenu:l=>n.aimFileInfo=e},[(0,t.Wm)(g,{name:e.name,width:"20",height:"20",isFolder:e.isDirectory},null,8,["name","isFolder"]),1==n.isShowRenameInput&&n.renameFile&&e.id==n.renameFile.id?((0,t.wg)(),(0,t.iD)("div",Bl,[(0,t.Wm)(r,{id:"rename",modelValue:n.renameFile.name,"onUpdate:modelValue":l[7]||(l[7]=e=>n.renameFile.name=e),placeholder:"",size:"small",onBlur:l=>n.handleRename(e)},null,8,["modelValue","onBlur"])])):((0,t.wg)(),(0,t.iD)("div",Vl,(0,Q.zw)(e.name),1))],42,El))])))),128))])):((0,t.wg)(),(0,t.iD)("div",Al,[0==n.loading?((0,t.wg)(),(0,t.j4)(f,{key:0,onContextmenu:l[8]||(l[8]=e=>n.aimFileInfo=null),msg:n.noDataMsg},null,8,["msg"])):(0,t.kq)("",!0)]))],32)),[[b,n.loading]])]),Fl])),_:1},8,["modelValue","before-close"]),(0,t.Wm)(w,{ref:"txtPreviewRef",onDoSave:n.doSave},null,8,["onDoSave"]),(0,t.Wm)(k,{ref:"mkFileRef",onCallback:n.handleMkFile},null,8,["onCallback"]),(0,t.Wm)(h,{ref:"fileAttrRef",onCallback:n.doRename},null,8,["onCallback"]),(0,t.wy)((0,t._)("div",{ref:"menuBlockRef",onContextmenu:l[22]||(l[22]=(...e)=>n.preventDefault&&n.preventDefault(...e)),class:"kk-menu no-select"},[(0,t._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[14]||(l[14]=e=>n.handleMenuSelect(1)),key:"1"},"刷新"),(0,t._)("div",{class:(0,Q.C_)(["kk-menu-item",null==n.aimFileInfo?"disabled":""]),onClick:l[15]||(l[15]=e=>n.handleMenuSelect(2)),key:"2"},"打开",2),(0,t._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[16]||(l[16]=e=>n.handleMenuSelect(3)),key:"3"},"复制路径"),(0,t._)("div",{class:(0,Q.C_)(["kk-menu-item",n.aimFileInfo&&0==n.aimFileInfo.isDirectory?"":"disabled"]),onClick:l[17]||(l[17]=e=>n.handleMenuSelect(4)),key:"4"},"下载",2),(0,t._)("div",{class:"kk-menu-item",onClick:l[18]||(l[18]=e=>n.handleMenuSelect(5)),key:"5"},"新建"),(0,t._)("div",{class:(0,Q.C_)(["kk-menu-item",null==n.aimFileInfo?"disabled":""]),onClick:l[19]||(l[19]=e=>n.handleMenuSelect(6)),key:"6"},"重命名",2),(0,t.Wm)(C,{open:n.isShowMenu&&n.isShowPop,overlayStyle:{zIndex:3466,marginLeft:"10px"},placement:"rightBottom","ok-text":"确定","cancel-text":"取消"},{title:(0,t.w5)((()=>[Hl])),okButton:(0,t.w5)((()=>[(0,t.Wm)(_,{id:"sureDelFileBtn",size:"small",type:"primary",onClick:n.handlePopConfirm},{default:(0,t.w5)((()=>[(0,t.Uk)("确定")])),_:1},8,["onClick"])])),cancelButton:(0,t.w5)((()=>[(0,t.Wm)(_,{size:"small",text:""},{default:(0,t.w5)((()=>[(0,t.Uk)("取消")])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,Q.C_)(["kk-menu-item",null==n.aimFileInfo?"disabled":""]),key:"7"},[(0,t._)("div",{onClick:l[20]||(l[20]=e=>n.handleMenuSelect(7))},"删除")],2)])),_:1},8,["open"]),(0,t._)("div",{style:{"border-top":"1px solid #ddd"},class:(0,Q.C_)(["kk-menu-item",null==n.aimFileInfo?"disabled":""]),onClick:l[21]||(l[21]=e=>n.handleMenuSelect(8)),key:"8"},"属性",2)],544),[[i.F8,n.isShowMenu]])],64)}var Ol=a(7387),Wl=a.n(Ol);const Ul=e=>((0,t.dD)("data-v-79031be1"),e=e(),(0,t.Cn)(),e),Rl={class:"kk-flex"},Ql={class:"ellipsis",style:{margin:"0 5px","font-size":"larger"}},Ml=Ul((()=>(0,t._)("div",{style:{"margin-top":"-28px"}},null,-1))),Tl={"element-loading-text":"Loading...",style:{padding:"0px 5px",width:"100%",height:"60vh"}},Pl=Ul((()=>(0,t._)("div",{style:{"margin-top":"-13px"}},null,-1)));function jl(e,l,a,i,n,o){const s=(0,t.up)("FileIcons"),r=(0,t.up)("AceEditor"),u=(0,t.up)("el-dialog"),d=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.j4)(u,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[0]||(l[0]=e=>i.DialogVisilble=e),width:"80%",modal:!1,"modal-class":"kk-dialog-class","before-close":i.closeDialog,"align-center":"",draggable:""},{title:(0,t.w5)((()=>[(0,t._)("div",Rl,[(0,t.Wm)(s,{name:i.fileName,width:"25",height:"25",isFolder:!1},null,8,["name"]),(0,t._)("div",Ql,(0,Q.zw)(i.modifyTag+i.fileName),1)])])),default:(0,t.w5)((()=>[Ml,(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",Tl,[(0,t.Wm)(r,{ref:"codeEditorRef",onHandleChange:i.handleChange,onHandleSave:i.handleSave},null,8,["onHandleChange","onHandleSave"])])),[[d,i.loading]]),Pl])),_:1},8,["modelValue","before-close"])}const Nl={ref:"aceEditorRef",class:"kk-code-editor"};function Jl(e,l,a,i,n,o){return(0,t.wg)(),(0,t.iD)("div",Nl,null,512)}var Ll=a(17),Gl=a.n(Ll),Kl=(a(7050),a(4783),a(1853),{name:"AceEditor",setup(e,l){const a=(0,S.iH)(),i=(0,S.iH)(null),n=e=>{i.value&&i.value.setValue(e),i.value&&i.value.selection.clearSelection()},o=()=>{i.value&&i.value.getSession().getUndoManager().reset()},s=e=>{if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),l.emit("handleSave",i.value.getValue());break}};return(0,t.bv)((()=>{i.value=Gl().edit(a.value,{autoScrollEditorIntoView:!1,copyWithEmptySelection:!1,showPrintMargin:!1,highlightActiveLine:!0,theme:"ace/theme/chrome",mode:"ace/mode/text"}),i.value.on("change",(()=>{l.emit("handleChange")})),i.value.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1}),i.value.findNext(),i.value.findPrevious(),a.value.addEventListener("keydown",s)})),(0,t.Ah)((()=>{a.value&&a.value.removeEventListener("keydown",s)})),{aceEditorRef:a,aceEditor:i,setValue:n,CtrlS:s,reset:o}}});const Zl=(0,Se.Z)(Kl,[["render",Jl],["__scopeId","data-v-007b1ce8"]]);var Yl=Zl,ql={name:"TxtPreview",components:{AceEditor:Yl,FileIcons:Be()},setup(e,l){const a=(0,S.iH)(!1),i=(0,S.iH)(!1),t=(0,S.iH)(""),n=(0,S.iH)(""),o=(0,S.iH)(""),s=(0,S.iH)(),r=async()=>{c(),i.value=!0;let e=o.value;await Wl().ajax({url:e,method:"GET",dataType:"text",dataFilter(e){return e},success(l){e==o.value&&(s.value.setValue(l),s.value.reset(),t.value="",i.value=!1)},error(){e==o.value&&((0,te.z8)({message:"文件加载失败",type:"error",grouping:!0}),c(),a.value=!1)}})},u=()=>{t.value="*"},d=e=>{"*"==t.value&&(l.emit("doSave",n.value,o.value,e),t.value="")},c=()=>{s.value&&(s.value.setValue(""),s.value.reset()),t.value=""},v=e=>{setTimeout((()=>{c()}),200),e()};return{DialogVisilble:a,initText:r,loading:i,fileName:n,fileUrl:o,codeEditorRef:s,modifyTag:t,handleChange:u,handleSave:d,closeDialog:v,resetEditor:c}}};const Xl=(0,Se.Z)(ql,[["render",jl],["__scopeId","data-v-79031be1"]]);var $l=Xl;const ea=e=>((0,t.dD)("data-v-101691e8"),e=e(),(0,t.Cn)(),e),la=ea((()=>(0,t._)("div",{style:{"margin-top":"-32px"}},null,-1))),aa={class:"no-select"},ia={class:"errInfo no-select"},ta={class:"kk-flex"},na=ea((()=>(0,t._)("div",{style:{width:"10px"}},null,-1))),oa={style:{flex:"1"}},sa={style:{"margin-left":"10px"}},ra=ea((()=>(0,t._)("div",{style:{"margin-top":"-10px"}},null,-1)));function ua(e,l,a,i,n,o){const s=(0,t.up)("el-radio"),r=(0,t.up)("el-radio-group"),u=(0,t.up)("FileIcons"),d=(0,t.up)("el-input"),c=(0,t.up)("el-button"),v=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(v,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[2]||(l[2]=e=>i.DialogVisilble=e),"before-close":i.closeDialog,width:300,modal:!1,title:"新建","modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[la,(0,t._)("div",aa,[(0,t.Wm)(r,{modelValue:i.isDirectory,"onUpdate:modelValue":l[0]||(l[0]=e=>i.isDirectory=e),class:"ml-4"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{label:!1,size:"large"},{default:(0,t.w5)((()=>[(0,t.Uk)("文件")])),_:1}),(0,t.Wm)(s,{label:!0,size:"large"},{default:(0,t.w5)((()=>[(0,t.Uk)("文件夹")])),_:1})])),_:1},8,["modelValue"]),(0,t._)("div",ia,(0,Q.zw)(i.err_msg),1),(0,t._)("div",ta,[(0,t._)("div",null,[1==i.isDirectory?((0,t.wg)(),(0,t.j4)(u,{key:0,width:"24",height:"24",name:"kk.txt",isFolder:!0})):((0,t.wg)(),(0,t.j4)(u,{key:1,width:"24",height:"24",name:"kk.txt",isFolder:!1}))]),na,(0,t._)("div",oa,[(0,t.Wm)(d,{size:"small",modelValue:i.name,"onUpdate:modelValue":l[1]||(l[1]=e=>i.name=e),class:"w-50 m-2",placeholder:""},null,8,["modelValue"])]),(0,t._)("div",sa,[(0,t.Wm)(c,{size:"small",type:"primary",onClick:i.confirm},{default:(0,t.w5)((()=>[(0,t.Uk)("确定")])),_:1},8,["onClick"])])])]),ra])),_:1},8,["modelValue","before-close"])}var da={name:"MkFile",components:{FileIcons:Be()},setup(e,l){const a=(0,S.iH)(!1),i=(0,S.iH)(""),t=(0,S.iH)(!1),n=(0,S.iH)(""),o=(0,S.iH)(""),s=()=>{i.value="",n.value&&n.value.trim().length>0?-1==n.value.indexOf("/")?(l.emit("callback",t.value,n.value,o.value),u()):i.value="文件名不能含有 /":i.value="文件名不能为空"},r=e=>{setTimeout((()=>{u()}),200),e()},u=()=>{i.value="",t.value=!1,n.value="",o.value="",a.value=!1};return{DialogVisilble:a,err_msg:i,isDirectory:t,name:n,nowDir:o,confirm:s,closeDialog:r,reset:u}}};const ca=(0,Se.Z)(da,[["render",ua],["__scopeId","data-v-101691e8"]]);var va=ca;const pa=e=>((0,t.dD)("data-v-453f0407"),e=e(),(0,t.Cn)(),e),ma=pa((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1))),ga={class:"kk-flex nowrap"},fa={class:"ellipsis",style:{margin:"0 5px","font-size":"small"}},ya=pa((()=>(0,t._)("div",{style:{"font-size":"small"}},"属性",-1))),wa=pa((()=>(0,t._)("div",{style:{"margin-top":"-32px"}},null,-1))),ka={class:"kk-flex"},ha={style:{"margin-right":"10px"}},_a=pa((()=>(0,t._)("div",{class:"kk-border"},null,-1))),Ca={class:"kk-flex nowrap"},ba=pa((()=>(0,t._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"位置：",-1))),Ia={class:"ellipsis"},Sa={class:"kk-flex"},Da=pa((()=>(0,t._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"大小：",-1))),xa=pa((()=>(0,t._)("div",{class:"kk-border"},null,-1))),Ea={class:"kk-flex"},Ba=pa((()=>(0,t._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"修改时间：",-1))),Va={class:"kk-flex"},Aa=pa((()=>(0,t._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"访问时间：",-1))),Fa=pa((()=>(0,t._)("div",{class:"kk-border"},null,-1))),Ha={class:"kk-flex"},za=pa((()=>(0,t._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"权限：",-1))),Oa=pa((()=>(0,t._)("div",{style:{flex:"1"}},null,-1))),Wa=pa((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1)));function Ua(e,l,a,i,n,o){const s=(0,t.up)("FileIcons"),r=(0,t.up)("el-input"),u=(0,t.up)("DocumentCopy"),d=(0,t.up)("el-icon"),c=(0,t.up)("el-button"),v=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(v,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[2]||(l[2]=e=>i.DialogVisilble=e),"before-close":i.closeDialog,width:400,modal:!1,"modal-class":"kk-dialog-class","align-center":"",draggable:""},{title:(0,t.w5)((()=>[ma,(0,t._)("div",ga,[(0,t.Wm)(s,{name:i.fileInfo.name,width:"16",height:"16",isFolder:i.fileInfo.isDirectory},null,8,["name","isFolder"]),(0,t._)("div",fa,(0,Q.zw)(i.fileInfo.name),1),ya])])),default:(0,t.w5)((()=>[wa,(0,t._)("div",null,[(0,t._)("div",ka,[(0,t._)("div",ha,[(0,t.Wm)(s,{name:i.fileInfo.name,width:"32",height:"32",isFolder:i.fileInfo.isDirectory},null,8,["name","isFolder"])]),(0,t._)("div",null,[(0,t.Wm)(r,{modelValue:i.rename,"onUpdate:modelValue":l[0]||(l[0]=e=>i.rename=e),placeholder:""},null,8,["modelValue"])])]),_a,(0,t._)("div",Ca,[ba,(0,t._)("div",Ia,(0,Q.zw)(i.fileDir+i.fileInfo.name),1),(0,t._)("div",{style:{cursor:"pointer","margin-left":"5px"},onClick:l[1]||(l[1]=e=>i.doCopy(i.fileDir+i.fileInfo.name))},[(0,t.Wm)(d,{size:"15"},{default:(0,t.w5)((()=>[(0,t.Wm)(u)])),_:1})])]),(0,t._)("div",Sa,[Da,(0,t._)("div",null,(0,Q.zw)(i.calcSize(i.fileInfo.attributes.size))+" ("+(0,Q.zw)(i.fileInfo.attributes.size+" 字节")+") ",1)]),xa,(0,t._)("div",Ea,[Ba,(0,t._)("div",null,(0,Q.zw)(i.formatDate(i.fileInfo.attributes.mtime)),1)]),(0,t._)("div",Va,[Aa,(0,t._)("div",null,(0,Q.zw)(i.formatDate(i.fileInfo.attributes.atime)),1)]),Fa,(0,t._)("div",Ha,[za,(0,t._)("div",null,(0,Q.zw)(i.calcPriority(i.fileInfo.attributes.mode.type,i.fileInfo.attributes.permissions)),1),Oa,(0,t._)("div",null,[(0,t.Wm)(c,{size:"small",type:"primary",onClick:i.confirm},{default:(0,t.w5)((()=>[(0,t.Uk)("确定")])),_:1},8,["onClick"])])])]),Wa])),_:1},8,["modelValue","before-close"])}const Ra=e=>{if(!e)return"";let l=new Date(1e3*e),a=l.getFullYear(),i=l.getMonth()+1,t=l.getDate(),n=l.getHours(),o=l.getMinutes(),s=l.getSeconds();return i<10&&(i="0"+i),t<10&&(t="0"+t),n<10&&(n="0"+n),o<10&&(o="0"+o),s<10&&(s="0"+s),a+"年"+i+"月"+t+"日，"+n+":"+o+":"+s},Qa=(e,l)=>Ta(e)+ja(l),Ma={BLOCK_SPECIAL:"b",CHAR_SPECIAL:"c",FIFO_SPECIAL:"p",SOCKET_SPECIAL:"s",REGULAR:"-",DIRECTORY:"d",SYMLINK:"l",UNKNOWN:"?"},Ta=e=>Ma[e],Pa={USR_R:256,USR_W:128,USR_X:64,GRP_R:32,GRP_W:16,GRP_X:8,OTH_R:4,OTH_W:2,OTH_X:1,SUID:2048,SGID:1024,STICKY:512},ja=e=>{let l="---------",a=0;for(let i=0;i<e.length;i++)Pa[e[i]]&&(a+=Pa[e[i]]);return l=Na(l,0,a&Pa["USR_R"],"r"),l=Na(l,1,a&Pa["USR_W"],"w"),l=Na(l,2,a&Pa["USR_X"],"x",a&Pa["SUID"],"s","S"),l=Na(l,3,a&Pa["GRP_R"],"r"),l=Na(l,4,a&Pa["GRP_W"],"w"),l=Na(l,5,a&Pa["GRP_X"],"x",a&Pa["SGID"],"s","S"),l=Na(l,6,a&Pa["OTH_R"],"r"),l=Na(l,7,a&Pa["OTH_W"],"w"),l=Na(l,8,a&Pa["OTH_X"],"x",a&Pa["STICKY"],"t","T"),l};function Na(e,l,a,i,t=0,n="",o="-"){return e=t?e.substring(0,l)+(a?n:o)+e.substring(l+1):e.substring(0,l)+(a?i:e[l])+e.substring(l+1),e}const Ja=e=>{if(null==e||void 0==e)return"";let l="";l=e<1024?e.toFixed(2)+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB";let a=l+"",i=a.indexOf("."),t=a.substring(i+1,i+3);return"00"==t?a.substring(0,i)+a.substring(i+3):l};var La={name:"FileAttr",components:{FileIcons:Be(),DocumentCopy:He.IBc},setup(e,l){const{toClipboard:a}=(0,I.Z)(),i=(0,S.iH)(!1),t=(0,S.iH)({}),n=(0,S.iH)(""),o=(0,S.iH)(""),s=()=>{if(t.value.name==o.value)return void(i.value=!1);if(!(o.value&&o.value.trim().length>0))return void(0,te.z8)({message:"文件名不能为空",type:"warning",grouping:!0});if(-1!=o.value.indexOf("/"))return void(0,te.z8)({message:"文件名不能含有 /",type:"warning",grouping:!0});let e=n.value+t.value.name,a=n.value+o.value;l.emit("callback",e,a),i.value=!1},r=e=>{e()},u=()=>{t.value={},o.value="",n.value="",i.value=!1},d=async e=>{e+="",e&&e.length>0?(await a(e),(0,te.z8)({message:"复制成功",type:"success",grouping:!0})):(0,te.z8)({message:"内容为空",type:"warning",grouping:!0})};return{DialogVisilble:i,fileInfo:t,confirm:s,closeDialog:r,reset:u,fileDir:n,rename:o,formatDate:Ra,calcPriority:Qa,calcSize:Ja,doCopy:d}}};const Ga=(0,Se.Z)(La,[["render",Ua],["__scopeId","data-v-453f0407"]]);var Ka=Ga,Za={name:"FileBlock",components:{NoData:xe,FileIcons:Be(),TxtPreview:$l,MkFile:va,FileAttr:Ka,Refresh:He.hYj,Fold:He.qFw,Download:He.UWx,Upload:He.gqx},props:["sshKey"],setup(e){const l=(0,S.iH)(!0),{toClipboard:a}=(0,I.Z)(),i=(0,S.iH)(null),n=(0,S.iH)([]),o=(0,S.iH)(""),s=()=>{""!=o.value&&"/"==o.value[0]||(o.value="/"+o.value),"/"!=o.value[o.value.length-1]&&(o.value=o.value+"/"),o.value=o.value.replace(/\/{2,}/g,"/")},r=(0,S.iH)(!1),u=()=>{""==o.value&&Wl().ajax({url:U+"/pwd",type:"get",data:{sshKey:e.sshKey},success(e){o.value=e.data.path,s(),i.value=null,n.value=[],c()}})},d=(0,S.iH)("暂无文件"),c=()=>{let a=o.value;Wl().ajax({url:U+"/ls",type:"get",data:{sshKey:e.sshKey,path:a},beforeSend:function(){l.value=!0,n.value=[]},success(e){a==o.value&&(i.value=null,"success"==e.status?(n.value=e.data.files,d.value="暂无文件"):(n.value=[],d.value=e.info))},complete:function(){a==o.value&&(l.value=!1)}})},v=l=>U+"/download/"+l+"?time="+(new Date).getTime()+"&sshKey="+e.sshKey+"&path="+o.value,p=e=>{let l={key:"",path:null},a=e.indexOf("&sshKey="),i=e.indexOf("&path=");return-1!=a&&-1!=i&&(l.key=e.substring(a+8,i)),-1!=i&&(l.path=e.substring(i+6)),l},m=e=>{if(1==r.value)return;let l=document.createElement("a");l.href=v(e),document.body.appendChild(l),l.click(),document.body.removeChild(l)},g=e=>{1!=r.value&&(o.value=e,i.value=null,c())},f=()=>{r.value=!1,s(),i.value=null,c()},y=()=>{r.value=!1,c()},w=()=>{if(1==r.value)return;if("/"==o.value)return;"/"==o.value[o.value.length-1]&&(o.value=o.value.substring(0,o.value.length-1));let e=o.value.lastIndexOf("/");-1!=e&&(o.value=o.value.substring(0,e+1)),i.value=null,y()},k=()=>{1!=r.value&&i.value&&i.value.name&&!i.value.isDirectory&&m(i.value.name)},h=529408,_=async(l,a)=>{try{if(1==r.value)return;let i=l.file;if(!i)return;const t=i.name,n=i.size,s=0==parseInt(Math.ceil(n/h))?1:parseInt(Math.ceil(n/h)),u=i.uid;let d=1;const v=a.pathVal?a.pathVal:o.value;n>20971520&&(0,te.z8)({message:a.startUpLoad?a.startUpLoad:"开始上传",type:"success",grouping:!0});for(let l=d;l<=s;l++){let o=(l-1)*h,r=o+h>=n?n:o+h,d=i.slice(o,r),p=new FormData;p.append("file",d),p.append("fileName",t),p.append("chunks",s),p.append("chunk",l),p.append("totalSize",n),p.append("id",u),p.append("sshKey",e.sshKey),p.append("path",v),await Wl().ajax({url:U+"/upload",type:"post",data:p,contentType:!1,processData:!1,success(e){202==e.code?((0,te.z8)({message:a.alert?a.alert:e.info,type:e.status,grouping:!0}),a.alert&&setTimeout((()=>{c()}),500)):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,te.z8)({message:e.info,type:e.status,grouping:!0}),l=s+1)}})}}catch(i){(0,te.z8)({message:"不支持上传文件夹",type:"warning",grouping:!0})}},C=()=>{r.value=!0,setTimeout((()=>{document.querySelector("#aimDirInput").focus()}),1)},b=(0,S.iH)(!1),D=e=>{i.value=null,W.value=null,x.value.DialogVisilble=!1,L.value.DialogVisilble=!1,L.value.reset(),R.value.DialogVisilble=!1,e()},x=(0,S.iH)(),E=e=>{x.value.fileName=e,x.value.fileUrl=v(e),x.value.loading=!0,x.value.initText(),x.value.DialogVisilble=!0},B=(l,a,i)=>{let t=p(a);if(t.key!=e.sshKey)return;const n=new Blob([i],{type:"text/plain"}),o=new File([n],l);o.uid=Math.random().toString(36).substring(2),_({file:o},{pathVal:t.path,startUpLoad:"修改保存中"})},V=(0,S.iH)(),A=e=>{e.preventDefault()},F=e=>{e.preventDefault();let l=e.dataTransfer.files;if(l&&l.length>0)for(let a=0;a<l.length;a++){let e=l[a];e&&e.size>0?(e.uid=Math.random().toString(36).substring(2),_({file:e},{pathVal:o.value})):(0,te.z8)({message:"不支持拖拽文件夹或空文件",type:"warning",grouping:!0})}},H=(0,S.iH)(!1),z=(0,S.iH)(!1),O=(0,S.iH)(!1),W=(0,S.iH)(null),R=(0,S.iH)(),Q=async e=>{switch(e){case 1:y();break;case 2:i.value&&1==i.value.isDirectory?g(o.value+i.value.name+"/"):i.value&&0==i.value.isDirectory&&E(i.value.name);break;case 3:o.value&&o.value.length>0?(await a(o.value),(0,te.z8)({message:"复制成功",type:"success",grouping:!0})):(0,te.z8)({message:"内容为空",type:"warning",grouping:!0});break;case 4:i.value&&0==i.value.isDirectory&&k();break;case 5:L.value.DialogVisilble=!0,L.value.nowDir=o.value;break;case 6:W.value={...i.value},O.value=!0,setTimeout((()=>{document.querySelector("#rename").focus()}),1);break;case 7:z.value=!0;break;case 8:R.value.fileInfo={...i.value},R.value.fileDir=o.value,R.value.rename=i.value.name,R.value.DialogVisilble=!0;break;default:break}7!=e&&(H.value=!1,z.value=!1)},M=()=>{H.value=!1,z.value=!1},T=(0,S.iH)(),P=e=>{"fileArea"==e.target.id&&(i.value=null),T.value.style.top=e.clientY-135+"px",T.value.style.left=e.clientX+1+"px",H.value=!0,z.value=!1,e.preventDefault()},j=e=>{if(O.value=!1,e.name==W.value.name)return void(W.value=null);if(!(W.value.name&&W.value.name.trim().length>0))return(0,te.z8)({message:"文件名不能为空",type:"warning",grouping:!0}),void(W.value=null);if(-1!=W.value.name.indexOf("/"))return(0,te.z8)({message:"文件名不能含有 /",type:"warning",grouping:!0}),void(W.value=null);let l=o.value+e.name,a=o.value+W.value.name;W.value=null,N(l,a)},N=(l,a)=>{Wl().ajax({url:U+"/rename",type:"post",data:{sshKey:e.sshKey,oldPath:l,newPath:a},success(e){(0,te.z8)({message:e.info,type:e.status,grouping:!0}),c()}})},J=()=>{H.value=!1,z.value=!1,i.value.isDirectory&&(0,te.z8)({message:"目录删除中",type:"success",grouping:!0}),Wl().ajax({url:U+"/rm",type:"post",data:{sshKey:e.sshKey,isDirectory:i.value.isDirectory,path:o.value+i.value.name},success(e){(0,te.z8)({message:e.info,type:e.status,grouping:!0}),c()}})},L=(0,S.iH)(),G=(l,a,i)=>{if(0==l){for(let t=0;t<n.value.length;t++)if(n.value[t].name==a&&o.value==i)return void(0,te.z8)({message:"存在同名文件或目录",type:"error",grouping:!0});const e=new Blob([""],{type:"text/plain"}),l=new File([e],a);l.uid=Math.random().toString(36).substring(2),_({file:l},{pathVal:i,alert:"文件新建成功"})}else Wl().ajax({url:U+"/mkdir",type:"post",data:{sshKey:e.sshKey,path:i+a},success(e){(0,te.z8)({message:e.info,type:e.status,grouping:!0}),c()}})};return(0,t.YP)(o,(()=>{L.value&&L.value.reset()})),(0,t.bv)((()=>{document.addEventListener("mousedown",(e=>{if(T.value&&T.value.contains(e.target))return;let l=document.querySelector("#sureDelFileBtn");l&&l.contains(e.target)||(H.value=!1,z.value=!1)}))})),(0,t.Ah)((()=>{V.value&&(V.value.removeEventListener("dragover",A),V.value.removeEventListener("drop",F),V.value.removeEventListener("scroll",M))})),{DialogVisilble:b,closeDialog:D,isShowDirInput:r,dir:o,files:n,getInitDir:u,getDirList:c,downloadFile:m,changeDir:g,dirInputCallback:f,noDataMsg:d,doRefresh:y,doReturn:w,doDownload:k,doUpload:_,aimFileInfo:i,loading:l,txtPreviewRef:x,preViewFile:E,doSave:B,fileAreaRef:V,handleMenuSelect:Q,isShowMenu:H,preventDefault:A,handleFileDrag:F,handleScroll:M,handleContextMenu:P,isShowRenameInput:O,handleRename:j,renameFile:W,menuBlockRef:T,doShowDirInput:C,isShowPop:z,handlePopConfirm:J,mkFileRef:L,handleMkFile:G,doRename:N,fileAttrRef:R}}};const Ya=(0,Se.Z)(Za,[["render",zl],["__scopeId","data-v-10aa9a13"]]);var qa=Ya,Xa={name:"FrameWork",components:{ConnectSetting:We,StyleSetting:yl,FileBlock:qa},setup(){const{toClipboard:e}=(0,I.Z)(),l=new F.FitAddon,a=(0,S.iH)(null),i=(0,S.iH)({}),n=()=>{localStorage.getItem("options")?i.value=JSON.parse(V(localStorage.getItem("options"))):i.value={}};n();const o=()=>{if(localStorage.getItem("env")){a.value=JSON.parse(V(localStorage.getItem("env")));let e=i.value[a.value["option"]];e?a.value={...a.value,...e}:a.value.option=""}else a.value=H};o();const s=(e,l)=>{i.value={...i.value,[e]:l},localStorage.setItem("options",B(JSON.stringify(i.value))),n()},r=(0,S.iH)({Fail:"Fail to connect remote server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to remote server ...\r\n",Disconnected:"Disconnect to remote server.\r\n"}),u=(0,S.iH)(r.value["Connecting"]),d=(0,S.iH)();let c=null;const v=(0,S.iH)(!0),p=()=>{c=new A.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:a.value.cursorStyle,cursorBlink:a.value.cursorBlink,theme:{foreground:a.value.fg,background:a.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:a.value.fontFamily,fontSize:a.value.fontSize}),c.loadAddon(l)},m=()=>{if(d.value.style.height=window.innerHeight-25+"px",l.fit(),f.value&&f.value.readyState==WebSocket.OPEN&&c){let e=l.proposeDimensions().rows,a=l.proposeDimensions().cols;f.value.send(B(JSON.stringify({type:1,content:"",rows:e,cols:a}))),c.resize(a,e)}},g=(0,S.iH)(""),f=(0,S.iH)(null),y=()=>{f.value=new WebSocket(W+R(B(JSON.stringify(a.value)))),f.value.onopen=()=>{m()},f.value.onmessage=e=>{let l=JSON.parse(e.data);-1==l.code&&(c.clear(),u.value=r.value["Fail"],c.write(u.value),U(1)),0==l.code&&(c.clear(),u.value=r.value["Success"],g.value=V(l.info),setTimeout((()=>{m()}),1)),1==l.code&&(c.write(V(l.info)),c.options.scrollback+=c._core.buffer.lines.length)},f.value.onclose=e=>{u.value==r.value["Success"]&&3333!=e.code&&(g.value="",T(),u.value=r.value["Disconnected"],c.write("\r\n"+u.value))}},w=(0,S.iH)(!1),k=()=>{w.value=!w.value},h=(0,S.iH)(),_=(0,S.iH)(),C=(0,S.iH)(),b=e=>{a.value={...a.value,...e},localStorage.setItem("env",B(JSON.stringify(a.value))),U(3)},D=e=>{f.value&&(v.value&&(m(),v.value=!1),f.value.send(B(JSON.stringify({type:0,content:e,rows:0,cols:0}))))},x=e=>{e.preventDefault(),D(e.target.value),e.target.value=""},E=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();D(l)},z=()=>{w.value=!1},O=()=>{c&&d.value&&(d.value.removeEventListener("contextmenu",E),d.value.removeEventListener("compositionend",x),d.value.removeEventListener("click",z)),d.value.innerHTML="",v.value=!0,o(),p(),c.open(d.value),m(),d.value.addEventListener("compositionend",x),c.onKey((e=>{D(e.key)})),c.onSelectionChange((async()=>{if(c.hasSelection()){let l=c.getSelection(),a=l.trim();a&&""!=a&&await e(l)}})),d.value.addEventListener("contextmenu",E),d.value.addEventListener("click",z),c.write(u.value)},U=e=>{1==e?(w.value=!1,h.value.DialogVisilble=!0):2==e?(w.value=!1,_.value.DialogVisilble=!0):3==e?(w.value=!1,u.value=r.value["Connecting"],g.value="",f.value&&f.value.close(3333),T(),y(),O()):4==e&&(w.value=!1,C.value.DialogVisilble=!0,C.value.getInitDir())};let Q=null;const M=()=>{null==Q&&(Q=setInterval((()=>{f.value&&f.value.readyState==WebSocket.OPEN&&f.value.send(B(JSON.stringify({type:2,content:"",rows:0,cols:0})))}),25e3))},T=()=>{C.value.txtPreviewRef.DialogVisilble=!1,C.value.txtPreviewRef.resetEditor(),C.value.mkFileRef.DialogVisilble=!1,C.value.fileAttrRef.DialogVisilble=!1,C.value.DialogVisilble=!1,C.value.dir="",C.value.aimFileInfo=null,C.value.renameFile=null};return(0,t.bv)((()=>{y(),O(),window.addEventListener("resize",(()=>{C.value&&(C.value.isShowMenu=!1,C.value.isShowPop=!1),m()})),M()})),(0,t.Ah)((()=>{c&&d.value&&(d.value.removeEventListener("contextmenu",E),d.value.removeEventListener("compositionend",x),d.value.removeEventListener("click",z)),Q&&clearInterval(Q)})),{env:a,options:i,now_connect_status:u,terminal:d,doSSHConnect:y,socket:f,showSettings:k,isShowSetting:w,doSettings:U,connectSettingRef:h,styleSettingRef:_,fileBlockRef:C,saveEnv:b,sshKey:g,doHeartBeat:M,saveOp:s}}};const $a=(0,Se.Z)(Xa,[["render",b],["__scopeId","data-v-afd23d12"]]);var ei=$a,li={name:"App",components:{FrameWork:ei}};const ai=(0,Se.Z)(li,[["render",n]]);var ii=ai,ti=(a(4415),a(391)),ni=a(1088),oi=a(1015),si=a(3370),ri=a(3096),ui=a(5868),di=a(8727),ci=a(7224),vi=a(4775),pi=a(3838),mi=(a(1849),a(3189));const gi=(0,i.ri)(ii);gi.use(ti.ElButton).use(ni.d0).use(oi.gn).use(si.EZ).use(ri.LW).use(ui.$),gi.use(di.YK).use(di.o2).use(di.Df).use(ci.OX).use(vi.kN).use(pi.KD).use(pi.rh),gi.use(mi.Z),gi.mount("#app"),Wl().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(V(e.data))),JSON.stringify(e)}}),gi.config.warnHandler=()=>{}},2480:function(){}},l={};function a(i){var t=l[i];if(void 0!==t)return t.exports;var n=l[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){a.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];a.O=function(l,i,t,n){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],t=e[d][1],n=e[d][2];for(var s=!0,r=0;r<i.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(s=!1,n<o&&(o=n));if(s){e.splice(d--,1);var u=t();void 0!==u&&(l=u)}}return l}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,t,n]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){a.d=function(e,l){for(var i in l)a.o(l,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:l[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(l){return 0===e[l]};var l=function(l,i){var t,n,o=i[0],s=i[1],r=i[2],u=0;if(o.some((function(l){return 0!==e[l]}))){for(t in s)a.o(s,t)&&(a.m[t]=s[t]);if(r)var d=r(a)}for(l&&l(i);u<o.length;u++)n=o[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},i=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];i.forEach(l.bind(null,0)),i.push=l.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(673)}));i=a.O(i)})();
//# sourceMappingURL=app.a3e97807.js.map