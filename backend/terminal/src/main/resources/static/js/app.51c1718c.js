(function(){var e={6868:function(e,l,t){"use strict";var a=t(9242),o=t(3396);function i(e,l,t,a,i,n){const s=(0,o.up)("FrameWork");return(0,o.wg)(),(0,o.j4)(s)}var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAB/dJREFUeF7tnbGv5VMQx2f/yNUoNAqFQqFQSKxCoVAoFAqNQrEbghCCEIQQhCBBCBtCEIIQgrD22rPZt8l7d+/Ombn3fGc+t74z58znO5/87ktu7jtlvCAAgRMJnIINBCBwMgEEYTsgsIUAgrAeEEAQdgACPgI8QXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQggSJOgGdNHAEF83KhqQgBBmgTNmD4CCOLjRlUTAgjSJGjG9BHYCHLBV0oVBOoTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwggyAQ8SusTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwioC3LOzE5PzE8pBLYSUBbkETO70czOIglbnkVAVZCHzeymI1CQJGtDmvdVFOQhM7v5mNyQpPkyZ4yvJsiDZnbLFhBIkrEljXsqCfKAmd26Q1ZIsgMk3rIbARVB7jez23Yb6f93Icl1wOKtJxNQEOQ+M7vdESKSOKBRcjWB1QW518zumAgNSSbgUWq2siD3mNmdASEhSQDEri1WFeTui4GcCQwFSQJhdmq1qiCbDJCk0yYuOuvKgiDJokvT6VqrC4IknbZxwVkVBEGSBReny5VUBEGSLhu52JxKgiDJYsvT4TpqgiBJh61caEZFQZBkoQWqfhVVQZCk+mYuMp+yIEiyyBJVvoa6IEhSeTsXmK2CIEiywCJVvUIVQZCk6oYeeK5KgiDJgZep4vHVBEGSilt6wJkqCoIkB1yoakdXFQRJqm3qgeapLAiSHGipKh1bXRAkqbStB5ilgyBIcoDFqnJkF0GQpMrG7nmOToIgyZ6Xq8Jx3QRBkgpbu8cZOgqCJHtcMPWjugqCJOqbu6f7dxYESfa0ZMrHdBcESZS3dw93R5BLkPmZ0z0sm+IRCHIlNSRR3ODkOyPI1YCRJHnh1NojyJXEPjSzG8zso6AQT49/BRfUjjaHIIAgl6h/MOT4OCgE5AgCeeg2CGL2/pDjk6AwkCMI5Aptugvy3pDj06AwkCMI5CptOgvy7pDjs6AwkCMI5EptugryzpDj86AwkCMI5GptOgry9pDji6AwkCMI5Iptugny1pDjfFAYyBEEctU2nQR5c8jxZVAYyBEEcuU2XQR5Y8jxVVAYyBEEcvU2HQR5fcjxdVAYyBEEUqFNdUFeG3J8ExQGcgSBVGlTWZBXhxzfBoWBHEEgldpUFeSVIcd3QWEgRxBItTYVBXl5yPF9UBjIEQRSsU01QV4acvwQFAZyBIFUbVNJkBeHHD8GhYEcQSCV21QR5IUhx09BYSBHEEj1NhUEeX7I8XNQGMgRBLJCG3VBnhty/BIUBnIEgazSRlmQZ4ccvwaFgRxBICu1URXkmSHHb0FhIEcQyGptFAV5esjxe1AYyBEEsmIbNUGeGnL8ERQGcgSBrNpGSZAnhxx/BoWBHEEgK7dREeSJIcdfQWEgRxDI6m0UBHl8yPF3UBjIEQSyQ5vVBXlsyPFPUBgKcmwy6fa66+LAZ1YcemVBHh1y/BsETkGOzagdBdnIsZFkudeqgpwbckQBU5GjqyA8QRybvvml9Y0osy8lORBkNu3g+lWfIJfHnJVETY6ugvARa0JsrySKcnQVhI9YE4JsSq9XElU5EGRyUaLLV/+IdXTeXSVRlqOrIHzECjL7WpKoy4EgQYsS1UbpCXKtP9wryIEgUZsd1EdRkOP+JqkiB4IELXZUG1VBjkpSSQ4EidrsoD7KglyW5GwQi1Xa8FWTVZIY3/u5sNB9uArfxVpqB9SfIEvBDLoMT5AgkBFtECSCYmyPXb72vU2i4z4RKEjHt3lj94huEMgnwBMknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE0AQ4fC4ej4BBMlnzAnCBBBEODyunk8AQfIZc4IwAQQRDo+r5xNAkHzGnCBMAEGEw+Pq+QQQJJ8xJwgTQBDh8Lh6PgEEyWfMCcIEEEQ4PK6eTwBB8hlzgjABBBEOj6vnE0CQfMacIEwAQYTD4+r5BBAknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE9gIwgsCEDiBAIKwGhDYQgBBWA8IIAg7AAEfAZ4gPm5UNSGAIE2CZkwfAQTxcaOqCQEEaRI0Y/oIIIiPG1VNCCBIk6AZ00cAQXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQj8B1C6ZEICxVr9AAAAAElFTkSuQmCC";const s=e=>((0,o.dD)("data-v-432832be"),e=e(),(0,o.Cn)(),e),r={class:"golbal"},u={class:"setting"},d=s((()=>(0,o._)("div",null,"连接设置",-1))),c=[d],p=s((()=>(0,o._)("div",null,"偏好设置",-1))),v=[p],m=s((()=>(0,o._)("div",null,"文件管理",-1))),g=[m],f=s((()=>(0,o._)("div",null,"重启",-1))),y=[f],w={class:"bar"},k=s((()=>(0,o._)("img",{src:n,alt:"终端",style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,-1))),h=[k],_=s((()=>(0,o._)("div",{style:{"user-select":"none","font-size":"14px"}},[(0,o._)("span",null,"kk Terminal")],-1))),x=s((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),b={key:0,style:{display:"flex","align-items":"center"}},C=s((()=>(0,o._)("div",{style:{"font-size":"12px",color:"#313131","user-select":"none"}}," TCode ",-1))),S=s((()=>(0,o._)("div",{style:{"margin-left":"7px"}},null,-1))),I={style:{cursor:"pointer","margin-left":"5px"}},D=s((()=>(0,o._)("div",{style:{"font-size":"12px",color:"#313131"}},[(0,o._)("div",{style:{"user-select":"none","font-size":"14px","font-weight":"bold"}},"什么是 TCode (事务代码) ？"),(0,o._)("div",{style:{"user-select":"none","margin-top":"5px"}},"TCode（事务代码）是用于访问和执行特定事务流程的快捷方式"),(0,o._)("div",{style:{"user-select":"none","margin-top":"5px"}},[(0,o.Uk)(" 输入 "),(0,o._)("span",{style:{"background-color":"#f3f4f4","user-select":"text"}},"/H"),(0,o.Uk)(" 并按下回车，查看帮助信息")])],-1))),E=s((()=>(0,o._)("div",{style:{"margin-left":"20px"}},null,-1))),V={ref:"terminal",class:"terminal-class"};function T(e,l,t,i,n,s){const d=(0,o.up)("el-input"),p=(0,o.up)("QuestionFilled"),m=(0,o.up)("el-icon"),f=(0,o.up)("el-popover"),k=(0,o.up)("ConnectSetting"),T=(0,o.up)("StyleSetting"),A=(0,o.up)("FileBlock"),F=(0,o.up)("UserTcode"),B=(0,o.up)("HelpTcode");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",r,[(0,o.wy)((0,o._)("div",u,[(0,o._)("div",{class:"setting-menu no-select",onClick:l[0]||(l[0]=e=>i.doSettings(1))},c),(0,o._)("div",{class:"setting-menu no-select",onClick:l[1]||(l[1]=e=>i.doSettings(2))},v),(0,o._)("div",{class:"setting-menu no-select",onClick:l[2]||(l[2]=e=>i.doSettings(4))},g),(0,o._)("div",{class:"setting-menu no-select",onClick:l[3]||(l[3]=e=>i.doSettings(3))},y)],512),[[a.F8,i.isShowSetting]]),(0,o._)("div",w,[(0,o._)("div",{style:{"user-select":"none"},onClick:l[4]||(l[4]=(...e)=>i.showSettings&&i.showSettings(...e))},h),_,x,i.env.tCode?((0,o.wg)(),(0,o.iD)("div",b,[C,S,(0,o._)("div",null,[(0,o.Wm)(d,{modelValue:i.tcode,"onUpdate:modelValue":l[5]||(l[5]=e=>i.tcode=e),ref:"tCodeInputRef",style:{width:"100px",height:"20px",fontSize:"12px"},onChange:i.handleTcode},null,8,["modelValue","onChange"])]),(0,o._)("div",I,[(0,o.Wm)(f,{placement:"bottom-end",width:220,trigger:"hover"},{reference:(0,o.w5)((()=>[(0,o.Wm)(m,{style:{color:"#606266"}},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])),default:(0,o.w5)((()=>[D])),_:1})]),E])):(0,o.kq)("",!0)]),(0,o._)("div",V,null,512)]),(0,o.Wm)(k,{ref:"connectSettingRef",env:i.env,sshOptions:i.options,onSaveOp:i.saveOp,onCallback:i.saveEnv},null,8,["env","sshOptions","onSaveOp","onCallback"]),(0,o.Wm)(T,{ref:"styleSettingRef",env:i.env,onCallback:i.saveEnv},null,8,["env","onCallback"]),(0,o.Wm)(A,{ref:"fileBlockRef",sshKey:i.sshKey},null,8,["sshKey"]),(0,o.Wm)(F,{ref:"userTcodeRef",onImportTCodes:i.importTCodes,onExportTcodes:i.exportTcodes},null,8,["onImportTCodes","onExportTcodes"]),(0,o.Wm)(B,{ref:"helpTcodeRef",userTCodes:i.tcodes},null,8,["userTCodes"])],64)}t(7658),t(6229),t(7330),t(2062);var A=t(7071),F=t(4870),B=t(8082),W=t.n(B);const H="P5P1SIqVe6kaOxMX";function z(e){var l=W().enc.Utf8.parse(H),t=W().enc.Utf8.parse(e),a=W().AES.encrypt(t,l,{mode:W().mode.ECB,padding:W().pad.Pkcs7});return a.toString()}function U(e){var l=W().enc.Utf8.parse(H),t=W().AES.decrypt(e,l,{mode:W().mode.ECB,padding:W().pad.Pkcs7});return W().enc.Utf8.stringify(t).toString()}var O=t(5595),R=t(6537),N=t(7114);const M={server_ip:"",server_port:22,server_user:"root",server_password:"",option:"",bg:"#0c0c0c",fg:"#f2f2f2",fontFamily:"Monospace",fontSize:16,cursorStyle:"block",cursorBlink:!0,tCode:!0};let j=window.location.protocol,Q="";Q="https:"==j?"wss://":"ws://";const P=Q+window.location.host+"/socket/ssh/",L=j+"//"+window.location.host+"/api";function J(e){let l="";for(let t=0;t<e.length;t++)"/"!=e[t]?l+=e[t]:l+="@";return l}var G=t(7139);const K=e=>((0,o.dD)("data-v-b2d70b1c"),e=e(),(0,o.Cn)(),e),q=K((()=>(0,o._)("div",{style:{"margin-top":"-25px"}},null,-1))),Y={class:"item-class",style:{"margin-bottom":"15px"}},Z=K((()=>(0,o._)("div",{class:"no-select nowrap"},"配   置：",-1))),X=K((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),$={class:"item-class",style:{"margin-bottom":"15px"}},ee=K((()=>(0,o._)("div",{class:"no-select"},"主机ip：",-1))),le={class:"item-class",style:{"margin-bottom":"15px"}},te=K((()=>(0,o._)("div",{class:"no-select"},"端口号：",-1))),ae={class:"item-class",style:{"margin-bottom":"15px"}},oe=K((()=>(0,o._)("div",{class:"no-select"},"用户名：",-1))),ie={class:"item-class",style:{"margin-bottom":"5px"}},ne=K((()=>(0,o._)("div",{class:"no-select"},"密   码：",-1))),se={class:"errInfo no-select"},re=K((()=>(0,o._)("div",{style:{"margin-bottom":"5px"}},null,-1))),ue={style:{display:"flex","border-top":"1px solid #f1f2f4"}},de=K((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function ce(e,l,t,a,i,n){const s=(0,o.up)("Upload"),r=(0,o.up)("el-icon"),u=(0,o.up)("el-button"),d=(0,o.up)("Finished"),c=(0,o.up)("Edit"),p=(0,o.up)("HomeFilled"),v=(0,o.up)("el-input"),m=(0,o.up)("DocumentCopy"),g=(0,o.up)("Paperclip"),f=(0,o.up)("User"),y=(0,o.up)("Lock"),w=(0,o.up)("View"),k=(0,o.up)("Hide"),h=(0,o.up)("el-dialog"),_=(0,o.up)("OptionBlock");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(h,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[11]||(l[11]=e=>a.DialogVisilble=e),"destory-on-close":!0,"before-close":a.closeDialog,width:360,title:"连接设置",modal:!1,"close-on-click-modal":!1,"modal-class":"kk-dialog-class","align-center":"",draggable:""},{default:(0,o.w5)((()=>[q,(0,o._)("div",null,[(0,o._)("div",Y,[Z,(0,o._)("div",{class:(0,G.C_)(["ellipsis",a.setInfo.option&&a.setInfo.option.length>0?"old-option":"new-option"]),style:{"user-select":"none"}},(0,G.zw)(a.setInfo.option&&a.setInfo.option.length>0?a.setInfo.option:"新建配置"),3),X,(0,o._)("div",null,[(0,o.Wm)(u,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>a.showOption(0)),style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1}),(0,o.Uk)("导入")])),_:1})]),(0,o._)("div",null,[0==a.isForbidInput?((0,o.wg)(),(0,o.j4)(u,{key:0,size:"small",type:"primary",onClick:l[1]||(l[1]=e=>a.showOption(1)),style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1}),(0,o.Uk)("保存")])),_:1})):(0,o.kq)("",!0)]),(0,o._)("div",null,[1==a.isForbidInput?((0,o.wg)(),(0,o.j4)(u,{key:0,size:"small",type:"primary",onClick:a.newOp,style:{"margin-left":"10px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1}),(0,o.Uk)("新建")])),_:1},8,["onClick"])):(0,o.kq)("",!0)])]),(0,o._)("div",$,[ee,(0,o._)("div",null,[(0,o.Wm)(v,{disabled:a.isForbidInput,modelValue:a.setInfo.server_ip,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.server_ip=e),class:"w-50 m-2",placeholder:"输入主机ip"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,o._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[3]||(l[3]=e=>a.doCopy(a.setInfo.server_ip))},[(0,o.Wm)(r,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])]),(0,o._)("div",le,[te,(0,o._)("div",null,[(0,o.Wm)(v,{disabled:a.isForbidInput,modelValue:a.setInfo.server_port,"onUpdate:modelValue":l[4]||(l[4]=e=>a.setInfo.server_port=e),class:"w-50 m-2",placeholder:"输入端口号"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,o._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[5]||(l[5]=e=>a.doCopy(a.setInfo.server_port))},[(0,o.Wm)(r,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])]),(0,o._)("div",ae,[oe,(0,o._)("div",null,[(0,o.Wm)(v,{disabled:a.isForbidInput,modelValue:a.setInfo.server_user,"onUpdate:modelValue":l[6]||(l[6]=e=>a.setInfo.server_user=e),class:"w-50 m-2",placeholder:"输入用户名"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})])),_:1},8,["disabled","modelValue"])]),(0,o._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[7]||(l[7]=e=>a.doCopy(a.setInfo.server_user))},[(0,o.Wm)(r,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])]),(0,o._)("div",ie,[ne,(0,o._)("div",null,[(0,o.Wm)(v,{disabled:a.isForbidInput,modelValue:a.setInfo.server_password,"onUpdate:modelValue":l[8]||(l[8]=e=>a.setInfo.server_password=e),type:a.isShowPassword?"text":"password",class:"w-50 m-2",placeholder:"输入密码"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-input__icon"},{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])),_:1},8,["disabled","modelValue","type"])]),1==a.isShowPassword?((0,o.wg)(),(0,o.iD)("div",{key:0,style:{cursor:"pointer","margin-left":"10px"},onClick:l[9]||(l[9]=e=>a.isShowPassword=!1)},[(0,o.Wm)(r,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1})])):((0,o.wg)(),(0,o.iD)("div",{key:1,style:{cursor:"pointer","margin-left":"10px"},onClick:l[10]||(l[10]=e=>a.isShowPassword=!0)},[(0,o.Wm)(r,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(k)])),_:1})]))])]),(0,o._)("div",se,(0,G.zw)(a.err_msg),1),re,(0,o._)("div",ue,[de,(0,o.Wm)(u,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close"]),(0,o.Wm)(_,{ref:"optionBlockRef",onCallback:a.doOption,opType:a.optionBlockType,sshOptions:t.sshOptions},null,8,["onCallback","opType","sshOptions"])],64)}const pe=e=>((0,o.dD)("data-v-35582546"),e=e(),(0,o.Cn)(),e),ve=pe((()=>(0,o._)("div",{style:{"margin-top":"-27px"}},null,-1))),me={class:"no-select"},ge={key:0,class:"kk-border"},fe=["onClick"],ye={class:"ellipsis",style:{margin:"0 10px"}},we={key:1,class:"kk-border"},ke={class:"kk-flex"},he=pe((()=>(0,o._)("div",null,"配置名：",-1))),_e={style:{flex:"1"}},xe={style:{"margin-left":"10px"}},be=pe((()=>(0,o._)("div",{style:{"margin-top":"-15px"}},null,-1)));function Ce(e,l,t,a,i,n){const s=(0,o.up)("FileIcons"),r=(0,o.up)("NoData"),u=(0,o.up)("el-input"),d=(0,o.up)("el-button"),c=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(c,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisilble=e),"before-close":a.closeDialog,"destroy-on-close":"",width:420,modal:!1,title:"全部配置","modal-class":"kk-dialog-class",draggable:""},{default:(0,o.w5)((()=>[ve,(0,o._)("div",me,[Object.keys(t.sshOptions).length>0?((0,o.wg)(),(0,o.iD)("div",ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.sshOptions,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",{class:(0,G.C_)(["item-class",a.aimOption==l?"item-selected":""]),onClick:e=>a.aimOption=l},[(0,o.Wm)(s,{name:"kk.txt",width:"20",height:"20",isFolder:!1}),(0,o._)("div",ye,(0,G.zw)(l),1)],10,fe)])))),128))])):((0,o.wg)(),(0,o.iD)("div",we,[(0,o.Wm)(r,{msg:a.noDataMsg},null,8,["msg"])])),(0,o._)("div",ke,[he,(0,o._)("div",_e,[(0,o.Wm)(u,{size:"small",modelValue:a.aimOption,"onUpdate:modelValue":l[0]||(l[0]=e=>a.aimOption=e),disabled:0==t.opType,class:"w-50 m-2",placeholder:""},null,8,["modelValue","disabled"])]),(0,o._)("div",xe,[(0,o.Wm)(d,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)((0,G.zw)(t.opType?"保存":"导入"),1)])),_:1},8,["onClick"])])])]),be])),_:1},8,["modelValue","before-close"])}var Se=t.p+"img/no_data.ec5c928e.png";const Ie=e=>((0,o.dD)("data-v-7a3a533e"),e=e(),(0,o.Cn)(),e),De=Ie((()=>(0,o._)("div",null,[(0,o._)("img",{src:Se,alt:"暂无数据",style:{width:"120px"}})],-1))),Ee={class:"msg"};function Ve(e,l,t,a,i,n){return(0,o.wg)(),(0,o.iD)("div",{class:"no-data",style:(0,G.j5)(a.viewStyle)},[(0,o._)("div",null,[(0,o.WI)(e.$slots,"myslot",{},void 0,!0),De,(0,o._)("div",Ee,(0,G.zw)(t.msg),1)])],4)}var Te={name:"NoData",components:{},props:{msg:{type:String,required:!1,default:"暂无数据"},width:{type:String,required:!1},height:{type:String,required:!1}},setup(e){const l=(0,o.Fl)((()=>({width:e.width?e.width+"px":"100%",height:e.height?e.height+"px":"30vh"})));return{viewStyle:l}}},Ae=t(89);const Fe=(0,Ae.Z)(Te,[["render",Ve],["__scopeId","data-v-7a3a533e"]]);var Be=Fe,We=t(3223),He=t.n(We),ze={name:"OptionBlock",components:{FileIcons:He(),NoData:Be},props:["opType","sshOptions"],setup(e,l){const t=(0,F.iH)(!1),a=(0,F.iH)(""),o=(0,F.iH)("暂无配置"),i=(0,F.iH)(""),n=()=>{""!=i.value&&""!=i.value.trim()&&(l.emit("callback",i.value.trim()),t.value=!1)},s=e=>{i.value="",e()};return{DialogVisilble:t,err_msg:a,noDataMsg:o,aimOption:i,confirm:n,closeDialog:s}}};const Ue=(0,Ae.Z)(ze,[["render",Ce],["__scopeId","data-v-35582546"]]);var Oe=Ue,Re=t(2748),Ne={name:"ConnectSetting",components:{OptionBlock:Oe,HomeFilled:Re.Ozs,Paperclip:Re.pkz,User:Re.n5m,Lock:Re.HEZ,DocumentCopy:Re.IBc,View:Re.G7x,Hide:Re.caK,Edit:Re.I8b,Finished:Re.qWi,Upload:Re.gqx},props:["env","sshOptions"],setup(e,l){const t=(0,F.iH)(!1),a=(0,F.iH)(""),o=(0,F.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option}),i=()=>{a.value="";const e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return e.test(o.value.server_ip)?isNaN(o.value.server_port)||o.value.server_port<0||o.value.server_port>65535?(a.value="端口号无效",!1):o.value.server_user&&""!=o.value.server_user?!(!o.value.server_password||""==o.value.server_password)||(a.value="密码不能为空",!1):(a.value="用户名不能为空",!1):(a.value="主机ip地址无效",!1)},n=(0,F.iH)(),s=(0,F.iH)(0),r=e=>{1==e&&0==i()||(s.value=e,n.value.DialogVisilble=!0,n.value.aimOption="")},u=(0,F.iH)(!1);""!=o.value.option&&(u.value=!0);const d=t=>{0==s.value?(o.value={...o.value,...e.sshOptions[t]},u.value=!0):1==s.value&&(o.value.option=t,l.emit("saveOp",t,o.value),u.value=!0)},c=()=>{u.value=!1,o.value.option=""},p=()=>{0!=i()&&(l.emit("callback",o.value),t.value=!1)},{toClipboard:v}=(0,A.Z)(),m=async e=>{e+="",e&&e.length>0?(await v(e),(0,O.z8)({message:"复制成功",type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,O.z8)({message:"内容为空",type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},g=(0,F.iH)(!1),f=l=>{n.value.DialogVisilble=!1,setTimeout((()=>{a.value="",g.value=!1,o.value={server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option},""!=o.value.option?u.value=!0:u.value=!1}),200),l()};return{setInfo:o,DialogVisilble:t,err_msg:a,confirm:p,optionBlockRef:n,showOption:r,optionBlockType:s,doOption:d,isForbidInput:u,newOp:c,closeDialog:f,doCopy:m,isShowPassword:g}}};const Me=(0,Ae.Z)(Ne,[["render",ce],["__scopeId","data-v-b2d70b1c"]]);var je=Me;const Qe=e=>((0,o.dD)("data-v-9998a8b0"),e=e(),(0,o.Cn)(),e),Pe=Qe((()=>(0,o._)("div",{style:{"margin-top":"-27px"}},null,-1))),Le={class:"no-select"},Je={class:"item-class",style:{"margin-bottom":"15px"}},Ge=Qe((()=>(0,o._)("div",{style:{"margin-right":"10px"}},"颜色：",-1))),Ke={class:"item-class"},qe=Qe((()=>(0,o._)("div",null,"背景色",-1))),Ye={style:{margin:"0 20px"}},Ze=Qe((()=>(0,o._)("div",{style:{width:"20px"}},null,-1))),Xe={class:"item-class"},$e=Qe((()=>(0,o._)("div",null,"前景色",-1))),el={style:{margin:"0 20px"}},ll={class:"item-class",style:{"margin-bottom":"15px"}},tl=Qe((()=>(0,o._)("div",{style:{"margin-right":"10px"}},"文本：",-1))),al={class:"item-class"},ol=Qe((()=>(0,o._)("div",null,"字体",-1))),il={class:"a-link"},nl={class:"item-class"},sl=Qe((()=>(0,o._)("div",null,"字号",-1))),rl={class:"a-link"},ul={class:"item-class",style:{"margin-bottom":"5px"}},dl=Qe((()=>(0,o._)("div",{style:{"margin-right":"10px"}},"光标：",-1))),cl={class:"item-class"},pl=Qe((()=>(0,o._)("div",null,"样式",-1))),vl={class:"a-link"},ml={class:"item-class"},gl=Qe((()=>(0,o._)("div",null,"闪烁",-1))),fl={style:{margin:"0 20px"}},yl={class:"item-class",style:{"margin-bottom":"5px"}},wl=Qe((()=>(0,o._)("div",{style:{"margin-right":"10px"}},"快捷：",-1))),kl={class:"item-class"},hl=Qe((()=>(0,o._)("div",null,"TCode",-1))),_l={style:{margin:"0 20px"}},xl=Qe((()=>(0,o._)("div",{style:{"margin-bottom":"5px"}},null,-1))),bl={style:{display:"flex","border-top":"1px solid #f1f2f4"}},Cl=Qe((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Sl(e,l,t,a,i,n){const s=(0,o.up)("el-color-picker"),r=(0,o.up)("arrow-down"),u=(0,o.up)("el-icon"),d=(0,o.up)("el-dropdown-item"),c=(0,o.up)("el-dropdown-menu"),p=(0,o.up)("el-dropdown"),v=(0,o.up)("el-switch"),m=(0,o.up)("el-button"),g=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(g,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[4]||(l[4]=e=>a.DialogVisilble=e),"destroy-on-close":"",width:420,title:"偏好设置",modal:!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,o.w5)((()=>[Pe,(0,o._)("div",Le,[(0,o._)("div",Je,[Ge,(0,o._)("div",Ke,[qe,(0,o._)("div",Ye,[(0,o.Wm)(s,{modelValue:a.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>a.setInfo.bg=e)},null,8,["modelValue"])])]),Ze,(0,o._)("div",Xe,[$e,(0,o._)("div",el,[(0,o.Wm)(s,{modelValue:a.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>a.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,o._)("div",ll,[tl,(0,o._)("div",al,[ol,(0,o.Wm)(p,{style:{margin:"0 20px"}},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.fontFamilyList,((e,l)=>((0,o.wg)(),(0,o.j4)(d,{key:l,onClick:l=>a.setInfo.fontFamily=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,G.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",il,[(0,o.Uk)((0,G.zw)(a.setInfo.fontFamily),1),(0,o.Wm)(u,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])])),_:1})]),(0,o._)("div",nl,[sl,(0,o.Wm)(p,{style:{margin:"0 20px"}},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.fontSizeList,((e,l)=>((0,o.wg)(),(0,o.j4)(d,{key:l,onClick:l=>a.setInfo.fontSize=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,G.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",rl,[(0,o.Uk)((0,G.zw)(a.setInfo.fontSize),1),(0,o.Wm)(u,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])])),_:1})])]),(0,o._)("div",ul,[dl,(0,o._)("div",cl,[pl,(0,o.Wm)(p,{style:{margin:"0 20px"}},{dropdown:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.cursorStyleList,((e,l)=>((0,o.wg)(),(0,o.j4)(d,{key:l,onClick:l=>a.setInfo.cursorStyle=e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,G.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("span",vl,[(0,o.Uk)((0,G.zw)(a.setInfo.cursorStyle),1),(0,o.Wm)(u,{class:"el-icon--right"},{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})])])),_:1})]),(0,o._)("div",ml,[gl,(0,o._)("div",fl,[(0,o.Wm)(v,{modelValue:a.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.cursorBlink=e)},null,8,["modelValue"])])])]),(0,o._)("div",yl,[wl,(0,o._)("div",kl,[hl,(0,o._)("div",_l,[(0,o.Wm)(v,{modelValue:a.setInfo.tCode,"onUpdate:modelValue":l[3]||(l[3]=e=>a.setInfo.tCode=e)},null,8,["modelValue"])])])])]),xl,(0,o._)("div",bl,[Cl,(0,o.Wm)(m,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var Il={name:"StyleSetting",components:{ArrowDown:Re.K5e},props:["env"],setup(e,l){const t=(0,F.iH)(!1),a=["Monospace","Consolas","Courier","Lucida Console"],o=[12,14,16,18,20],i=["block","underline","bar"],n=(0,F.iH)({bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink,tCode:e.env.tCode}),s=()=>{l.emit("callback",n.value),t.value=!1};return{fontFamilyList:a,fontSizeList:o,cursorStyleList:i,setInfo:n,DialogVisilble:t,confirm:s}}};const Dl=(0,Ae.Z)(Il,[["render",Sl],["__scopeId","data-v-9998a8b0"]]);var El=Dl;const Vl=e=>((0,o.dD)("data-v-a4e0b70a"),e=e(),(0,o.Cn)(),e),Tl=Vl((()=>(0,o._)("div",{style:{"margin-top":"-27px"}},null,-1))),Al={class:"title",style:{display:"flex","align-items":"center"}},Fl={class:"ellipsis",style:{flex:"1"}},Bl={key:0},Wl={style:{display:"flex","align-items":"center"}},Hl={key:0},zl=["onClick","onDblclick","onContextmenu"],Ul={key:0,style:{margin:"0 10px"}},Ol={key:1,class:"ellipsis",style:{margin:"0 10px"}},Rl=["onClick","onDblclick","onContextmenu"],Nl={key:0,style:{margin:"0 10px"}},Ml={key:1,class:"ellipsis",style:{margin:"0 10px"}},jl={key:1},Ql=Vl((()=>(0,o._)("div",{style:{"margin-top":"-12px"}},null,-1))),Pl=Vl((()=>(0,o._)("div",{class:"no-select",style:{"font-size":"13px","margin-top":"4px"}},"确定删除此文件/文件夹吗?",-1)));function Ll(e,l,t,i,n,s){const r=(0,o.up)("el-input"),u=(0,o.up)("Refresh"),d=(0,o.up)("el-icon"),c=(0,o.up)("Fold"),p=(0,o.up)("Download"),v=(0,o.up)("Upload"),m=(0,o.up)("el-upload"),g=(0,o.up)("FileIcons"),f=(0,o.up)("NoData"),y=(0,o.up)("el-dialog"),w=(0,o.up)("TxtPreview"),k=(0,o.up)("MkFile"),h=(0,o.up)("FileAttr"),_=(0,o.up)("el-button"),x=(0,o.up)("a-popconfirm"),b=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(y,{modelValue:i.DialogVisilble,"onUpdate:modelValue":l[13]||(l[13]=e=>i.DialogVisilble=e),"before-close":i.closeDialog,title:"文件管理",width:"50%",modal:!1,"modal-class":"kk-dialog-class",draggable:"",style:{position:"relative"}},{default:(0,o.w5)((()=>[Tl,(0,o._)("div",null,[(0,o._)("div",Al,[(0,o._)("div",Fl,[1==i.isShowDirInput?((0,o.wg)(),(0,o.iD)("div",Bl,[(0,o.Wm)(r,{id:"aimDirInput",modelValue:i.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>i.dir=e),placeholder:"输入目录路径",size:"small",onBlur:i.dirInputCallback},null,8,["modelValue","onBlur"])])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"no-select ellipsis",onDblclick:l[1]||(l[1]=(...e)=>i.doShowDirInput&&i.doShowDirInput(...e))},(0,G.zw)(i.dir),33))]),(0,o._)("div",Wl,[(0,o._)("div",{class:"hover-class",onClick:l[2]||(l[2]=(...e)=>i.doRefresh&&i.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})]),(0,o._)("div",{class:"hover-class",onClick:l[3]||(l[3]=(...e)=>i.doReturn&&i.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})]),(0,o._)("div",{class:"hover-class",onClick:l[4]||(l[4]=(...e)=>i.doDownload&&i.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1})]),(0,o._)("div",{class:"hover-class",onClick:l[5]||(l[5]=(...e)=>i.doUpload&&i.doUpload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,o.Wm)(m,{"show-file-list":!1,"with-credentials":!0,"http-request":i.doUpload,multiple:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})])),_:1},8,["http-request"])])])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{id:"fileArea",ref:"fileAreaRef","element-loading-text":"Loading...",class:"list-class no-select",onContextmenu:l[9]||(l[9]=(...e)=>i.handleContextMenu&&i.handleContextMenu(...e)),onDragover:l[10]||(l[10]=(...e)=>i.preventDefault&&i.preventDefault(...e)),onDrop:l[11]||(l[11]=(...e)=>i.handleFileDrag&&i.handleFileDrag(...e)),onScroll:l[12]||(l[12]=(...e)=>i.handleScroll&&i.handleScroll(...e))},[0!=i.files.length?((0,o.wg)(),(0,o.iD)("div",Hl,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.files,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[1==e.isDirectory?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,G.C_)(["item-class",i.aimFileInfo&&e.id==i.aimFileInfo.id?"item-selected":""]),onClick:l=>i.aimFileInfo=e,onDblclick:l=>i.changeDir(i.dir+e.name+"/"),onContextmenu:l=>i.aimFileInfo=e},[(0,o.Wm)(g,{name:e.name,width:"20",height:"20",isFolder:e.isDirectory},null,8,["name","isFolder"]),1==i.isShowRenameInput&&i.renameFile&&e.id==i.renameFile.id?((0,o.wg)(),(0,o.iD)("div",Ul,[(0,o.Wm)(r,{id:"rename",modelValue:i.renameFile.name,"onUpdate:modelValue":l[6]||(l[6]=e=>i.renameFile.name=e),placeholder:"",size:"small",onBlur:l=>i.handleRename(e)},null,8,["modelValue","onBlur"])])):((0,o.wg)(),(0,o.iD)("div",Ol,(0,G.zw)(e.name),1))],42,zl)):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,G.C_)(["item-class",i.aimFileInfo&&e.id==i.aimFileInfo.id?"item-selected":""]),onClick:l=>i.aimFileInfo=e,onDblclick:l=>i.preViewFile(e.name),onContextmenu:l=>i.aimFileInfo=e},[(0,o.Wm)(g,{name:e.name,width:"20",height:"20",isFolder:e.isDirectory},null,8,["name","isFolder"]),1==i.isShowRenameInput&&i.renameFile&&e.id==i.renameFile.id?((0,o.wg)(),(0,o.iD)("div",Nl,[(0,o.Wm)(r,{id:"rename",modelValue:i.renameFile.name,"onUpdate:modelValue":l[7]||(l[7]=e=>i.renameFile.name=e),placeholder:"",size:"small",onBlur:l=>i.handleRename(e)},null,8,["modelValue","onBlur"])])):((0,o.wg)(),(0,o.iD)("div",Ml,(0,G.zw)(e.name),1))],42,Rl))])))),128))])):((0,o.wg)(),(0,o.iD)("div",jl,[0==i.loading?((0,o.wg)(),(0,o.j4)(f,{key:0,onContextmenu:l[8]||(l[8]=e=>i.aimFileInfo=null),msg:i.noDataMsg},null,8,["msg"])):(0,o.kq)("",!0)]))],32)),[[b,i.loading]])]),Ql])),_:1},8,["modelValue","before-close"]),(0,o.Wm)(w,{ref:"txtPreviewRef",onDoSave:i.doSave},null,8,["onDoSave"]),(0,o.Wm)(k,{ref:"mkFileRef",onCallback:i.handleMkFile},null,8,["onCallback"]),(0,o.Wm)(h,{ref:"fileAttrRef",onCallback:i.doRename},null,8,["onCallback"]),(0,o.wy)((0,o._)("div",{ref:"menuBlockRef",onContextmenu:l[22]||(l[22]=(...e)=>i.preventDefault&&i.preventDefault(...e)),class:"kk-menu no-select"},[(0,o._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[14]||(l[14]=e=>i.handleMenuSelect(1)),key:"1"},"刷新"),(0,o._)("div",{class:(0,G.C_)(["kk-menu-item",null==i.aimFileInfo?"disabled":""]),onClick:l[15]||(l[15]=e=>i.handleMenuSelect(2)),key:"2"},"打开",2),(0,o._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[16]||(l[16]=e=>i.handleMenuSelect(3)),key:"3"},"复制路径"),(0,o._)("div",{class:(0,G.C_)(["kk-menu-item",i.aimFileInfo&&0==i.aimFileInfo.isDirectory?"":"disabled"]),onClick:l[17]||(l[17]=e=>i.handleMenuSelect(4)),key:"4"},"下载",2),(0,o._)("div",{class:"kk-menu-item",onClick:l[18]||(l[18]=e=>i.handleMenuSelect(5)),key:"5"},"新建"),(0,o._)("div",{class:(0,G.C_)(["kk-menu-item",null==i.aimFileInfo?"disabled":""]),onClick:l[19]||(l[19]=e=>i.handleMenuSelect(6)),key:"6"},"重命名",2),(0,o.Wm)(x,{open:i.isShowMenu&&i.isShowPop,overlayStyle:{zIndex:3466,marginLeft:"10px"},placement:"rightBottom","ok-text":"确定","cancel-text":"取消"},{title:(0,o.w5)((()=>[Pl])),okButton:(0,o.w5)((()=>[(0,o.Wm)(_,{id:"sureDelFileBtn",size:"small",type:"primary",onClick:i.handlePopConfirm},{default:(0,o.w5)((()=>[(0,o.Uk)("确定")])),_:1},8,["onClick"])])),cancelButton:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"small",text:""},{default:(0,o.w5)((()=>[(0,o.Uk)("取消")])),_:1})])),default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,G.C_)(["kk-menu-item",null==i.aimFileInfo?"disabled":""]),key:"7"},[(0,o._)("div",{onClick:l[20]||(l[20]=e=>i.handleMenuSelect(7))},"删除")],2)])),_:1},8,["open"]),(0,o._)("div",{style:{"border-top":"1px solid #ddd"},class:(0,G.C_)(["kk-menu-item",null==i.aimFileInfo?"disabled":""]),onClick:l[21]||(l[21]=e=>i.handleMenuSelect(8)),key:"8"},"属性",2)],544),[[a.F8,i.isShowMenu]])],64)}var Jl=t(7387),Gl=t.n(Jl);const Kl=e=>((0,o.dD)("data-v-480795cf"),e=e(),(0,o.Cn)(),e),ql={class:"kk-flex"},Yl={class:"ellipsis",style:{margin:"0 5px","font-size":"larger"}},Zl=Kl((()=>(0,o._)("div",{style:{"margin-top":"-28px"}},null,-1))),Xl={"element-loading-text":"Loading...",style:{padding:"0px 5px",width:"100%",height:"60vh"}},$l=Kl((()=>(0,o._)("div",{style:{"margin-top":"-13px"}},null,-1)));function et(e,l,t,a,i,n){const s=(0,o.up)("FileIcons"),r=(0,o.up)("AceEditor"),u=(0,o.up)("el-dialog"),d=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.j4)(u,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[0]||(l[0]=e=>a.DialogVisilble=e),width:"80%",modal:!1,"modal-class":"kk-dialog-class","before-close":a.closeDialog,"align-center":"",draggable:""},{title:(0,o.w5)((()=>[(0,o._)("div",ql,[(0,o.Wm)(s,{name:a.fileName,width:"25",height:"25",isFolder:!1},null,8,["name"]),(0,o._)("div",Yl,(0,G.zw)(a.modifyTag+a.fileName),1)])])),default:(0,o.w5)((()=>[Zl,(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Xl,[(0,o.Wm)(r,{ref:"codeEditorRef",onHandleChange:a.handleChange,onHandleSave:a.handleSave},null,8,["onHandleChange","onHandleSave"])])),[[d,a.loading]]),$l])),_:1},8,["modelValue","before-close"])}const lt={ref:"aceEditorRef",class:"kk-code-editor"};function tt(e,l,t,a,i,n){return(0,o.wg)(),(0,o.iD)("div",lt,null,512)}var at=t(17),ot=t.n(at);t(7050),t(4783),t(2428),t(516),t(6684),t(350),t(8930),t(9986),t(3669),t(629),t(5045),t(1564),t(6668),t(1838),t(9375),t(2606),t(1948),t(4070),t(1853),t(6347),t(4840),t(498),t(9394),t(4733),t(7366),t(5293),t(6529),t(6895),t(8918),t(1910),t(5955),t(2376),t(8633),t(1710),t(1067),t(2841),t(1122),t(366),t(5824),t(7682),t(7535);const it={c:"c_cpp",h:"c_cpp",cpp:"c_cpp",hpp:"c_cpp",cs:"csharp",css:"css",gitignore:"gitignore",go:"golang",html:"html",htm:"html",java:"java",js:"javascript",jsx:"javascript",json:"json",jsp:"jsp",md:"markdown",markdown:"markdown",properties:"properties",py:"python",sh:"sh",bash:"sh",sql:"sql",ts:"typescript",tsx:"typescript",vue:"javascript",xml:"xml",xsd:"xml",xsl:"xml",xslt:"xml",yaml:"yaml",yml:"yaml"},nt=e=>{let l="txt";if(e&&e.length>0){let t=e.lastIndexOf(".");-1!=t&&(l=e.substring(t+1))}return l};function st(e){return it[nt(e)]||"text"}var rt={name:"AceEditor",setup(e,l){const t=(0,F.iH)(),a=(0,F.iH)(null),i=e=>{a.value&&a.value.setValue(e),a.value&&a.value.selection.clearSelection()},n=()=>a.value?a.value.getValue():"",s=()=>{a.value&&a.value.getSession().getUndoManager().reset()},r=e=>{a.value&&a.value.getSession().setMode(`ace/mode/${st(e)}`)},u=e=>{a.value&&a.value.setReadOnly(e)},d=e=>{if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),l.emit("handleSave",a.value.getValue());break}};return(0,o.bv)((()=>{a.value=ot().edit(t.value,{autoScrollEditorIntoView:!1,copyWithEmptySelection:!1,showPrintMargin:!1,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,theme:"ace/theme/chrome",mode:"ace/mode/text"}),a.value.session.setOption("useWorker",!1),a.value.on("change",(()=>{l.emit("handleChange")})),a.value.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1}),a.value.findNext(),a.value.findPrevious(),t.value.addEventListener("keydown",d)})),(0,o.Ah)((()=>{t.value&&t.value.removeEventListener("keydown",d)})),{aceEditorRef:t,aceEditor:a,setValue:i,reset:s,setLanguage:r,getValue:n,setReadOnly:u}}};const ut=(0,Ae.Z)(rt,[["render",tt],["__scopeId","data-v-732f2f9a"]]);var dt=ut,ct={name:"TxtPreview",components:{AceEditor:dt,FileIcons:He()},setup(e,l){const t=(0,F.iH)(!1),a=(0,F.iH)(!1),o=(0,F.iH)(""),i=(0,F.iH)(""),n=(0,F.iH)(""),s=(0,F.iH)(),r=async()=>{c(),a.value=!0;let e=n.value;await Gl().ajax({url:e,method:"GET",dataType:"text",dataFilter(e){return e},success(l){e==n.value&&(s.value.setValue(l),s.value.reset(),s.value.setLanguage(i.value),o.value="",a.value=!1)},error(){e==n.value&&((0,O.z8)({message:"文件加载失败",type:"error",grouping:!0}),c(),t.value=!1)}})},u=()=>{o.value="*"},d=e=>{"*"==o.value&&(l.emit("doSave",i.value,n.value,e),o.value="")},c=()=>{s.value&&(s.value.setValue(""),s.value.reset()),o.value=""},p=e=>{setTimeout((()=>{c()}),200),e()};return{DialogVisilble:t,initText:r,loading:a,fileName:i,fileUrl:n,codeEditorRef:s,modifyTag:o,handleChange:u,handleSave:d,closeDialog:p,resetEditor:c}}};const pt=(0,Ae.Z)(ct,[["render",et],["__scopeId","data-v-480795cf"]]);var vt=pt;const mt=e=>((0,o.dD)("data-v-101691e8"),e=e(),(0,o.Cn)(),e),gt=mt((()=>(0,o._)("div",{style:{"margin-top":"-32px"}},null,-1))),ft={class:"no-select"},yt={class:"errInfo no-select"},wt={class:"kk-flex"},kt=mt((()=>(0,o._)("div",{style:{width:"10px"}},null,-1))),ht={style:{flex:"1"}},_t={style:{"margin-left":"10px"}},xt=mt((()=>(0,o._)("div",{style:{"margin-top":"-10px"}},null,-1)));function bt(e,l,t,a,i,n){const s=(0,o.up)("el-radio"),r=(0,o.up)("el-radio-group"),u=(0,o.up)("FileIcons"),d=(0,o.up)("el-input"),c=(0,o.up)("el-button"),p=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(p,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisilble=e),"before-close":a.closeDialog,width:300,modal:!1,title:"新建","modal-class":"kk-dialog-class",draggable:""},{default:(0,o.w5)((()=>[gt,(0,o._)("div",ft,[(0,o.Wm)(r,{modelValue:a.isDirectory,"onUpdate:modelValue":l[0]||(l[0]=e=>a.isDirectory=e),class:"ml-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{label:!1,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("文件")])),_:1}),(0,o.Wm)(s,{label:!0,size:"large"},{default:(0,o.w5)((()=>[(0,o.Uk)("文件夹")])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",yt,(0,G.zw)(a.err_msg),1),(0,o._)("div",wt,[(0,o._)("div",null,[1==a.isDirectory?((0,o.wg)(),(0,o.j4)(u,{key:0,width:"24",height:"24",name:"kk.txt",isFolder:!0})):((0,o.wg)(),(0,o.j4)(u,{key:1,width:"24",height:"24",name:"kk.txt",isFolder:!1}))]),kt,(0,o._)("div",ht,[(0,o.Wm)(d,{size:"small",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=e=>a.name=e),class:"w-50 m-2",placeholder:""},null,8,["modelValue"])]),(0,o._)("div",_t,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)("确定")])),_:1},8,["onClick"])])])]),xt])),_:1},8,["modelValue","before-close"])}var Ct={name:"MkFile",components:{FileIcons:He()},setup(e,l){const t=(0,F.iH)(!1),a=(0,F.iH)(""),o=(0,F.iH)(!1),i=(0,F.iH)(""),n=(0,F.iH)(""),s=()=>{a.value="",i.value&&i.value.trim().length>0?-1==i.value.indexOf("/")?(l.emit("callback",o.value,i.value,n.value),u()):a.value="文件名不能含有 /":a.value="文件名不能为空"},r=e=>{setTimeout((()=>{u()}),200),e()},u=()=>{a.value="",o.value=!1,i.value="",n.value="",t.value=!1};return{DialogVisilble:t,err_msg:a,isDirectory:o,name:i,nowDir:n,confirm:s,closeDialog:r,reset:u}}};const St=(0,Ae.Z)(Ct,[["render",bt],["__scopeId","data-v-101691e8"]]);var It=St;const Dt=e=>((0,o.dD)("data-v-1ef7ac5d"),e=e(),(0,o.Cn)(),e),Et=Dt((()=>(0,o._)("div",{style:{"margin-top":"-15px"}},null,-1))),Vt={class:"kk-flex nowrap"},Tt={class:"ellipsis",style:{margin:"0 5px","font-size":"small"}},At=Dt((()=>(0,o._)("div",{style:{"font-size":"small"}},"属性",-1))),Ft=Dt((()=>(0,o._)("div",{style:{"margin-top":"-32px"}},null,-1))),Bt={class:"kk-flex"},Wt={style:{"margin-right":"10px"}},Ht=Dt((()=>(0,o._)("div",{class:"kk-border"},null,-1))),zt={class:"kk-flex nowrap"},Ut=Dt((()=>(0,o._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"位置：",-1))),Ot={class:"ellipsis"},Rt={class:"kk-flex"},Nt=Dt((()=>(0,o._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"大小：",-1))),Mt=Dt((()=>(0,o._)("div",{class:"kk-border"},null,-1))),jt={class:"kk-flex"},Qt=Dt((()=>(0,o._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"修改时间：",-1))),Pt={class:"kk-flex"},Lt=Dt((()=>(0,o._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"访问时间：",-1))),Jt=Dt((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Gt={class:"kk-flex"},Kt=Dt((()=>(0,o._)("div",{class:"no-select",style:{"text-align":"left",width:"100px"}},"权限：",-1))),qt=Dt((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Yt=Dt((()=>(0,o._)("div",{style:{"margin-top":"-15px"}},null,-1)));function Zt(e,l,t,a,i,n){const s=(0,o.up)("FileIcons"),r=(0,o.up)("el-input"),u=(0,o.up)("DocumentCopy"),d=(0,o.up)("el-icon"),c=(0,o.up)("el-button"),p=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(p,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisilble=e),"before-close":a.closeDialog,width:400,modal:!1,"modal-class":"kk-dialog-class","align-center":"",draggable:""},{title:(0,o.w5)((()=>[Et,(0,o._)("div",Vt,[(0,o.Wm)(s,{name:a.fileInfo.name,width:"16",height:"16",isFolder:a.fileInfo.isDirectory},null,8,["name","isFolder"]),(0,o._)("div",Tt,(0,G.zw)(a.fileInfo.name),1),At])])),default:(0,o.w5)((()=>[Ft,(0,o._)("div",null,[(0,o._)("div",Bt,[(0,o._)("div",Wt,[(0,o.Wm)(s,{name:a.fileInfo.name,width:"32",height:"32",isFolder:a.fileInfo.isDirectory},null,8,["name","isFolder"])]),(0,o._)("div",null,[(0,o.Wm)(r,{modelValue:a.rename,"onUpdate:modelValue":l[0]||(l[0]=e=>a.rename=e),placeholder:""},null,8,["modelValue"])])]),Ht,(0,o._)("div",zt,[Ut,(0,o._)("div",Ot,(0,G.zw)(a.fileDir+a.fileInfo.name),1),(0,o._)("div",{style:{cursor:"pointer","margin-left":"5px"},onClick:l[1]||(l[1]=e=>a.doCopy(a.fileDir+a.fileInfo.name))},[(0,o.Wm)(d,{size:"15"},{default:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})])]),(0,o._)("div",Rt,[Nt,(0,o._)("div",null,(0,G.zw)(a.calcSize(a.fileInfo.attributes.size))+" ("+(0,G.zw)(a.fileInfo.attributes.size+" 字节")+") ",1)]),Mt,(0,o._)("div",jt,[Qt,(0,o._)("div",null,(0,G.zw)(a.formatDate(a.fileInfo.attributes.mtime)),1)]),(0,o._)("div",Pt,[Lt,(0,o._)("div",null,(0,G.zw)(a.formatDate(a.fileInfo.attributes.atime)),1)]),Jt,(0,o._)("div",Gt,[Kt,(0,o._)("div",null,(0,G.zw)(a.calcPriority(a.fileInfo.attributes.mode.type,a.fileInfo.attributes.permissions)),1),qt,(0,o._)("div",null,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm},{default:(0,o.w5)((()=>[(0,o.Uk)("确定")])),_:1},8,["onClick"])])])]),Yt])),_:1},8,["modelValue","before-close"])}const Xt=e=>{if(!e)return"";let l=new Date(1e3*e),t=l.getFullYear(),a=l.getMonth()+1,o=l.getDate(),i=l.getHours(),n=l.getMinutes(),s=l.getSeconds();return a<10&&(a="0"+a),o<10&&(o="0"+o),i<10&&(i="0"+i),n<10&&(n="0"+n),s<10&&(s="0"+s),t+"年"+a+"月"+o+"日，"+i+":"+n+":"+s},$t=(e,l)=>la(e)+aa(l),ea={BLOCK_SPECIAL:"b",CHAR_SPECIAL:"c",FIFO_SPECIAL:"p",SOCKET_SPECIAL:"s",REGULAR:"-",DIRECTORY:"d",SYMLINK:"l",UNKNOWN:"?"},la=e=>ea[e],ta={USR_R:256,USR_W:128,USR_X:64,GRP_R:32,GRP_W:16,GRP_X:8,OTH_R:4,OTH_W:2,OTH_X:1,SUID:2048,SGID:1024,STICKY:512},aa=e=>{let l="---------",t=0;for(let a=0;a<e.length;a++)ta[e[a]]&&(t+=ta[e[a]]);return l=oa(l,0,t&ta["USR_R"],"r"),l=oa(l,1,t&ta["USR_W"],"w"),l=oa(l,2,t&ta["USR_X"],"x",t&ta["SUID"],"s","S"),l=oa(l,3,t&ta["GRP_R"],"r"),l=oa(l,4,t&ta["GRP_W"],"w"),l=oa(l,5,t&ta["GRP_X"],"x",t&ta["SGID"],"s","S"),l=oa(l,6,t&ta["OTH_R"],"r"),l=oa(l,7,t&ta["OTH_W"],"w"),l=oa(l,8,t&ta["OTH_X"],"x",t&ta["STICKY"],"t","T"),l};function oa(e,l,t,a,o=0,i="",n="-"){return e=o?e.substring(0,l)+(t?i:n)+e.substring(l+1):e.substring(0,l)+(t?a:e[l])+e.substring(l+1),e}const ia=e=>{if(null==e||void 0==e)return"";let l="";l=e<1024?e.toFixed(2)+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB";let t=l+"",a=t.indexOf("."),o=t.substring(a+1,a+3);return"00"==o?t.substring(0,a)+t.substring(a+3):l};var na={name:"FileAttr",components:{FileIcons:He(),DocumentCopy:Re.IBc},setup(e,l){const{toClipboard:t}=(0,A.Z)(),a=(0,F.iH)(!1),o=(0,F.iH)({}),i=(0,F.iH)(""),n=(0,F.iH)(""),s=()=>{if(o.value.name==n.value)return void(a.value=!1);if(!(n.value&&n.value.trim().length>0))return void(0,O.z8)({message:"文件名不能为空",type:"warning",grouping:!0});if(-1!=n.value.indexOf("/"))return void(0,O.z8)({message:"文件名不能含有 /",type:"warning",grouping:!0});let e=i.value+o.value.name,t=i.value+n.value;l.emit("callback",e,t),a.value=!1},r=e=>{e()},u=()=>{o.value={},n.value="",i.value="",a.value=!1},d=async e=>{e+="",e&&e.length>0?(await t(e),(0,O.z8)({message:"复制成功",type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,O.z8)({message:"内容为空",type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})};return{DialogVisilble:a,fileInfo:o,confirm:s,closeDialog:r,reset:u,fileDir:i,rename:n,formatDate:Xt,calcPriority:$t,calcSize:ia,doCopy:d}}};const sa=(0,Ae.Z)(na,[["render",Zt],["__scopeId","data-v-1ef7ac5d"]]);var ra=sa,ua={name:"FileBlock",components:{NoData:Be,FileIcons:He(),TxtPreview:vt,MkFile:It,FileAttr:ra,Refresh:Re.hYj,Fold:Re.qFw,Download:Re.UWx,Upload:Re.gqx},props:["sshKey"],setup(e){const l=(0,F.iH)(!0),{toClipboard:t}=(0,A.Z)(),a=(0,F.iH)(null),i=(0,F.iH)([]),n=(0,F.iH)(""),s=()=>{""!=n.value&&"/"==n.value[0]||(n.value="/"+n.value),"/"!=n.value[n.value.length-1]&&(n.value=n.value+"/"),n.value=n.value.replace(/\/{2,}/g,"/")},r=(0,F.iH)(!1),u=()=>{""==n.value&&Gl().ajax({url:L+"/pwd",type:"get",data:{sshKey:e.sshKey},success(e){n.value=e.data.path,s(),a.value=null,i.value=[],c()}})},d=(0,F.iH)("暂无文件"),c=()=>{let t=n.value;Gl().ajax({url:L+"/ls",type:"get",data:{sshKey:e.sshKey,path:t},beforeSend:function(){l.value=!0,i.value=[]},success(e){t==n.value&&(a.value=null,"success"==e.status?(i.value=e.data.files,d.value="暂无文件"):(i.value=[],d.value=e.info))},complete:function(){t==n.value&&(l.value=!1)}})},p=l=>L+"/download/"+l+"?time="+(new Date).getTime()+"&sshKey="+e.sshKey+"&path="+n.value,v=e=>{let l={key:"",path:null},t=e.indexOf("&sshKey="),a=e.indexOf("&path=");return-1!=t&&-1!=a&&(l.key=e.substring(t+8,a)),-1!=a&&(l.path=e.substring(a+6)),l},m=e=>{if(1==r.value)return;let l=document.createElement("a");l.href=p(e),document.body.appendChild(l),l.click(),document.body.removeChild(l)},g=e=>{1!=r.value&&(n.value=e,a.value=null,c())},f=()=>{r.value=!1,s(),a.value=null,c()},y=()=>{r.value=!1,c()},w=()=>{if(1==r.value)return;if("/"==n.value)return;"/"==n.value[n.value.length-1]&&(n.value=n.value.substring(0,n.value.length-1));let e=n.value.lastIndexOf("/");-1!=e&&(n.value=n.value.substring(0,e+1)),a.value=null,y()},k=()=>{1!=r.value&&a.value&&a.value.name&&!a.value.isDirectory&&m(a.value.name)},h=529408,_=async(l,t)=>{try{if(1==r.value)return;let a=l.file;if(!a)return;const o=a.name,i=a.size,s=0==parseInt(Math.ceil(i/h))?1:parseInt(Math.ceil(i/h)),u=a.uid;let d=1;const p=t.pathVal?t.pathVal:n.value;i>20971520&&(0,O.z8)({message:t.startUpLoad?t.startUpLoad:"开始上传",type:"success",grouping:!0});for(let l=d;l<=s;l++){let n=(l-1)*h,r=n+h>=i?i:n+h,d=a.slice(n,r),v=new FormData;v.append("file",d),v.append("fileName",o),v.append("chunks",s),v.append("chunk",l),v.append("totalSize",i),v.append("id",u),v.append("sshKey",e.sshKey),v.append("path",p),await Gl().ajax({url:L+"/upload",type:"post",data:v,contentType:!1,processData:!1,success(e){202==e.code?((0,O.z8)({message:t.alert?t.alert:e.info,type:e.status,grouping:!0}),setTimeout((()=>{c()}),500)):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,O.z8)({message:e.info,type:e.status,grouping:!0}),l=s+1)}})}}catch(a){(0,O.z8)({message:"不支持上传文件夹",type:"warning",grouping:!0})}},x=()=>{r.value=!0,setTimeout((()=>{document.querySelector("#aimDirInput").focus()}),1)},b=(0,F.iH)(!1),C=e=>{a.value=null,z.value=null,S.value.DialogVisilble=!1,G.value.DialogVisilble=!1,G.value.reset(),U.value.DialogVisilble=!1,e()},S=(0,F.iH)(),I=e=>{S.value.fileName=e,S.value.fileUrl=p(e),S.value.loading=!0,S.value.initText(),S.value.DialogVisilble=!0},D=(l,t,a)=>{let o=v(t);if(o.key!=e.sshKey)return;const i=new Blob([a],{type:"text/plain"}),n=new File([i],l);n.uid=Math.random().toString(36).substring(2),_({file:n},{pathVal:o.path,startUpLoad:"修改保存中"})},E=(0,F.iH)(),V=e=>{e.preventDefault()},T=e=>{e.preventDefault();let l=e.dataTransfer.files;if(l&&l.length>0)for(let t=0;t<l.length;t++){let e=l[t];e&&e.size>0?(e.uid=Math.random().toString(36).substring(2),_({file:e},{pathVal:n.value})):(0,O.z8)({message:"不支持拖拽文件夹或空文件",type:"warning",grouping:!0})}},B=(0,F.iH)(!1),W=(0,F.iH)(!1),H=(0,F.iH)(!1),z=(0,F.iH)(null),U=(0,F.iH)(),R=async e=>{switch(e){case 1:y();break;case 2:a.value&&1==a.value.isDirectory?g(n.value+a.value.name+"/"):a.value&&0==a.value.isDirectory&&I(a.value.name);break;case 3:n.value&&n.value.length>0?(await t(n.value),(0,O.z8)({message:"复制成功",type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,O.z8)({message:"内容为空",type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});break;case 4:a.value&&0==a.value.isDirectory&&k();break;case 5:G.value.DialogVisilble=!0,G.value.nowDir=n.value;break;case 6:z.value={...a.value},H.value=!0,setTimeout((()=>{document.querySelector("#rename").focus()}),1);break;case 7:W.value=!0;break;case 8:U.value.fileInfo={...a.value},U.value.fileDir=n.value,U.value.rename=a.value.name,U.value.DialogVisilble=!0;break;default:break}7!=e&&(B.value=!1,W.value=!1)},N=()=>{B.value=!1,W.value=!1},M=(0,F.iH)(),j=e=>{"fileArea"==e.target.id&&(a.value=null),M.value.style.top=e.clientY-135+"px",M.value.style.left=e.clientX+1+"px",B.value=!0,W.value=!1,e.preventDefault()},Q=e=>{if(H.value=!1,e.name==z.value.name)return void(z.value=null);if(!(z.value.name&&z.value.name.trim().length>0))return(0,O.z8)({message:"文件名不能为空",type:"warning",grouping:!0}),void(z.value=null);if(-1!=z.value.name.indexOf("/"))return(0,O.z8)({message:"文件名不能含有 /",type:"warning",grouping:!0}),void(z.value=null);let l=n.value+e.name,t=n.value+z.value.name;z.value=null,P(l,t)},P=(l,t)=>{Gl().ajax({url:L+"/rename",type:"post",data:{sshKey:e.sshKey,oldPath:l,newPath:t},success(e){(0,O.z8)({message:e.info,type:e.status,grouping:!0}),c()}})},J=()=>{B.value=!1,W.value=!1,a.value.isDirectory&&(0,O.z8)({message:"目录删除中",type:"success",grouping:!0}),Gl().ajax({url:L+"/rm",type:"post",data:{sshKey:e.sshKey,isDirectory:a.value.isDirectory,path:n.value+a.value.name},success(e){(0,O.z8)({message:e.info,type:e.status,grouping:!0}),c()}})},G=(0,F.iH)(),K=(l,t,a)=>{if(0==l){for(let o=0;o<i.value.length;o++)if(i.value[o].name==t&&n.value==a)return void(0,O.z8)({message:"存在同名文件或目录",type:"error",grouping:!0});const e=new Blob([""],{type:"text/plain"}),l=new File([e],t);l.uid=Math.random().toString(36).substring(2),_({file:l},{pathVal:a,alert:"文件新建成功"})}else Gl().ajax({url:L+"/mkdir",type:"post",data:{sshKey:e.sshKey,path:a+t},success(e){(0,O.z8)({message:e.info,type:e.status,grouping:!0}),c()}})};return(0,o.YP)(n,(()=>{G.value&&G.value.reset()})),(0,o.bv)((()=>{document.addEventListener("mousedown",(e=>{if(M.value&&M.value.contains(e.target))return;let l=document.querySelector("#sureDelFileBtn");l&&l.contains(e.target)||(B.value=!1,W.value=!1)}))})),(0,o.Ah)((()=>{E.value&&(E.value.removeEventListener("dragover",V),E.value.removeEventListener("drop",T),E.value.removeEventListener("scroll",N))})),{DialogVisilble:b,closeDialog:C,isShowDirInput:r,dir:n,files:i,getInitDir:u,getDirList:c,downloadFile:m,changeDir:g,dirInputCallback:f,noDataMsg:d,doRefresh:y,doReturn:w,doDownload:k,doUpload:_,aimFileInfo:a,loading:l,txtPreviewRef:S,preViewFile:I,doSave:D,fileAreaRef:E,handleMenuSelect:R,isShowMenu:B,preventDefault:V,handleFileDrag:T,handleScroll:N,handleContextMenu:j,isShowRenameInput:H,handleRename:Q,renameFile:z,menuBlockRef:M,doShowDirInput:x,isShowPop:W,handlePopConfirm:J,mkFileRef:G,handleMkFile:K,doRename:P,fileAttrRef:U}}};const da=(0,Ae.Z)(ua,[["render",Ll],["__scopeId","data-v-a4e0b70a"]]);var ca=da;const pa=e=>((0,o.dD)("data-v-bce1ff0a"),e=e(),(0,o.Cn)(),e),va=pa((()=>(0,o._)("div",{style:{"margin-top":"-32px"}},null,-1))),ma={class:"kk-flex"},ga=pa((()=>(0,o._)("div",{class:"no-select nowrap"},"TCode：",-1))),fa=pa((()=>(0,o._)("div",{class:"no-select nowrap",style:{"background-color":"#f3f4f4","margin-right":"8px"}},"U",-1))),ya=pa((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),wa={class:"kk-flex"},ka=pa((()=>(0,o._)("div",{class:"no-select nowrap",style:{"margin-right":"2px"}},"描   述：",-1))),ha=pa((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),_a=pa((()=>(0,o._)("div",{class:"kk-border"},null,-1))),xa={class:"kk-flex",style:{margin:"7px 0"}},ba=pa((()=>(0,o._)("div",{class:"no-select nowrap"},"Workflow",-1))),Ca=pa((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),Sa={"element-loading-text":"Loading...",style:{padding:"0px 5px",width:"100%",height:"30vh"}},Ia={style:{display:"flex"}},Da=pa((()=>(0,o._)("div",{style:{flex:"1"}},null,-1)));function Ea(e,l,t,a,i,n){const s=(0,o.up)("CollectionTag"),r=(0,o.up)("el-icon"),u=(0,o.up)("el-input"),d=(0,o.up)("Upload"),c=(0,o.up)("el-button"),p=(0,o.up)("el-upload"),v=(0,o.up)("EditPen"),m=(0,o.up)("Download"),g=(0,o.up)("Refresh"),f=(0,o.up)("DocumentDelete"),y=(0,o.up)("Finished"),w=(0,o.up)("AceEditor"),k=(0,o.up)("el-dialog"),h=(0,o.Q2)("loading");return(0,o.wg)(),(0,o.j4)(k,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisilble=e),"before-close":a.closeDialog,"destroy-on-close":"",width:550,title:"自定义TCode",modal:!1,"modal-class":"kk-dialog-class","align-center":"",draggable:""},{default:(0,o.w5)((()=>[va,(0,o._)("div",null,[(0,o._)("div",ma,[ga,fa,(0,o.Wm)(u,{size:"small",style:{width:"130px"},modelValue:a.userTcodeInfo.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.userTcodeInfo.name=e),class:"w-50 m-2",placeholder:"输入TCode",maxlength:"5",minlength:"1"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s)])),_:1})])),_:1},8,["modelValue"]),ya,(0,o._)("div",null,[(0,o.Wm)(p,{"show-file-list":!1,"with-credentials":!1,"http-request":a.importTcodes,multiple:!1},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{size:"small",type:"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1}),(0,o.Uk)(" 导入 ")])),_:1})])),_:1},8,["http-request"])])]),(0,o._)("div",wa,[ka,(0,o.Wm)(u,{size:"small",style:{width:"148px"},modelValue:a.userTcodeInfo.desc,"onUpdate:modelValue":l[1]||(l[1]=e=>a.userTcodeInfo.desc=e),class:"w-50 m-2",placeholder:"输入TCode描述"},{prefix:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1})])),_:1},8,["modelValue"]),ha,(0,o._)("div",null,[(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.exportTcodes},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"el-icon--left"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1}),(0,o.Uk)(" 导出 ")])),_:1},8,["onClick"])])]),_a,(0,o._)("div",xa,[ba,Ca,(0,o._)("div",{onClick:l[2]||(l[2]=e=>a.workflowTab(1)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g)])),_:1})]),(0,o._)("div",{onClick:l[3]||(l[3]=e=>a.workflowTab(2)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1})]),(0,o._)("div",{onClick:l[4]||(l[4]=e=>a.workflowTab(3)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y)])),_:1})])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Sa,[(0,o.Wm)(w,{ref:"userTcodeEditorRef",onHandleSave:a.handleSave},null,8,["onHandleSave"])])),[[h,a.loading]])]),(0,o._)("div",Ia,[Da,(0,o.Wm)(c,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,o.w5)((()=>[(0,o.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close"])}var Va={name:"UserTcode",components:{AceEditor:dt,CollectionTag:Re.O$2,EditPen:Re.qHu,Upload:Re.gqx,Download:Re.UWx,Refresh:Re.hYj,Finished:Re.qWi,DocumentDelete:Re.jY0},setup(e,l){const t=(0,F.iH)(!1),a=(0,F.iH)(!1),o="await kkTerminal.write('cd /root/terminal');\nawait kkTerminal.write('lsof -i :3000', 500);\nlet resultArr = kkTerminal.getOut();\nif(resultArr.length >= 3) {\n    let pid = resultArr[2].replace(/\\s+/g, ' ').split(' ')[1];\n\tif(pid) await kkTerminal.write('kill -9 ' + pid);\n}\nlet jar = 'kkTerminal.jar';\nawait kkTerminal.write('java -jar ./' + jar + ' > ./out.log &');\nalert('TCode Workflow Over!');",i=(0,F.iH)(),n=(0,F.iH)({name:"",desc:""}),s=e=>{localStorage.setItem("tcode-draft",e),(0,O.z8)({message:"保存成功",type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},r=e=>{i.value.setValue(e),i.value.reset()},u=()=>{i.value.setLanguage("kk.js"),localStorage.getItem("tcode-draft")&&(i.value.setValue(localStorage.getItem("tcode-draft")),i.value.reset())},d=e=>{let t=e.file;const o=new FileReader;o.onload=()=>{try{const e=JSON.parse(o.result);let t={};for(const l in e)l&&l.length>=2&&l.length<=6&&("U"==l[0]||"u"==l[0])&&(t[l.toUpperCase()]={...e[l]});l.emit("importTCodes",t),(0,O.z8)({message:"导入成功",type:"success",grouping:!0}),g()}catch(e){(0,O.z8)({message:"导入失败：格式错误",type:"error",grouping:!0})}finally{a.value=!1}},o.onerror=()=>{(0,O.z8)({message:"导入失败：文件读取失败",type:"error",grouping:!0}),a.value=!1},a.value=!0,o.readAsText(t)},c=()=>{l.emit("exportTcodes"),(0,O.z8)({message:"导出成功",type:"success",grouping:!0})},p=e=>{switch(e){case 1:localStorage.removeItem("tcode-draft"),r(o);break;case 2:localStorage.removeItem("tcode-draft"),r("");break;case 3:s(i.value.getValue());break}},v=()=>{if(!(n.value.name&&n.value.name.length>=1&&n.value.name.length<=5))return void(0,O.z8)({message:"TCode不能为空",type:"error",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});let e={};e["U"+n.value.name.toUpperCase()]={desc:n.value.desc,workflow:i.value.getValue()},l.emit("importTCodes",e),(0,O.z8)({message:"添加成功",type:"success",grouping:!0}),localStorage.removeItem("tcode-draft"),g()},m=e=>{g(),e()},g=()=>{setTimeout((()=>{a.value=!1,n.value.name="",n.value.desc="",i.value.setValue(""),i.value.reset()}),200),t.value=!1};return{DialogVisilble:t,confirm:v,closeDialog:m,reset:g,userTcodeEditorRef:i,handleSave:s,initText:u,loading:a,userTcodeInfo:n,importTcodes:d,exportTcodes:c,setValue:r,workflowTab:p}}};const Ta=(0,Ae.Z)(Va,[["render",Ea],["__scopeId","data-v-bce1ff0a"]]);var Aa=Ta;const Fa=e=>((0,o.dD)("data-v-2f7ad1bf"),e=e(),(0,o.Cn)(),e),Ba=Fa((()=>(0,o._)("div",{style:{"margin-top":"-27px"}},null,-1))),Wa={class:"no-select"},Ha={style:{height:"210px","overflow-y":"auto",padding:"10px 0"}},za=Fa((()=>(0,o._)("div",null,[(0,o.Uk)("以 "),(0,o._)("span",{style:{"background-color":"#f3f4f4"}},"/"),(0,o.Uk)(" 开头，用于快速执行通用功能")],-1))),Ua=Fa((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Oa={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},Ra={style:{"background-color":"#f3f4f4"}},Na={style:{"margin-left":"25px"}},Ma={style:{height:"210px","overflow-y":"auto",padding:"10px 0"}},ja=Fa((()=>(0,o._)("div",null,[(0,o.Uk)("以 "),(0,o._)("span",{style:{"background-color":"#f3f4f4"}},"S"),(0,o.Uk)(" 开头，用于快速访问系统模块")],-1))),Qa=Fa((()=>(0,o._)("div",{class:"kk-border"},null,-1))),Pa={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},La={style:{"background-color":"#f3f4f4"}},Ja={style:{"margin-left":"25px"}},Ga={style:{height:"210px","overflow-y":"auto",padding:"10px 0"}},Ka={style:{display:"inline-block","margin-bottom":"12px","margin-top":"-10px"}},qa={style:{display:"inline-block","margin-top":"3px"}},Ya={style:{width:"100%",height:"168px"}},Za=Fa((()=>(0,o._)("div",null,[(0,o.Uk)("以 "),(0,o._)("span",{style:{"background-color":"#f3f4f4"}},"U"),(0,o.Uk)(" 开头，自定义实现类似Shell脚本的自动化Workflow")],-1))),Xa=Fa((()=>(0,o._)("div",{class:"kk-border"},null,-1))),$a={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},eo={style:{"background-color":"#f3f4f4"}},lo={class:"ellipsis",style:{"margin-left":"25px"}},to=Fa((()=>(0,o._)("div",{style:{flex:"1"}},null,-1))),ao=["onClick"],oo=Fa((()=>(0,o._)("div",null,[(0,o.Uk)("以 "),(0,o._)("span",{style:{"background-color":"#f3f4f4"}},"U"),(0,o.Uk)(" 开头，自定义实现类似Shell脚本的自动化Workflow")],-1))),io=Fa((()=>(0,o._)("div",{class:"kk-border"},null,-1))),no=Fa((()=>(0,o._)("div",{style:{"margin-top":"20px"}},null,-1)));function so(e,l,t,a,i,n){const s=(0,o.up)("el-tab-pane"),r=(0,o.up)("ArrowLeft"),u=(0,o.up)("el-icon"),d=(0,o.up)("AceEditor"),c=(0,o.up)("ArrowRight"),p=(0,o.up)("NoData"),v=(0,o.up)("el-tabs"),m=(0,o.up)("el-dialog");return(0,o.wg)(),(0,o.j4)(m,{modelValue:a.DialogVisilble,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisilble=e),"destroy-on-close":"",width:480,title:"帮助",modal:!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,o.w5)((()=>[Ba,(0,o._)("div",Wa,[(0,o.Wm)(v,{type:"border-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{label:"功能TCode"},{default:(0,o.w5)((()=>[(0,o._)("div",Ha,[za,Ua,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.FuncTcode,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",Oa,[(0,o._)("div",Ra,(0,G.zw)(l),1),(0,o._)("div",Na,(0,G.zw)(e.desc),1)])])))),128))])])),_:1}),(0,o.Wm)(s,{label:"系统TCode"},{default:(0,o.w5)((()=>[(0,o._)("div",Ma,[ja,Qa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.SysTcode,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",Pa,[(0,o._)("div",La,(0,G.zw)(l),1),(0,o._)("div",Ja,(0,G.zw)(e.desc),1)])])))),128))])])),_:1}),(0,o.Wm)(s,{label:"用户TCode"},{default:(0,o.w5)((()=>[(0,o._)("div",Ga,[a.userTCodes&&Object.keys(a.userTCodes).length>0?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[a.nowTCode&&a.nowTCode.length>=2&&a.nowTCode.length<=6?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",Ka,[(0,o._)("div",{onClick:l[0]||(l[0]=(...e)=>a.toOverview&&a.toOverview(...e)),style:{display:"inline-block","margin-right":"10px",cursor:"pointer","font-size":"16px"}},[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r)])),_:1})]),(0,o._)("div",qa,(0,G.zw)(a.nowTCode),1)]),(0,o._)("div",Ya,[(0,o.Wm)(d,{ref:"userTcodeEditorRef"},null,512)])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[Za,Xa,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.userTCodes,((e,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l},[(0,o._)("div",$a,[(0,o._)("div",eo,(0,G.zw)(l),1),(0,o._)("div",lo,(0,G.zw)(e.desc),1),to,(0,o._)("div",{onClick:e=>a.toWorkflow(l),style:{"margin-left":"10px",cursor:"pointer","font-size":"16px"}},[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c)])),_:1})],8,ao)])])))),128))],64))],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[oo,io,(0,o.Wm)(p,{height:"210px"},{myslot:(0,o.w5)((()=>[no])),_:1})],64))])])),_:1})])),_:1})])])),_:1},8,["modelValue"])}var ro=t(18);const uo={"/C":{desc:"关闭窗口",execFlow(){window.close()}},"/O":{desc:"新建窗口",execFlow(){let e=window.location.href;window.open(e,"_blank")}},"/R":{desc:"刷新页面",execFlow(){window.location.reload()}},"/H":{desc:"帮助",execFlow(e){e.proxy.helpTcodeRef.DialogVisilble=!0}},"/E":{desc:"退出登录",execFlow(e){e.proxy.socket&&e.proxy.socket.close(3131)}},"/A":{desc:"自定义TCode",execFlow(e){setTimeout((()=>{e.proxy.userTcodeRef.initText()}),1),e.proxy.userTcodeRef.DialogVisilble=!0}}},co={SC:{desc:"连接设置",execFlow(e){e.proxy.isShowSetting=!1,e.proxy.connectSettingRef.DialogVisilble=!0}},SP:{desc:"偏好设置",execFlow(e){e.proxy.isShowSetting=!1,e.proxy.styleSettingRef.DialogVisilble=!0}},SF:{desc:"文件管理",execFlow(e){e.proxy.isShowSetting=!1,e.proxy.fileBlockRef.DialogVisilble=!0,e.proxy.fileBlockRef.getInitDir()}},SS:{desc:"重启",execFlow(e){e.proxy.isShowSetting=!1,e.proxy.now_connect_status=e.proxy.connect_status["Connecting"],e.proxy.sshKey="",e.proxy.socket&&e.proxy.socket.close(3333),e.proxy.closeFileBlock(),e.proxy.doSSHConnect(),e.proxy.resetTerminal()}}},po={active:!1,display:!0,outArray:[],cnt:0,writeOnly:null,async writeAndWait(e,l=200){e&&e.length>0&&"\n"!=e[e.length-1]&&"\r"!=e[e.length-1]&&(e+="\n"),this.cnt=this.outArray.length,this.writeOnly(e,!0),await new Promise((e=>setTimeout(e,l>0?l:0)))},write(e,l=200){return this.writeAndWait(e,l)},getAllOut(){return vo(this.outArray.slice(0))},getOut(){return vo(this.outArray.slice(this.cnt))},hide(){this.display=!1},show(){this.display=!0}},vo=e=>{let l=[],t=mo(e);for(let a=0;a<t.length;a++){let e=go(t[a]);e&&""!=e&&l.push(e)}return l},mo=e=>{let l=[];for(let t=0;t<e.length;t++){let a=e[t].split("\r\n");for(let e=0;e<a.length;e++)a[e]&&""!=a[e]&&l.push(a[e])}return l},go=e=>(0,ro.Z)(e).replace(/[\x00-\x1F\x7F]/g,"");var fo={name:"HelpTcode",components:{NoData:Be,AceEditor:dt,ArrowRight:Re.olP,ArrowLeft:Re.XdH},setup(){const e=(0,F.iH)(!1),l=(0,F.iH)({}),t=(0,F.iH)(""),a=e=>{t.value=e,setTimeout((()=>{n()}),1)},o=()=>{t.value=""},i=(0,F.iH)(),n=()=>{i.value.setLanguage("kk.js"),i.value.setValue(JSON.parse(U(localStorage.getItem("tcodes")))[t.value].workflow||""),i.value.reset(),i.value.setReadOnly(!0)};return{DialogVisilble:e,FuncTcode:uo,SysTcode:co,nowTCode:t,toWorkflow:a,toOverview:o,userTCodes:l,userTcodeEditorRef:i,initTcodeEditor:n}}};const yo=(0,Ae.Z)(fo,[["render",so],["__scopeId","data-v-2f7ad1bf"]]);var wo=yo,ko={name:"FrameWork",components:{ConnectSetting:je,StyleSetting:El,FileBlock:ca,UserTcode:Aa,HelpTcode:wo,QuestionFilled:Re.Ruj},setup(){const e=(0,o.FN)(),{toClipboard:l}=(0,A.Z)(),t=new N.FitAddon,a=(0,F.iH)({}),i=()=>{localStorage.getItem("options")?a.value=JSON.parse(U(localStorage.getItem("options"))):a.value={}};i();const n=(0,F.iH)({}),s=()=>{if(n.value={},localStorage.getItem("tcodes")){n.value=JSON.parse(U(localStorage.getItem("tcodes")));for(const e in n.value){let l=n.value[e].workflow.toString();n.value[e].workflow=new Function("kkTerminal",`return (async function() { ${l} })()`)}}setTimeout((()=>{X.value.userTCodes={...n.value}}),1)};s();const r=(0,F.iH)(null),u=()=>{if(localStorage.getItem("env")){r.value=JSON.parse(U(localStorage.getItem("env")));let e=a.value[r.value["option"]];e?r.value={...r.value,...e}:r.value.option=""}else r.value=M};u();const d=(e,l)=>{a.value={...a.value,[e]:l},localStorage.setItem("options",z(JSON.stringify(a.value))),i()},c=(0,F.iH)({Fail:"Fail to connect remote server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to remote server ...\r\n",Disconnected:"Disconnect to remote server.\r\n"}),p=(0,F.iH)(c.value["Connecting"]),v=(0,F.iH)();let m=null;const g=(0,F.iH)(!0),f=()=>{m=new R.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:r.value.cursorStyle,cursorBlink:r.value.cursorBlink,theme:{foreground:r.value.fg,background:r.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:r.value.fontFamily,fontSize:r.value.fontSize}),m.loadAddon(t)},y=()=>{if(v.value.style.height=window.innerHeight-25+"px",t.fit(),k.value&&k.value.readyState==WebSocket.OPEN&&m){let e=t.proposeDimensions().rows,l=t.proposeDimensions().cols;k.value.send(z(JSON.stringify({type:1,content:"",rows:e,cols:l}))),m.resize(l,e)}},w=(0,F.iH)(""),k=(0,F.iH)(null),h=()=>{k.value=new WebSocket(P+J(z(JSON.stringify(r.value)))),k.value.onopen=()=>{y()},k.value.onmessage=e=>{let l=JSON.parse(e.data);if(-1==l.code&&(m.clear(),p.value=c.value["Fail"],m.write(p.value),W(1)),0==l.code&&(m.clear(),p.value=c.value["Success"],w.value=U(l.info),setTimeout((()=>{y()}),1)),1==l.code){let e=U(l.info);po.active&&po.outArray.push(e),po.active&&!po.display||m.write(e),m.options.scrollback+=m._core.buffer.lines.length}},k.value.onclose=e=>{p.value==c.value["Success"]&&3333!=e.code&&(w.value="",Q(),p.value=c.value["Disconnected"],m.write("\r\n"+p.value)),K()}},_=(0,F.iH)(!1),x=()=>{_.value=!_.value},b=(0,F.iH)(),C=(0,F.iH)(),S=(0,F.iH)(),I=e=>{r.value={...r.value,...e},localStorage.setItem("env",z(JSON.stringify(r.value))),W(3)},D=(e,l=!1)=>{k.value&&(g.value&&(y(),g.value=!1),po.active===l&&k.value.send(z(JSON.stringify({type:0,content:e,rows:0,cols:0}))))},E=e=>{e.preventDefault(),D(e.target.value),e.target.value=""},V=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();D(l)},T=()=>{_.value=!1},B=()=>{m&&v.value&&(v.value.removeEventListener("contextmenu",V),v.value.removeEventListener("compositionend",E),v.value.removeEventListener("click",T)),v.value.innerHTML="",g.value=!0,u(),f(),m.open(v.value),y(),v.value.addEventListener("compositionend",E),m.onKey((e=>{D(e.key)})),m.onSelectionChange((async()=>{if(m.hasSelection()){let e=m.getSelection(),t=e.trim();t&&""!=t&&await l(e)}})),v.value.addEventListener("contextmenu",V),v.value.addEventListener("click",T),m.write(p.value)},W=e=>{1==e?(_.value=!1,b.value.DialogVisilble=!0):2==e?(_.value=!1,C.value.DialogVisilble=!0):3==e?(_.value=!1,p.value=c.value["Connecting"],w.value="",k.value&&k.value.close(3333),Q(),h(),B()):4==e&&(_.value=!1,S.value.DialogVisilble=!0,S.value.getInitDir())};let H=null;const j=()=>{null==H&&(H=setInterval((()=>{k.value&&k.value.readyState==WebSocket.OPEN&&k.value.send(z(JSON.stringify({type:2,content:"",rows:0,cols:0})))}),25e3))},Q=()=>{S.value.txtPreviewRef.DialogVisilble=!1,S.value.txtPreviewRef.resetEditor(),S.value.mkFileRef.DialogVisilble=!1,S.value.fileAttrRef.DialogVisilble=!1,S.value.DialogVisilble=!1,S.value.dir="",S.value.aimFileInfo=null,S.value.renameFile=null},L=(0,F.iH)(""),G=async()=>{if(!L.value||L.value.length<2)return;let l=L.value.toUpperCase();if(L.value="","/"==l[0]&&uo[l])uo[l].execFlow(e);else if("S"==l[0]&&co[l])co[l].execFlow(e);else if("U"==l[0]&&n.value[l]&&(po.writeOnly||(po.writeOnly=D),0==po.active)){po.active=!0;try{await n.value[l].workflow(po),(0,O.z8)({message:"TCode-"+l+" Workflow Over",type:"success",grouping:!0})}catch(t){(0,O.z8)({message:"TCode-"+l+" Workflow Error: "+t,type:"error",grouping:!0})}finally{K()}}},K=()=>{po.active=!1,po.display=!0,po.outArray=[],po.cnt=0},q=(0,F.iH)(),Y=e=>{let l={};localStorage.getItem("tcodes")&&(l=JSON.parse(U(localStorage.getItem("tcodes")))),l={...l,...e},localStorage.setItem("tcodes",z(JSON.stringify(l))),s()},Z=()=>{let e={};localStorage.getItem("tcodes")&&(e=JSON.parse(U(localStorage.getItem("tcodes"))));const l=new Blob([JSON.stringify(e,null,4)],{type:"text/plain"}),t=URL.createObjectURL(l),a=document.createElement("a");a.href=t,a.download="TCode.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},X=(0,F.iH)();return(0,o.bv)((()=>{h(),B(),window.addEventListener("resize",(()=>{S.value&&(S.value.isShowMenu=!1,S.value.isShowPop=!1),y()})),j()})),(0,o.Ah)((()=>{m&&v.value&&(v.value.removeEventListener("contextmenu",V),v.value.removeEventListener("compositionend",E),v.value.removeEventListener("click",T)),H&&clearInterval(H)})),{env:r,options:a,now_connect_status:p,connect_status:c,terminal:v,doSSHConnect:h,socket:k,showSettings:x,isShowSetting:_,doSettings:W,connectSettingRef:b,styleSettingRef:C,fileBlockRef:S,saveEnv:I,sshKey:w,doHeartBeat:j,saveOp:d,tcode:L,handleTcode:G,closeFileBlock:Q,resetTerminal:B,tcodes:n,userTcodeRef:q,sendMessage:D,importTCodes:Y,exportTcodes:Z,helpTcodeRef:X}}};const ho=(0,Ae.Z)(ko,[["render",T],["__scopeId","data-v-432832be"]]);var _o=ho,xo={name:"App",components:{FrameWork:_o}};const bo=(0,Ae.Z)(xo,[["render",i]]);var Co=bo,So=(t(4415),t(391)),Io=t(5974),Do=t(1015),Eo=t(3370),Vo=t(3096),To=t(5868),Ao=t(881),Fo=t(6199),Bo=t(7224),Wo=t(4775),Ho=t(3838),zo=t(7919),Uo=(t(1849),t(3189));const Oo=(0,a.ri)(Co);Oo.use(So.ElButton).use(Io.d0).use(Do.gn).use(Eo.EZ).use(Vo.LW).use(To.$).use(Ao.Ub).use(Ao.p8),Oo.use(Fo.YK).use(Fo.o2).use(Fo.Df).use(Bo.OX).use(Wo.kN).use(Ho.KD).use(Ho.rh).use(zo.$t),Oo.use(Uo.Z),Oo.mount("#app"),Gl().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(U(e.data))),JSON.stringify(e)}}),Oo.config.warnHandler=()=>{}},2480:function(){}},l={};function t(a){var o=l[a];if(void 0!==o)return o.exports;var i=l[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,function(){t.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];t.O=function(l,a,o,i){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],i=e[d][2];for(var s=!0,r=0;r<a.length;r++)(!1&i||n>=i)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(s=!1,i<n&&(n=i));if(s){e.splice(d--,1);var u=o();void 0!==u&&(l=u)}}return l}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,o,i]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var o,i,n=a[0],s=a[1],r=a[2],u=0;if(n.some((function(l){return 0!==e[l]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(r)var d=r(t)}for(l&&l(a);u<n.length;u++)i=n[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},a=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(6868)}));a=t.O(a)})();
//# sourceMappingURL=app.51c1718c.js.map