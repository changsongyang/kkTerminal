(function(){var e={8751:function(e,l,t){"use strict";var a=t(7387),o=t.n(a),s=t(8082),i=t.n(s);const n="P5P1SIqVe6kaOxMX",r=(e,l)=>{var t=i().enc.Utf8.parse(l||n),a=i().enc.Utf8.parse(e),o=i().AES.encrypt(a,t,{mode:i().mode.ECB,padding:i().pad.Pkcs7});return o.toString()},u=(e,l)=>{var t=i().enc.Utf8.parse(l||n),a=i().AES.decrypt(e,t,{mode:i().mode.ECB,padding:i().pad.Pkcs7});return i().enc.Utf8.stringify(a).toString()};var d=t(9242),c=t(3396);function p(e,l,t,a,o,s){const i=(0,c.up)("FrameWork");return(0,c.wg)(),(0,c.j4)(i)}var m=t(7139),v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAB/dJREFUeF7tnbGv5VMQx2f/yNUoNAqFQqFQSKxCoVAoFAqNQrEbghCCEIQQhCBBCBtCEIIQgrD22rPZt8l7d+/Ombn3fGc+t74z58znO5/87ktu7jtlvCAAgRMJnIINBCBwMgEEYTsgsIUAgrAeEEAQdgACPgI8QXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQggSJOgGdNHAEF83KhqQgBBmgTNmD4CCOLjRlUTAgjSJGjG9BHYCHLBV0oVBOoTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwggyAQ8SusTQJD6GTPhBAEEmYBHaX0CCFI/YyacIIAgE/AorU8AQepnzIQTBBBkAh6l9QkgSP2MmXCCAIJMwKO0PgEEqZ8xE04QQJAJeJTWJ4Ag9TNmwgkCCDIBj9L6BBCkfsZMOEEAQSbgUVqfAILUz5gJJwioC3LOzE5PzE8pBLYSUBbkETO70czOIglbnkVAVZCHzeymI1CQJGtDmvdVFOQhM7v5mNyQpPkyZ4yvJsiDZnbLFhBIkrEljXsqCfKAmd26Q1ZIsgMk3rIbARVB7jez23Yb6f93Icl1wOKtJxNQEOQ+M7vdESKSOKBRcjWB1QW518zumAgNSSbgUWq2siD3mNmdASEhSQDEri1WFeTui4GcCQwFSQJhdmq1qiCbDJCk0yYuOuvKgiDJokvT6VqrC4IknbZxwVkVBEGSBReny5VUBEGSLhu52JxKgiDJYsvT4TpqgiBJh61caEZFQZBkoQWqfhVVQZCk+mYuMp+yIEiyyBJVvoa6IEhSeTsXmK2CIEiywCJVvUIVQZCk6oYeeK5KgiDJgZep4vHVBEGSilt6wJkqCoIkB1yoakdXFQRJqm3qgeapLAiSHGipKh1bXRAkqbStB5ilgyBIcoDFqnJkF0GQpMrG7nmOToIgyZ6Xq8Jx3QRBkgpbu8cZOgqCJHtcMPWjugqCJOqbu6f7dxYESfa0ZMrHdBcESZS3dw93R5BLkPmZ0z0sm+IRCHIlNSRR3ODkOyPI1YCRJHnh1NojyJXEPjSzG8zso6AQT49/BRfUjjaHIIAgl6h/MOT4OCgE5AgCeeg2CGL2/pDjk6AwkCMI5Aptugvy3pDj06AwkCMI5CptOgvy7pDjs6AwkCMI5EptugryzpDj86AwkCMI5GptOgry9pDji6AwkCMI5Iptugny1pDjfFAYyBEEctU2nQR5c8jxZVAYyBEEcuU2XQR5Y8jxVVAYyBEEcvU2HQR5fcjxdVAYyBEEUqFNdUFeG3J8ExQGcgSBVGlTWZBXhxzfBoWBHEEgldpUFeSVIcd3QWEgRxBItTYVBXl5yPF9UBjIEQRSsU01QV4acvwQFAZyBIFUbVNJkBeHHD8GhYEcQSCV21QR5IUhx09BYSBHEEj1NhUEeX7I8XNQGMgRBLJCG3VBnhty/BIUBnIEgazSRlmQZ4ccvwaFgRxBICu1URXkmSHHb0FhIEcQyGptFAV5esjxe1AYyBEEsmIbNUGeGnL8ERQGcgSBrNpGSZAnhxx/BoWBHEEgK7dREeSJIcdfQWEgRxDI6m0UBHl8yPF3UBjIEQSyQ5vVBXlsyPFPUBgKcmwy6fa66+LAZ1YcemVBHh1y/BsETkGOzagdBdnIsZFkudeqgpwbckQBU5GjqyA8QRybvvml9Y0osy8lORBkNu3g+lWfIJfHnJVETY6ugvARa0JsrySKcnQVhI9YE4JsSq9XElU5EGRyUaLLV/+IdXTeXSVRlqOrIHzECjL7WpKoy4EgQYsS1UbpCXKtP9wryIEgUZsd1EdRkOP+JqkiB4IELXZUG1VBjkpSSQ4EidrsoD7KglyW5GwQi1Xa8FWTVZIY3/u5sNB9uArfxVpqB9SfIEvBDLoMT5AgkBFtECSCYmyPXb72vU2i4z4RKEjHt3lj94huEMgnwBMknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE0AQ4fC4ej4BBMlnzAnCBBBEODyunk8AQfIZc4IwAQQRDo+r5xNAkHzGnCBMAEGEw+Pq+QQQJJ8xJwgTQBDh8Lh6PgEEyWfMCcIEEEQ4PK6eTwBB8hlzgjABBBEOj6vnE0CQfMacIEwAQYTD4+r5BBAknzEnCBNAEOHwuHo+AQTJZ8wJwgQQRDg8rp5PAEHyGXOCMAEEEQ6Pq+cTQJB8xpwgTABBhMPj6vkEECSfMScIE9gIwgsCEDiBAIKwGhDYQgBBWA8IIAg7AAEfAZ4gPm5UNSGAIE2CZkwfAQTxcaOqCQEEaRI0Y/oIIIiPG1VNCCBIk6AZ00cAQXzcqGpCAEGaBM2YPgII4uNGVRMCCNIkaMb0EUAQHzeqmhBAkCZBM6aPAIL4uFHVhACCNAmaMX0EEMTHjaomBBCkSdCM6SOAID5uVDUhgCBNgmZMHwEE8XGjqgkBBGkSNGP6CCCIjxtVTQj8B1C6ZEICxVr9AAAAAElFTkSuQmCC";const g=e=>((0,c.dD)("data-v-a9b07428"),e=e(),(0,c.Cn)(),e),f={class:"golbal"},w={class:"setting"},y=g((()=>(0,c._)("div",{style:{flex:"2"}},null,-1))),k=g((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),h=g((()=>(0,c._)("div",null,"Docker",-1))),b=[h],_={key:0,class:"kk-flex bar"},x=["alt"],C=g((()=>(0,c._)("div",{class:"ellipsis no-select",style:{"font-size":"14px"}},[(0,c._)("span",null,"kk Terminal")],-1))),S=g((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),D={class:"kk-flex"},I={key:0,style:{"margin-left":"10px",cursor:"pointer"}},T={key:1,style:{"margin-left":"10px",cursor:"pointer"}},z={key:2,style:{"margin-left":"10px",cursor:"pointer"}},W={key:3,class:"kk-flex",style:{"margin-left":"10px"}},V=g((()=>(0,c._)("div",{style:{"font-size":"12px",color:"#313131","user-select":"none"}}," TCode ",-1))),U=g((()=>(0,c._)("div",{style:{"margin-left":"7px"}},null,-1))),E={style:{cursor:"pointer","margin-left":"5px"}},F={key:0,style:{"font-size":"12px",color:"#313131"}},A={style:{"user-select":"none","font-size":"14px","font-weight":"bold"}},H={style:{"user-select":"none","margin-top":"5px"}},$={style:{"user-select":"none","margin-top":"5px"}},R=g((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4","user-select":"text"}},"/H",-1))),N={style:{"user-select":"none","margin-top":"5px"}},B=g((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4","user-select":"text"}},"/A",-1))),O=g((()=>(0,c._)("div",{style:{"margin-left":"20px"}},null,-1))),K={key:4,style:{"margin-left":"10px"}},M={ref:"terminal",class:"terminal-class"};function j(e,l,t,a,o,s){const i=(0,c.up)("ArrowRight"),n=(0,c.up)("el-icon"),r=(0,c.up)("UserFilled"),u=(0,c.up)("el-tag"),p=(0,c.up)("VideoPlay"),g=(0,c.up)("VideoPause"),h=(0,c.up)("MostlyCloudy"),j=(0,c.up)("el-input"),P=(0,c.up)("QuestionFilled"),L=(0,c.up)("el-popover"),q=(0,c.up)("ConnectSetting"),Q=(0,c.up)("StyleSetting"),G=(0,c.up)("FileBlock"),J=(0,c.up)("UserTcode"),Z=(0,c.up)("HelpTcode"),Y=(0,c.up)("CooperateGen"),X=(0,c.up)("StatusMonitor"),ee=(0,c.up)("DockerBlock");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c._)("div",f,[(0,c.wy)((0,c._)("div",w,[(0,c._)("div",{class:"setting-menu no-select",onClick:l[0]||(l[0]=e=>a.doSettings(1))},[(0,c._)("div",null,(0,m.zw)(e.$t("连接设置")),1)]),(0,c._)("div",{class:"setting-menu no-select",onClick:l[1]||(l[1]=e=>a.doSettings(2))},[(0,c._)("div",null,(0,m.zw)(e.$t("偏好设置")),1)]),(0,c._)("div",{class:"setting-menu no-select",onClick:l[2]||(l[2]=e=>a.doSettings(4))},[(0,c._)("div",null,(0,m.zw)(e.$t("文件管理")),1)]),(0,c._)("div",{onMousemove:l[3]||(l[3]=e=>a.showAdvance(!0)),onMouseleave:l[4]||(l[4]=e=>a.showAdvance(!1)),class:(0,m.C_)(["setting-menu","no-select",a.sshKey&&a.env.advance?"":"disabled"]),onClick:l[5]||(l[5]=e=>a.doSettings(5))},[y,(0,c._)("div",null,(0,m.zw)(e.$t("高级")),1),k,(0,c.Wm)(n,{style:{"margin-right":"2px"}},{default:(0,c.w5)((()=>[(0,c.Wm)(i)])),_:1})],34),(0,c._)("div",{class:"setting-menu no-select",onClick:l[6]||(l[6]=e=>a.doSettings(3))},[(0,c._)("div",null,(0,m.zw)(e.$t("重启")),1)])],512),[[d.F8,a.isShowSetting&&"headless"!=a.urlParams.mode&&"pure"!=a.urlParams.mode]]),(0,c.wy)((0,c._)("div",{onMousemove:l[10]||(l[10]=e=>a.showAdvance(!0)),onMouseleave:l[11]||(l[11]=e=>a.showAdvance(!1)),class:(0,m.C_)(["advance",a.sshKey&&a.env.advance?"":"disabled"])},[(0,c._)("div",{class:"setting-menu no-select",onClick:l[7]||(l[7]=e=>a.doSettings(6))},[(0,c._)("div",null,(0,m.zw)(e.$t("协作")),1)]),(0,c._)("div",{class:(0,m.C_)(["setting-menu","no-select","root"===a.env.server_user?"":"disabled"]),onClick:l[8]||(l[8]=e=>a.doSettings(7))},[(0,c._)("div",null,(0,m.zw)(e.$t("监控")),1)],2),(0,c._)("div",{class:"setting-menu no-select",onClick:l[9]||(l[9]=e=>a.doSettings(8))},b)],34),[[d.F8,a.isShowSetting&&a.isShowAdvance&&"headless"!=a.urlParams.mode&&"pure"!=a.urlParams.mode]]),"headless"!=a.urlParams.mode?((0,c.wg)(),(0,c.iD)("div",_,[(0,c._)("div",{style:{"user-select":"none"},onClick:l[12]||(l[12]=e=>{a.isShowSetting=!a.isShowSetting,a.isShowAdvance=!1,a.showAdvance(!1)})},[(0,c._)("img",{src:v,alt:e.$t("终端"),style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,8,x)]),C,S,(0,c.wy)((0,c._)("div",D,[a.cooperating?((0,c.wg)(),(0,c.iD)("div",I,[(0,c.Wm)(u,{size:"small",onClick:a.endCooperateConfirm,type:a.calcType(a.onlineNumber,a.maxNumber),effect:"plain",class:"kk-flex no-select"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(r)])),_:1}),(0,c.Uk)((0,m.zw)(a.onlineNumber),1)])),_:1},8,["onClick","type"])])):(0,c.kq)("",!0),a.env.cloud?((0,c.wg)(),(0,c.iD)("div",T,[0==a.recording?((0,c.wg)(),(0,c.j4)(u,{key:0,onClick:a.startRecord,size:"small",type:"info",effect:"plain",class:"kk-flex no-select",style:{color:"#313131"}},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("开始录制")),1)])),_:1},8,["onClick"])):((0,c.wg)(),(0,c.j4)(u,{key:1,size:"small",onClick:a.stopRecord,type:"danger",effect:"plain",class:"kk-flex no-select"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("录制中")),1)])),_:1},8,["onClick"]))])):(0,c.kq)("",!0),a.env.cloud?((0,c.wg)(),(0,c.iD)("div",z,[(0,c.Wm)(u,{onClick:a.cloudSync,size:"small",type:"info",effect:"plain",class:"kk-flex no-select",style:{color:"#313131"}},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(h)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("云端同步")),1)])),_:1},8,["onClick"])])):(0,c.kq)("",!0),a.env.tCode?((0,c.wg)(),(0,c.iD)("div",W,[V,U,(0,c._)("div",null,[(0,c.Wm)(j,{modelValue:a.tcode,"onUpdate:modelValue":l[13]||(l[13]=e=>a.tcode=e),id:"kkterminalTcode",ref:"tCodeInputRef",style:{width:"100px",height:"20px",fontSize:"12px"},onKeydown:(0,d.D2)(a.handleTcode,["enter"]),maxlength:"6"},null,8,["modelValue","onKeydown"])]),(0,c._)("div",E,[a.env.tCode?((0,c.wg)(),(0,c.j4)(L,{key:0,placement:"bottom-end",width:e.$t("220"),trigger:"click"},{reference:(0,c.w5)((()=>[(0,c.Wm)(n,{style:{color:"#606266"}},{default:(0,c.w5)((()=>[(0,c.Wm)(P)])),_:1})])),default:(0,c.w5)((()=>[a.env.tCode?((0,c.wg)(),(0,c.iD)("div",F,[(0,c._)("div",A,(0,m.zw)(e.$t("什么是 TCode (终端代码) ？")),1),(0,c._)("div",H,(0,m.zw)(e.$t("TCode（终端代码）是用于访问和执行特定操作流程的快捷方式")),1),(0,c._)("div",$,[(0,c.Uk)((0,m.zw)(e.$t("输入"))+" ",1),R,(0,c.Uk)(" "+(0,m.zw)(e.$t("并按下回车，查看帮助信息")),1)]),(0,c._)("div",N,[(0,c.Uk)((0,m.zw)(e.$t("输入"))+" ",1),B,(0,c.Uk)(" "+(0,m.zw)(e.$t("并按下回车，自定义TCode")),1)])])):(0,c.kq)("",!0)])),_:1},8,["width"])):(0,c.kq)("",!0)]),O])):((0,c.wg)(),(0,c.iD)("div",K))],512),[[d.F8,"headless"!=a.urlParams.mode&&"pure"!=a.urlParams.mode]])])):(0,c.kq)("",!0),(0,c._)("div",M,null,512)]),(0,c.Wm)(q,{ref:"connectSettingRef",env:a.env,sshOptions:a.options,onSaveOp:a.saveOp,onDeleteOp:a.deleteOp,onCallback:a.saveEnv},null,8,["env","sshOptions","onSaveOp","onDeleteOp","onCallback"]),(0,c.Wm)(Q,{ref:"styleSettingRef",env:a.env,onCallback:a.saveEnv,os:a.osInfo.clientOS},null,8,["env","onCallback","os"]),(0,c.Wm)(G,{ref:"fileBlockRef",sshKey:a.sshKey,os:a.osInfo.clientOS},null,8,["sshKey","os"]),(0,c.Wm)(J,{ref:"userTcodeRef",onImportTCodes:a.importTCodes,onExportTcodes:a.exportTcodes},null,8,["onImportTCodes","onExportTcodes"]),(0,c.Wm)(Z,{ref:"helpTcodeRef",userTCodes:a.tcodes,onHandleSaveTCode:a.handleSaveTCode,onHandleDeleteTCode:a.handleDeleteTCode},null,8,["userTCodes","onHandleSaveTCode","onHandleDeleteTCode"]),(0,c.Wm)(Y,{ref:"cooperateGenRef",sshKey:a.sshKey,advance:a.env.advance,onHandleCooperate:a.handleCooperate},null,8,["sshKey","advance","onHandleCooperate"]),(0,c.Wm)(X,{ref:"statusMonitorRef",sshKey:a.sshKey,advance:a.env.advance},null,8,["sshKey","advance"]),(0,c.Wm)(ee,{ref:"dockerBlockRef",sshKey:a.sshKey,advance:a.env.advance,onInstall:a.installDocker},null,8,["sshKey","advance","onInstall"])],64)}t(7658),t(6229),t(7330),t(2062);var P=t(7071),L=t(4870),q=t(5595),Q=t(6537),G=t(7114);const J={server_ip:"",server_port:22,server_user:"root",server_password:"",server_key:null,authType:0,option:"",lang:"en",bg:"#0c0c0c",fg:"#cccccc",fontFamily:"Courier New",fontSize:16,cursorStyle:"block",cursorBlink:!0,tCode:!0,cloud:!0,advance:!0};let Z=window.location.protocol,Y="";Y="https:"==Z?"wss://":"ws://";const X=Y+window.location.host+"/socket/ssh/",ee=Z+"//"+window.location.host+"/api",le=e=>{let l="";for(let t=0;t<e.length;t++)"/"!=e[t]?l+=e[t]:l+="@";return l},te=e=>{let l="";for(let t=0;t<e.length;t++)"@"!=e[t]?l+=e[t]:l+="-";return l},ae=e=>{const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++){const e=Math.floor(Math.random()*l.length);t+=l[e]}return t},oe=/[ !"#$&'()*,:;<=>?@[\\\]^`{}~]/g,se=e=>e.replace(oe,(function(e){return"\\"+e})),ie=e=>se(e),ne=e=>((0,c.dD)("data-v-7d582d43"),e=e(),(0,c.Cn)(),e),re={class:"item-class",style:{"margin-bottom":"15px"}},ue={class:"no-select form-width nowrap"},de=ne((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),ce={class:"item-class",style:{"margin-bottom":"15px"}},pe={class:"no-select form-width"},me={class:"item-class",style:{"margin-bottom":"15px"}},ve={class:"no-select form-width"},ge={class:"item-class",style:{"margin-bottom":"15px"}},fe={class:"no-select form-width"},we={class:"item-class",style:{"margin-bottom":"5px"}},ye={key:0,class:"item-class"},ke={key:1},he={class:"errInfo no-select"},be=ne((()=>(0,c._)("div",{style:{"margin-bottom":"5px"}},null,-1))),_e={style:{display:"flex","border-top":"1px solid #f1f2f4"}},xe=ne((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function Ce(e,l,t,a,o,s){const i=(0,c.up)("ToolTip"),n=(0,c.up)("Switch"),r=(0,c.up)("el-icon"),u=(0,c.up)("el-button"),d=(0,c.up)("Finished"),p=(0,c.up)("Edit"),v=(0,c.up)("HomeFilled"),g=(0,c.up)("el-input"),f=(0,c.up)("DocumentCopy"),w=(0,c.up)("Paperclip"),y=(0,c.up)("User"),k=(0,c.up)("arrow-down"),h=(0,c.up)("el-dropdown-item"),b=(0,c.up)("el-dropdown-menu"),_=(0,c.up)("el-dropdown"),x=(0,c.up)("Lock"),C=(0,c.up)("View"),S=(0,c.up)("Hide"),D=(0,c.up)("Key"),I=(0,c.up)("el-checkbox"),T=(0,c.up)("el-dialog"),z=(0,c.up)("OptionBlock"),W=(0,c.up)("PrivateKey");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(T,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[14]||(l[14]=e=>a.DialogVisible=e),"destory-on-close":!0,"before-close":a.closeDialog,width:360,title:e.$t("连接设置"),modal:!1,"close-on-click-modal":!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","align-center":"",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",null,[(0,c._)("div",re,[(0,c._)("div",ue,(0,m.zw)(e.$t("配   置"))+"：",1),(0,c.Wm)(i,{content:a.setInfo.option&&a.setInfo.option.length>0?a.setInfo.option:e.$t("新建配置")},{content:(0,c.w5)((()=>[(0,c._)("div",{class:(0,m.C_)(["ellipsis",a.setInfo.option&&a.setInfo.option.length>0?"old-option":"new-option"]),style:{"user-select":"none"}},(0,m.zw)(a.setInfo.option&&a.setInfo.option.length>0?a.setInfo.option:e.$t("新建配置")),3)])),_:1},8,["content"]),de,(0,c._)("div",null,[(0,c.Wm)(u,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>a.showOption(0)),style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("切换")),1)])),_:1})]),(0,c._)("div",null,[0==a.isForbidInput?((0,c.wg)(),(0,c.j4)(u,{key:0,size:"small",type:"primary",onClick:l[1]||(l[1]=e=>a.showOption(1)),style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(d)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("保存")),1)])),_:1})):(0,c.kq)("",!0)]),(0,c._)("div",null,[1==a.isForbidInput?((0,c.wg)(),(0,c.j4)(u,{key:0,size:"small",type:"primary",onClick:a.newOp,style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("新建")),1)])),_:1},8,["onClick"])):(0,c.kq)("",!0)])]),(0,c._)("div",ce,[(0,c._)("div",pe,(0,m.zw)(e.$t("主机IP"))+"：",1),(0,c._)("div",null,[(0,c.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_ip,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.server_ip=e),class:"w-50 m-2",placeholder:e.$t("输入主机IP")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(v)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,c._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[3]||(l[3]=e=>a.doCopy(a.setInfo.server_ip))},[(0,c.Wm)(r,{size:"15"},{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})])]),(0,c._)("div",me,[(0,c._)("div",ve,(0,m.zw)(e.$t("端口号"))+"：",1),(0,c._)("div",null,[(0,c.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_port,"onUpdate:modelValue":l[4]||(l[4]=e=>a.setInfo.server_port=e),class:"w-50 m-2",placeholder:e.$t("输入端口号")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(w)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,c._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[5]||(l[5]=e=>a.doCopy(a.setInfo.server_port))},[(0,c.Wm)(r,{size:"15"},{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})])]),(0,c._)("div",ge,[(0,c._)("div",fe,(0,m.zw)(e.$t("用户名"))+"：",1),(0,c._)("div",null,[(0,c.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_user,"onUpdate:modelValue":l[6]||(l[6]=e=>a.setInfo.server_user=e),class:"w-50 m-2",placeholder:e.$t("输入用户名")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-input__icon"},{default:(0,c.w5)((()=>[(0,c.Wm)(y)])),_:1})])),_:1},8,["disabled","modelValue","placeholder"])]),(0,c._)("div",{style:{cursor:"pointer","margin-left":"10px"},onClick:l[7]||(l[7]=e=>a.doCopy(a.setInfo.server_user))},[(0,c.Wm)(r,{size:"15"},{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})])]),(0,c._)("div",we,[(0,c.Wm)(_,{disabled:a.isForbidInput,class:"no-select form-width","hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(b,null,{default:(0,c.w5)((()=>[(0,c.Wm)(h,{class:"no-select",onClick:l[8]||(l[8]=e=>a.setInfo.authType=0)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("密码")),1)])),_:1}),(0,c.Wm)(h,{class:"no-select",onClick:l[9]||(l[9]=e=>a.setInfo.authType=1)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("私钥")),1)])),_:1})])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",null,[(0,c.Uk)((0,m.zw)(0==a.setInfo.authType?e.$t("密码"):e.$t("私钥")),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(k,{style:{cursor:"pointer"}})])),_:1})])])),_:1},8,["disabled"]),0==a.setInfo.authType?((0,c.wg)(),(0,c.iD)("div",ye,[(0,c._)("div",null,[(0,c.Wm)(g,{disabled:a.isForbidInput,modelValue:a.setInfo.server_password,"onUpdate:modelValue":l[10]||(l[10]=e=>a.setInfo.server_password=e),type:a.isShowPassword?"text":"password",class:"w-50 m-2",placeholder:e.$t("输入密码")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-input__icon"},{default:(0,c.w5)((()=>[(0,c.Wm)(x)])),_:1})])),_:1},8,["disabled","modelValue","type","placeholder"])]),1==a.isShowPassword?((0,c.wg)(),(0,c.iD)("div",{key:0,style:{cursor:"pointer","margin-left":"10px"},onClick:l[11]||(l[11]=e=>a.isShowPassword=!1)},[(0,c.Wm)(r,{size:"15"},{default:(0,c.w5)((()=>[(0,c.Wm)(C)])),_:1})])):((0,c.wg)(),(0,c.iD)("div",{key:1,style:{cursor:"pointer","margin-left":"10px"},onClick:l[12]||(l[12]=e=>a.isShowPassword=!0)},[(0,c.Wm)(r,{size:"15"},{default:(0,c.w5)((()=>[(0,c.Wm)(S)])),_:1})]))])):((0,c.wg)(),(0,c.iD)("div",ke,[(0,c.Wm)(u,{disabled:a.isForbidInput,type:"primary",onClick:a.openprivateKeyBlock},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(D)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("导入")),1)])),_:1},8,["disabled","onClick"])]))])]),(0,c._)("div",he,(0,m.zw)(e.$t(a.err_msg)),1),be,(0,c._)("div",_e,[a.setInfo.option&&a.setInfo.option.length>0?((0,c.wg)(),(0,c.j4)(I,{key:0,modelValue:a.isNewWindow,"onUpdate:modelValue":l[13]||(l[13]=e=>a.isNewWindow=e),label:e.$t("新窗口打开"),size:"small",style:{"margin-top":"10px"}},null,8,["modelValue","label"])):(0,c.kq)("",!0),xe,(0,c.Wm)(u,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close","title"]),(0,c.Wm)(z,{ref:"optionBlockRef",onCallback:a.doOption,opType:a.optionBlockType,sshOptions:t.sshOptions,onHandleDeleteOption:a.handleDeleteOption},null,8,["onCallback","opType","sshOptions","onHandleDeleteOption"]),(0,c.Wm)(W,{ref:"privateKeyRef",onCallback:a.savePrivateKey},null,8,["onCallback"])],64)}const Se=e=>((0,c.dD)("data-v-263619c6"),e=e(),(0,c.Cn)(),e),De={class:"no-select"},Ie={key:0,class:"kk-border"},Te=["onClick"],ze={class:"ellipsis",style:{margin:"0 10px"}},We=Se((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Ve=["onClick"],Ue={key:1,class:"kk-border"},Ee={class:"kk-flex"},Fe={style:{flex:"1"}},Ae={style:{"margin-left":"10px"}};function He(e,l,t,a,o,s){const i=(0,c.up)("FileIcons"),n=(0,c.up)("CircleClose"),r=(0,c.up)("el-icon"),u=(0,c.up)("NoData"),p=(0,c.up)("el-input"),v=(0,c.up)("el-button"),g=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(g,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisible=e),"before-close":a.closeDialog,"destroy-on-close":"",width:420,modal:!1,title:e.$t("全部配置"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",De,[Object.keys(t.sshOptions).length>0?((0,c.wg)(),(0,c.iD)("div",Ie,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.sshOptions,((e,l)=>((0,c.wg)(),(0,c.iD)("div",{key:l},[(0,c._)("div",{class:(0,m.C_)(["item-class",a.aimOption==l?"item-selected":""]),onClick:e=>a.aimOption=l},[(0,c.Wm)(i,{style:{display:"flex",alignItems:"center"},name:"kk.ini",width:20,height:20,isFolder:!1}),(0,c._)("div",ze,(0,m.zw)(l),1),We,(0,c._)("div",{onClick:e=>a.confirmDeleteOption(l)},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})],8,Ve)],10,Te)])))),128))])):((0,c.wg)(),(0,c.iD)("div",Ue,[(0,c.Wm)(u,{msg:e.$t(a.noDataMsg)},null,8,["msg"])])),(0,c._)("div",Ee,[(0,c._)("div",null,(0,m.zw)(e.$t("配置名"))+"：",1),(0,c._)("div",Fe,[(0,c.Wm)(p,{size:"small",modelValue:a.aimOption,"onUpdate:modelValue":l[0]||(l[0]=e=>a.aimOption=e),disabled:0==t.opType,onKeydown:(0,d.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:""},null,8,["modelValue","disabled","onKeydown"])]),(0,c._)("div",Ae,[(0,c.Wm)(v,{size:"small",type:"primary",onClick:a.confirm},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(t.opType?e.$t("保存"):e.$t("选择")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var $e=t(2748),Re=t(6e3),Ne=t(152),Be=JSON.parse('{"220":"260","240":"300","360":"380","450":"480","描   述":"Desc","配   置":"Option","简体中文":"Chinese","密码":"Pwd","私钥":"Key","导入私钥":"Import Key","请输入私钥密码":"Input Key Passphrase","内容过长":"Content too long","读取成功":"Read Success","读取失败":"Read Failed","文件加载失败":"File loading failed","帮助":"Help","功能TCode":"Function TCode","以":"Start with","开头，用于快速执行通用功能":", used to quickly execute common functions","系统TCode":"System TCode","开头，用于快速访问系统模块":", used for quick access to system modules","用户TCode":"User TCode","不存在":" does not exist","其它TCode正在执行":"Another TCode is executing","执行中断：":"Execute Interrupt: ","工作流结束":"Workflow Over","编译错误：":"Compile Error: ","编辑":"Edit","删除":"Delete","只读":"Read Only","保存修改":"Save Changes","开头，自定义实现类似Shell脚本的自动化Workflow":", customizing Workflow for auto scripts","修改成功":"Modified","删除成功":"Deleted","提示":"Tips","确定删除此TCode吗?":"Sure to delete this TCode?","自定义TCode":"Customize TCode","新建窗口":"New Window","关闭窗口":"Close Window","退出登录":"Logout","刷新页面":"Refresh Webpage","连接设置":"Connect","偏好设置":"Style","高级":"Advance","文件管理":"File","重启":"Restart","协作":"Cooperate","监控":"Monitor","输入TCode":"Input TCode","输入TCode描述":"Input Description","导入":"Import","导出":"Export","默认模板":"Default Template","清空":"Clear","保存":"Save","取消":"cancel","确定":"confirm","保存成功":"Saved","：名称非法":": illegal name","导入成功":"Imported","导入失败：无合法TCode":"Failed: no legal TCode","导入成功：":"Imported: ","个":"","，导入失败：":", Failed: ","导入失败：json格式错误":"Failed: json format error","导入失败：文件读取失败":"Failed: file read failed","导出成功":"Exported","TCode不能为空":"TCode cannot be empty","TCode只能由字母和数字组成":"TCode can only consist of letters and numbers","添加成功":"Added","新建配置":"New Option","切换":"Switch","新建":"New","主机IP":"Host","输入主机IP":"Input Host IP","端口号":"Port","输入端口号":"Input SSH Port","用户名":"User","输入用户名":"Input User Name","输入密码":"Input Password","主机IP地址无效":"IP address is invalid","端口号无效":"Port number is invalid","用户名不能为空":"User name cannot be empty","密码不能为空":"Password cannot be empty","私钥不能为空":"PrivateKey cannot be empty","内容为空":"Empty","复制成功":"Copied","属性":"Attribute","位置":"Path","包含":"Contain","大小":"Size","字节":"Bytes","修改时间":"MTime","访问时间":"ATime","权限":"Permissions","权限修改":"Permissions Edit","0 个文件，0 个文件夹":"0 files, 0 folders"," 个文件，":" files, "," 个文件夹":" folders","文件名不能为空":"File name cannot be empty","文件名不能含有":"File name cannot contain","URL上传":"URL Upload","请输入文件URL":"Input File URL","文件名":"Name","请输入文件名":"Input File Name","URL不能为空":"URL cannot be empty","文件":"File","文件夹":"Folder","暂无数据":"No Data","全部配置":"All Options","配置名":"Name","选择":"Select","暂无配置":"No Option","确定删除此配置吗?":"Sure to delete this Option?","其它":"Other","语言":"Language","颜色":"Color","背景色":"Background","前景色":"Foreground","文本":"Text","字体":"Font","字号":"Size","光标":"Cursor","样式":"Style","闪烁":"Blink","功能":"Func","确定删除吗?":"Sure to delete?","年":"/","月":"/","日，":" ","终端":"terminal","什么是 TCode (终端代码) ？":"What\'s TCode (Terminal Code)?","TCode（终端代码）是用于访问和执行特定操作流程的快捷方式":"TCode (Terminal Code) is shortcut to access and execute specific action process","输入":"Input","并按下回车，查看帮助信息":"and Enter to show Help Module","并按下回车，自定义TCode":"and Enter to customize TCode","输入目录路径":"Input dir path","刷新":"Refresh","打开":"Open","复制路径":"Copy Path","解压":"Decompress","下载":"Download","重命名":"Rename","确定删除此文件吗?":"Sure to delete this File?","开始上传":"Start uploading","文件上传失败":"File upload failed","文件夹上传失败":"Folder upload failed","暂无文件":"No File","修改保存中":"Saving modification","文件后台保存中":"Saving file in the backend","读取":"Read","写入":"Write","执行":"Execute","所有者":"Owner","所属组":"Group","其他用户":"Others","应用到子目录和文件":"Apply to sub directories and files","TCode必须以 /,S,U 开头":"TCode must start with /,S,U","保存编码":"Save Encoding","模式":"Mode","缩进":"Indent","复制":"Copy","新窗口打开":"Open in new window","开始录制":"Start Record","录制中":"Recording","录像链接已复制":"Record Link Copied","协作链接已复制":"Cooperate Link Copied","云端":"Cloud","云端同步":"Cloud Sync","云端文件过多":"Too many Cloud Files","云端同步失败":"Cloud Sync Failed","云端文件加载失败":"Cloud File loading failed","确定从云端覆盖本地数据吗?":"Sure to overwrite local data from Cloud?","编辑权限":"Edit Permissions","人数上限":"Max Head Count","是":"Yes","否":"No","协作Key生成失败":"Cooperate Key Generate Failed","确定结束此次协作吗?":"Sure to end this Cooperation?","概览":"Overview","核心":"Core","负载":"Load","CPU使用率":"CPU Usage","内存使用率":"Memory Usage","运行流畅":"Run Fluently","运行缓慢":"Run Slowly","运行堵塞":"Run Blocked","Top进程":"Top Process","网络":"NetWork","磁盘":"Disk","上行":"Up","下行":"Down","读":"Read","写":"Write","容器":"Container","镜像":"Image","数据卷":"Volume","名称":"Name","状态":"Status","端口":"Port","仓库":"Repository","创建时间":"Create Time","网关":"Gateway","挂载点":"Mount Point","安装":"Install","选择批量操作":"Select Batch Operation","启动容器":"Start Container","停止容器":"Pause Container","重启容器":"Restart Container","删除容器":"Delete Container","删除镜像":"Delete Image","删除网络":"Delete NetWork","删除数据卷":"Delete Volume","Docker未安装?":"Docker is not installed?","确定进行此操作吗?":"Sure to do this operation?","高级-协作":"Advance-Cooperate","高级-监控":"Advance-Monitor","高级-Docker":"Advance-Docker"}');const Oe=(0,Ne.o)({locale:"en",fallbackLocale:"zh",messages:{en:Be},missing:(e,l)=>l});Oe.global.k=e=>e;var Ke=Oe;const Me=(e,l,t)=>Re.T.alert(l||Ke.global.t("确定删除吗?"),e||Ke.global.t("提示"),{autofocus:!1,customStyle:"font-size: 13px; color: black; width: 265px; user-select: none;",cancelButtonText:Ke.global.t("取消"),confirmButtonText:Ke.global.t("确定"),showCancelButton:!0,showConfirmButton:!0,cancelButtonClass:"el-button is-text",confirmButtonClass:"el-button--danger",buttonSize:"small",icon:$e.Ruj,type:"warning",callback:e=>{"confirm"===e&&t()}});var je=t.p+"img/no_data.ec5c928e.png";const Pe=e=>((0,c.dD)("data-v-139a934c"),e=e(),(0,c.Cn)(),e),Le=Pe((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),qe={style:{display:"flex","align-items":"center"}},Qe=["alt"],Ge={class:"msg"},Je=Pe((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function Ze(e,l,t,a,o,s){return(0,c.wg)(),(0,c.iD)("div",{class:"no-data",style:(0,m.j5)(a.viewStyle)},[Le,(0,c.WI)(e.$slots,"myslot",{},void 0,!0),(0,c._)("div",qe,[(0,c._)("div",null,[(0,c._)("img",{src:je,alt:e.$t("暂无数据"),style:{width:"120px"}},null,8,Qe)])]),(0,c._)("div",Ge,(0,m.zw)(t.msg),1),Je],4)}var Ye={name:"NoData",components:{},props:{msg:{type:String,required:!1,default:Ke.global.t("暂无数据")},width:{type:String,required:!1},height:{type:String,required:!1},minHeight:{type:String,required:!1}},setup(e){const l=(0,c.Fl)((()=>({width:e.width?e.width:"100%",height:e.height?e.height:"100%",minHeight:e.minHeight?e.minHeight:""})));return{viewStyle:l}}},Xe=t(89);const el=(0,Xe.Z)(Ye,[["render",Ze],["__scopeId","data-v-139a934c"]]);var ll=el,tl=t(3223),al=t.n(tl),ol={name:"OptionBlock",components:{FileIcons:al(),NoData:ll,CircleClose:$e.K41},props:["opType","sshOptions"],setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(Ke.global.k("暂无配置")),o=(0,L.iH)(""),s=()=>{""!=o.value&&""!=o.value.trim()&&(l.emit("callback",o.value.trim()),d())},i=(0,L.iH)(""),n=e=>{i.value=e,Me(Ke.global.t("提示"),Ke.global.t("确定删除此配置吗?"),r)},r=()=>{l.emit("handleDeleteOption",i.value),(0,q.z8)({message:Ke.global.t("删除成功"),type:"success",grouping:!0}),o.value==i.value&&(o.value="")},u=()=>{a.value=Ke.global.k("暂无配置"),o.value="",i.value="",t.value=!1},d=e=>{setTimeout((()=>{u()}),400),t.value=!1,e&&e()};return{DialogVisible:t,noDataMsg:a,aimOption:o,confirm:s,confirmDeleteOption:n,doDeleteOption:r,reset:u,closeDialog:d}}};const sl=(0,Xe.Z)(ol,[["render",He],["__scopeId","data-v-263619c6"]]);var il=sl;const nl={class:"no-select"},rl={class:"kk-flex"},ul={class:"form-width"},dl={key:0,class:"errInfo no-select"},cl={key:1,style:{height:"7px"}},pl={class:"kk-flex"},ml={class:"form-width"},vl={style:{flex:"1"}},gl={style:{"margin-left":"10px"}};function fl(e,l,t,a,o,s){const i=(0,c.up)("Lock"),n=(0,c.up)("el-icon"),r=(0,c.up)("el-button"),u=(0,c.up)("el-upload"),p=(0,c.up)("Key"),v=(0,c.up)("el-input"),g=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(g,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[1]||(l[1]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:320,modal:!1,title:e.$t("导入私钥"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",nl,[(0,c._)("div",rl,[(0,c._)("div",ul,(0,m.zw)(e.$t("私钥"))+"：",1),(0,c.Wm)(u,{"show-file-list":!1,"with-credentials":!0,"http-request":a.readPrivateKeyContent,multiple:!1},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{size:"small",type:"primary"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(i)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("选择")),1)])),_:1})])),_:1},8,["http-request"])]),a.err_msg&&a.err_msg.length>0?((0,c.wg)(),(0,c.iD)("div",dl,(0,m.zw)(a.err_msg),1)):((0,c.wg)(),(0,c.iD)("div",cl)),(0,c._)("div",pl,[(0,c._)("div",ml,(0,m.zw)(e.$t("密码"))+"：",1),(0,c._)("div",vl,[(0,c.Wm)(v,{size:"small",modelValue:a.passphrase,"onUpdate:modelValue":l[0]||(l[0]=e=>a.passphrase=e),onKeydown:(0,d.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:e.$t("请输入私钥密码")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1})])),_:1},8,["modelValue","onKeydown","placeholder"])]),(0,c._)("div",gl,[(0,c.Wm)(r,{size:"small",type:"primary",onClick:a.confirm},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var wl={name:"PrivateKey",components:{Lock:$e.HEZ,Key:$e.srI},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)(""),s=(0,L.iH)(""),i=()=>{l.emit("callback",o.value,s.value),u()},n=e=>{const l=new FileReader;l.onload=()=>{l.result.length>1048576?(0,q.z8)({message:Ke.global.t("内容过长"),type:"warning",grouping:!0}):(o.value=l.result,(0,q.z8)({message:Ke.global.t("读取成功"),type:"success",grouping:!0}))},l.onerror=()=>{(0,q.z8)({message:Ke.global.t("读取失败"),type:"error",grouping:!0})},l.readAsText(e.file)},r=()=>{a.value="",o.value="",s.value="",t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,content:o,passphrase:s,readPrivateKeyContent:n,confirm:i,closeDialog:u,reset:r}}};const yl=(0,Xe.Z)(wl,[["render",fl],["__scopeId","data-v-1492f08e"]]);var kl=yl;const hl={ref:"tooltipContent",class:"tooltip-content"};function bl(e,l,t,a,o,s){const i=(0,c.up)("el-tooltip");return(0,c.wg)(),(0,c.j4)(i,{"popper-class":"no-select",content:t.content,disabled:!(t.isShow&&a.isShowTooltip),"show-after":t.delay,placement:"top"},{default:(0,c.w5)((()=>[(0,c._)("div",hl,[(0,c.WI)(e.$slots,"content",{},void 0,!0)],512)])),_:3},8,["content","disabled","show-after"])}var _l={name:"ToolTip",props:{content:{type:String,required:!0,default:""},delay:{type:Number,required:!1,default:200},isShow:{type:Boolean,required:!1,default:!0}},setup(){const e=(0,L.iH)(null),l=(0,L.iH)(!1),t=()=>{setTimeout((()=>{e.value&&e.value.firstElementChild?l.value=e.value.firstElementChild.scrollWidth>e.value.firstElementChild.offsetWidth:l.value=!1}),1)};let a=null;const o=()=>{e.value&&(a=new ResizeObserver((()=>{t()})),a.observe(e.value))};return(0,c.bv)((()=>{t(),o()})),(0,c.Jd)((()=>{a&&e.value&&(a.unobserve(e.value),a.disconnect())})),{tooltipContent:e,isShowTooltip:l,checkOverflow:t}}};const xl=(0,Xe.Z)(_l,[["render",bl],["__scopeId","data-v-7eeec75d"]]);var Cl=xl;const Sl=e=>{const l={},t=new URLSearchParams(new URL(e||window.location.href).search).entries();for(const[a,o]of t)l[a]=o;return l},Dl=e=>{let l=e||window.location.href;return-1!=l.indexOf("?")&&(l=l.substring(0,l.indexOf("?"))),l},Il="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",Tl=`(${Il}[.]){3}${Il}`,zl=new RegExp(`^${Tl}$`),Wl="(?:[0-9a-fA-F]{1,4})",Vl=new RegExp(`^((?:${Wl}:){7}(?:${Wl}|:)|(?:${Wl}:){6}(?:${Tl}|:${Wl}|:)|(?:${Wl}:){5}(?::${Tl}|(:${Wl}){1,2}|:)|(?:${Wl}:){4}(?:(:${Wl}){0,1}:${Tl}|(:${Wl}){1,3}|:)|(?:${Wl}:){3}(?:(:${Wl}){0,2}:${Tl}|(:${Wl}){1,4}|:)|(?:${Wl}:){2}(?:(:${Wl}){0,3}:${Tl}|(:${Wl}){1,5}|:)|(?:${Wl}:){1}(?:(:${Wl}){0,4}:${Tl}|(:${Wl}){1,6}|:)|(?::((?::${Wl}){0,5}:${Tl}|(?::${Wl}){1,7}|:)))(%[0-9a-zA-Z-.:]{1,})?$`);function Ul(e,l="4"){return l=String(l),l?"4"===l?zl.test(e):"6"===l&&Vl.test(e):Ul(e,4)||Ul(e,6)}const El={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function Fl(e){El.allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===El.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));const l=e.split("."),t=l[l.length-1];if(El.require_tld){if(l.length<2)return!1;if(!El.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(t))return!1;if(/\s/.test(t))return!1}return!(!El.allow_numeric_tld&&/^\d+$/.test(t))&&l.every((e=>!(e.length>63&&!El.ignore_max_length)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!El.allow_underscores&&/_/.test(e)))))))}var Al={name:"ConnectSetting",components:{ToolTip:Cl,OptionBlock:il,PrivateKey:kl,HomeFilled:$e.Ozs,Paperclip:$e.pkz,User:$e.n5m,Lock:$e.HEZ,DocumentCopy:$e.IBc,View:$e.G7x,Hide:$e.caK,Edit:$e.I8b,Finished:$e.qWi,Switch:$e.rsf,ArrowDown:$e.K5e,Key:$e.srI},props:["env","sshOptions"],setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)(!1),s=(0,L.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,server_key:e.env.server_key||null,authType:e.env.authType||0,option:e.env.option}),i=()=>(a.value="",Ul(s.value.server_ip)||Fl(s.value.server_ip)?isNaN(s.value.server_port)||s.value.server_port<0||s.value.server_port>65535?(a.value=Ke.global.k("端口号无效"),!1):s.value.server_user&&""!=s.value.server_user?0!=s.value.authType||s.value.server_password&&""!=s.value.server_password?!!(1!=s.value.authType||s.value.server_key&&""!=s.value.server_key.content)||(a.value=Ke.global.k("私钥不能为空"),!1):(a.value=Ke.global.k("密码不能为空"),!1):(a.value=Ke.global.k("用户名不能为空"),!1):(a.value=Ke.global.k("主机IP地址无效"),!1)),n=(0,L.iH)(),r=(0,L.iH)(0),u=e=>{1==e&&0==i()||(r.value=e,n.value.aimOption="",n.value.DialogVisible=!0)},d=(0,L.iH)(!1);""!=s.value.option&&(d.value=!0);const c=t=>{0==r.value?(e.sshOptions[t].authType||(s.value.authType=0),s.value={...s.value,...e.sshOptions[t]},d.value=!0,a.value=""):1==r.value&&(s.value.option=t,l.emit("saveOp",t,s.value),d.value=!0)},p=()=>{d.value=!1,s.value.option=""},m=e=>{l.emit("deleteOp",e),s.value.option&&s.value.option==e&&(s.value.option="",d.value=!1)},v=(0,L.iH)(),g=()=>{v.value.content=s.value.server_key?s.value.server_key.content:"",v.value.passphrase=s.value.server_key?s.value.server_key.passphrase:"",v.value.DialogVisible=!0},f=(e,l)=>{s.value.server_key={content:e,passphrase:l}},w=()=>{0!=i()&&(o.value&&s.value.option&&s.value.option.length>0?window.open(Dl()+"?option="+s.value.option,"_blank"):(l.emit("callback",s.value),_()))},{toClipboard:y}=(0,P.Z)(),k=async e=>{e+="",e&&e.length>0?(await y(e),(0,q.z8)({message:Ke.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,q.z8)({message:Ke.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},h=(0,L.iH)(!1),b=()=>{a.value="",o.value=!1,h.value=!1,s.value={server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,server_key:e.env.server_key||null,authType:e.env.authType||0,option:e.env.option},""!=s.value.option?d.value=!0:d.value=!1,t.value=!1},_=e=>{n.value&&n.value.DialogVisible&&n.value.closeDialog(),v.value&&v.value.DialogVisible&&v.value.closeDialog(),setTimeout((()=>{b()}),400),t.value=!1,e&&e()};return{setInfo:s,DialogVisible:t,err_msg:a,isNewWindow:o,confirm:w,optionBlockRef:n,showOption:u,optionBlockType:r,doOption:c,isForbidInput:d,newOp:p,handleDeleteOption:m,reset:b,closeDialog:_,doCopy:k,isShowPassword:h,privateKeyRef:v,openprivateKeyBlock:g,savePrivateKey:f}}};const Hl=(0,Xe.Z)(Al,[["render",Ce],["__scopeId","data-v-7d582d43"]]);var $l=Hl;const Rl=e=>((0,c.dD)("data-v-6ee0ed05"),e=e(),(0,c.Cn)(),e),Nl={class:"no-select"},Bl={class:"item-class",style:{"margin-bottom":"13px"}},Ol={class:"form-width"},Kl={class:"item-class"},Ml={style:{margin:"0 20px"}},jl=Rl((()=>(0,c._)("div",{style:{width:"20px"}},null,-1))),Pl={class:"item-class"},Ll={style:{margin:"0 20px"}},ql={class:"item-class",style:{"margin-bottom":"13px"}},Ql={class:"form-width"},Gl={class:"item-class"},Jl={class:"a-link no-select"},Zl={class:"item-class"},Yl={class:"a-link no-select"},Xl={class:"item-class",style:{"margin-bottom":"8px"}},et={class:"form-width"},lt={class:"item-class"},tt={class:"a-link no-select"},at=Rl((()=>(0,c._)("div",{style:{width:"15px"}},null,-1))),ot={class:"item-class"},st={style:{margin:"0 20px"}},it={class:"item-class",style:{"margin-bottom":"13px"}},nt={class:"form-width"},rt={class:"item-class"},ut=Rl((()=>(0,c._)("div",null,"TCode",-1))),dt={style:{margin:"0 20px"}},ct={class:"item-class"},pt={style:{margin:"0 20px"}},mt={class:"item-class"},vt={style:{margin:"0 20px"}},gt={class:"item-class",style:{"margin-bottom":"5px"}},ft={class:"form-width"},wt={class:"item-class"},yt={class:"a-link no-select"},kt=Rl((()=>(0,c._)("div",{style:{"margin-bottom":"5px"}},null,-1))),ht={style:{display:"flex","border-top":"1px solid #f1f2f4"}},bt=Rl((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function _t(e,l,t,a,o,s){const i=(0,c.up)("el-color-picker"),n=(0,c.up)("arrow-down"),r=(0,c.up)("el-icon"),u=(0,c.up)("el-dropdown-item"),d=(0,c.up)("el-dropdown-menu"),p=(0,c.up)("el-dropdown"),v=(0,c.up)("el-switch"),g=(0,c.up)("el-button"),f=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(f,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[6]||(l[6]=e=>a.DialogVisible=e),"destroy-on-close":"",width:e.$t("450"),title:e.$t("偏好设置"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",Nl,[(0,c._)("div",Bl,[(0,c._)("div",Ol,(0,m.zw)(e.$t("颜色"))+"：",1),(0,c._)("div",Kl,[(0,c._)("div",null,(0,m.zw)(e.$t("背景色")),1),(0,c._)("div",Ml,[(0,c.Wm)(i,{modelValue:a.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>a.setInfo.bg=e)},null,8,["modelValue"])])]),jl,(0,c._)("div",Pl,[(0,c._)("div",null,(0,m.zw)(e.$t("前景色")),1),(0,c._)("div",Ll,[(0,c.Wm)(i,{modelValue:a.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>a.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,c._)("div",ql,[(0,c._)("div",Ql,(0,m.zw)(e.$t("文本"))+"：",1),(0,c._)("div",Gl,[(0,c._)("div",null,(0,m.zw)(e.$t("字体")),1),(0,c.Wm)(p,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(d,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.fontFamilyList,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>a.setInfo.fontFamily=e},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",Jl,[(0,c.Uk)((0,m.zw)(a.setInfo.fontFamily),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})]),(0,c._)("div",Zl,[(0,c._)("div",null,(0,m.zw)(e.$t("字号")),1),(0,c.Wm)(p,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(d,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.fontSizeList,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>a.setInfo.fontSize=e},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",Yl,[(0,c.Uk)((0,m.zw)(a.setInfo.fontSize),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})])]),(0,c._)("div",Xl,[(0,c._)("div",et,(0,m.zw)(e.$t("光标"))+"：",1),(0,c._)("div",lt,[(0,c._)("div",null,(0,m.zw)(e.$t("样式")),1),(0,c.Wm)(p,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(d,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.cursorStyleList,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>a.setInfo.cursorStyle=e},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",tt,[(0,c.Uk)((0,m.zw)(a.setInfo.cursorStyle),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})]),at,(0,c._)("div",ot,[(0,c._)("div",null,(0,m.zw)(e.$t("闪烁")),1),(0,c._)("div",st,[(0,c.Wm)(v,{modelValue:a.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>a.setInfo.cursorBlink=e)},null,8,["modelValue"])])])]),(0,c._)("div",it,[(0,c._)("div",nt,(0,m.zw)(e.$t("功能"))+"：",1),(0,c._)("div",rt,[ut,(0,c._)("div",dt,[(0,c.Wm)(v,{modelValue:a.setInfo.tCode,"onUpdate:modelValue":l[3]||(l[3]=e=>a.setInfo.tCode=e)},null,8,["modelValue"])])]),(0,c._)("div",ct,[(0,c._)("div",null,(0,m.zw)(e.$t("云端")),1),(0,c._)("div",pt,[(0,c.Wm)(v,{modelValue:a.setInfo.cloud,"onUpdate:modelValue":l[4]||(l[4]=e=>a.setInfo.cloud=e)},null,8,["modelValue"])])]),(0,c._)("div",mt,[(0,c._)("div",null,(0,m.zw)(e.$t("高级")),1),(0,c._)("div",vt,[(0,c.Wm)(v,{modelValue:a.setInfo.advance,"onUpdate:modelValue":l[5]||(l[5]=e=>a.setInfo.advance=e)},null,8,["modelValue"])])])]),(0,c._)("div",gt,[(0,c._)("div",ft,(0,m.zw)(e.$t("其它"))+"：",1),(0,c._)("div",wt,[(0,c._)("div",null,(0,m.zw)(e.$t("语言")),1),(0,c.Wm)(p,{style:{margin:"0 20px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(d,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.langList,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>a.setInfo.lang=e.value},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.label),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",yt,[(0,c.Uk)((0,m.zw)(a.mapValueToLabel(a.setInfo.lang)),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})])])]),kt,(0,c._)("div",ht,[bt,(0,c.Wm)(g,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","width","title","before-close"])}var xt={name:"StyleSetting",components:{ArrowDown:$e.K5e},props:["env","os"],setup(e,l){const t=(0,L.iH)(!1),a=[{label:"English",value:"en"},{label:Ke.global.k("简体中文"),value:"zh"}],o=e=>{const l=a.find((l=>l.value===e));return l?l.label:"English"},s=(0,c.Fl)((()=>"Windows"==e.os?["Courier New","Consolas","Monospace","Lucida Console"]:"Mac"==e.os||"iOS"==e.os?["Courier New","Menlo","Monaco","Courier"]:["Courier New","Consolas","Monospace","Lucida Console"])),i=[12,14,16,18,20],n=["block","underline","bar"],r=(0,L.iH)({lang:e.env.lang,bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink,tCode:e.env.tCode,cloud:e.env.cloud,advance:e.env.advance}),u=()=>{l.emit("callback",r.value),p()},d=()=>{r.value={lang:e.env.lang,bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink,tCode:e.env.tCode,cloud:e.env.cloud,advance:e.env.advance},t.value=!1},p=e=>{setTimeout((()=>{d()}),400),t.value=!1,e&&e()};return{langList:a,mapValueToLabel:o,fontFamilyList:s,fontSizeList:i,cursorStyleList:n,setInfo:r,DialogVisible:t,confirm:u,closeDialog:p}}};const Ct=(0,Xe.Z)(xt,[["render",_t],["__scopeId","data-v-6ee0ed05"]]);var St=Ct;const Dt=e=>((0,c.dD)("data-v-08fa41d2"),e=e(),(0,c.Cn)(),e),It={class:"title kk-flex"},Tt={class:"ellipsis",style:{flex:"1"}},zt={key:0},Wt=Dt((()=>(0,c._)("div",null,"/",-1))),Vt=["onClick"],Ut=Dt((()=>(0,c._)("div",null,"/",-1))),Et={class:"kk-flex"},Ft={key:1,class:"disabled-function",style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},At={key:3,class:"disabled-function",style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},Ht={key:4,class:"hover-class",style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},$t={class:"hover-class",style:{"font-size":"18px",cursor:"pointer"}},Rt={class:"kk-flex"},Nt={class:"kk-flex"},Bt={class:"kk-flex"},Ot=Dt((()=>(0,c._)("div",null,"URL",-1))),Kt={key:5,class:"disabled-function",style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},Mt={key:0},jt=["onClick","onDblclick","onContextmenu"],Pt={key:0,style:{margin:"0 10px"}},Lt={key:0,class:"ellipsis",style:{margin:"0 10px"}},qt=["onClick","onDblclick","onContextmenu"],Qt={key:0,style:{margin:"0 10px"}},Gt={key:0,class:"ellipsis",style:{margin:"0 10px"}},Jt={key:1},Zt=Dt((()=>(0,c._)("div",{style:{"margin-top":"-12px"}},null,-1)));function Yt(e,l,t,a,o,s){const i=(0,c.up)("el-input"),n=(0,c.up)("Refresh"),r=(0,c.up)("el-icon"),u=(0,c.up)("Fold"),p=(0,c.up)("Download"),v=(0,c.up)("Upload"),g=(0,c.up)("DocumentAdd"),f=(0,c.up)("el-dropdown-item"),w=(0,c.up)("FolderAdd"),y=(0,c.up)("Link"),k=(0,c.up)("el-dropdown-menu"),h=(0,c.up)("el-dropdown"),b=(0,c.up)("FileIcons"),_=(0,c.up)("ToolTip"),x=(0,c.up)("NoData"),C=(0,c.up)("el-dialog"),S=(0,c.up)("el-button"),D=(0,c.up)("el-upload"),I=(0,c.up)("FileUrl"),T=(0,c.up)("TxtPreview"),z=(0,c.up)("MkFile"),W=(0,c.up)("FileAttr"),V=(0,c.up)("el-popconfirm"),U=(0,c.Q2)("loading");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(C,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[32]||(l[32]=e=>a.DialogVisible=e),"before-close":a.closeDialog,title:e.$t("文件管理"),width:"50%",modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0","align-center":"",draggable:"",style:{position:"relative"}},{default:(0,c.w5)((()=>[(0,c._)("div",null,[(0,c._)("div",It,[(0,c._)("div",Tt,[1==a.isShowDirInput?((0,c.wg)(),(0,c.iD)("div",zt,[(0,c.Wm)(i,{id:"aimDirInput",modelValue:a.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>a.dir=e),placeholder:e.$t("输入目录路径"),size:"small",onKeydown:l[1]||(l[1]=(0,d.D2)((e=>{a.isShowDirInput=!1}),["enter"])),onBlur:l[2]||(l[2]=e=>{a.isShowDirInput=!1}),onMousedown:l[3]||(l[3]=(0,d.iM)((()=>{}),["stop"])),onDblclick:l[4]||(l[4]=(0,d.iM)((()=>{}),["stop"])),onChange:a.dirInputCallback},null,8,["modelValue","placeholder","onChange"])])):((0,c.wg)(),(0,c.iD)("div",{key:1,class:"kk-flex no-select ellipsis",onDblclick:l[5]||(l[5]=(...e)=>a.doShowDirInput&&a.doShowDirInput(...e))},[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.dirLevels,((e,l)=>((0,c.wg)(),(0,c.iD)("div",{key:l,class:"kk-flex"},[Wt,(0,c._)("div",{class:"dir-level",onClick:e=>a.changeDirByLevel(e,l)},(0,m.zw)(e),9,Vt)])))),128)),Ut],32))]),(0,c._)("div",Et,[(0,c._)("div",{class:"hover-class",onClick:l[6]||(l[6]=(...e)=>a.doRefresh&&a.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})]),a.dir&&"/"!=a.dir?((0,c.wg)(),(0,c.iD)("div",{key:0,class:"hover-class",onClick:l[7]||(l[7]=(...e)=>a.doReturn&&a.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])):((0,c.wg)(),(0,c.iD)("div",Ft,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])),1==a.selectedFiles.length?((0,c.wg)(),(0,c.iD)("div",{key:2,class:"hover-class",onClick:l[8]||(l[8]=(...e)=>a.doDownload&&a.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1})])):((0,c.wg)(),(0,c.iD)("div",At,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1})])),0==a.dirStatus?((0,c.wg)(),(0,c.iD)("div",Ht,[(0,c.wy)((0,c.Wm)(h,{style:{"line-height":"unset"},placement:"bottom-end",size:"small",trigger:"click"},{dropdown:(0,c.w5)((()=>[(0,c.wy)((0,c.Wm)(k,{class:"no-select",style:{"text-align":"center"}},{default:(0,c.w5)((()=>[(0,c.Wm)(f,{onClick:l[9]||(l[9]=e=>a.fileUploadTypeChoose(0))},{default:(0,c.w5)((()=>[(0,c._)("div",Rt,[(0,c._)("div",null,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})]),(0,c._)("div",null,(0,m.zw)(e.$t("文件")),1)])])),_:1}),(0,c.Wm)(f,{onClick:l[10]||(l[10]=e=>a.fileUploadTypeChoose(1))},{default:(0,c.w5)((()=>[(0,c._)("div",Nt,[(0,c._)("div",null,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(w)])),_:1})]),(0,c._)("div",null,(0,m.zw)(e.$t("文件夹")),1)])])),_:1}),(0,c.Wm)(f,{onClick:l[11]||(l[11]=e=>a.fileUploadTypeChoose(2))},{default:(0,c.w5)((()=>[(0,c._)("div",Bt,[(0,c._)("div",null,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(y)])),_:1})]),Ot])])),_:1})])),_:1},512),[[d.F8,a.DialogVisible]])])),default:(0,c.w5)((()=>[(0,c._)("div",$t,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(v)])),_:1})])])),_:1},512),[[d.F8,a.DialogVisible]])])):((0,c.wg)(),(0,c.iD)("div",Kt,[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(v)])),_:1})]))])]),(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",{id:"fileArea",ref:"fileAreaRef","element-loading-text":"Loading...",class:"list-class no-select",onContextmenu:l[27]||(l[27]=(...e)=>a.handleContextMenu&&a.handleContextMenu(...e)),onScroll:l[28]||(l[28]=(...e)=>a.handleScroll&&a.handleScroll(...e)),onDragover:l[29]||(l[29]=(...e)=>a.preventDefault&&a.preventDefault(...e)),onDrop:l[30]||(l[30]=(...e)=>a.handleFileDrag&&a.handleFileDrag(...e)),tabindex:"0",onKeydown:l[31]||(l[31]=(...e)=>a.handleShortcutKeys&&a.handleShortcutKeys(...e))},[0!=a.files.length?((0,c.wg)(),(0,c.iD)("div",Mt,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.files,(e=>((0,c.wg)(),(0,c.iD)("div",{key:e.id},[1==e.isDirectory?((0,c.wg)(),(0,c.iD)("div",{key:0,class:(0,m.C_)([-1!=a.isSelected(e.id)?"item-selected":"","item-class"]),onClick:l=>a.addSelectFile(l,e),onDblclick:l=>a.changeDir(a.dir+e.name+"/"),onContextmenu:l=>a.addSelectFile(l,e,!1)},[(0,c.Wm)(b,{style:{display:"flex",alignItems:"center"},iconStyle:{opacity:"."==e.name[0]||-1!=a.isClipboard(e.id)&&a.isCtrlx?.5:1},name:e.name,width:20,height:20,isFolder:e.isDirectory,isLink:e.isSymlink},null,8,["iconStyle","name","isFolder","isLink"]),1==a.isShowRenameInput&&a.renameFile&&e.id==a.renameFile.id?((0,c.wg)(),(0,c.iD)("div",Pt,[(0,c.Wm)(i,{id:"rename",modelValue:a.renameFile.name,"onUpdate:modelValue":l[12]||(l[12]=e=>a.renameFile.name=e),placeholder:"",size:"small",onKeydown:[l[13]||(l[13]=(0,d.D2)((e=>{a.isShowRenameInput=!1}),["enter"])),l[15]||(l[15]=(0,d.iM)((()=>{}),["stop"]))],onBlur:l[14]||(l[14]=e=>{a.isShowRenameInput=!1}),onContextmenu:l[16]||(l[16]=(0,d.iM)((()=>{}),["stop"])),onMousedown:l[17]||(l[17]=(0,d.iM)((()=>{}),["stop"])),onDblclick:l[18]||(l[18]=(0,d.iM)((()=>{}),["stop"])),onChange:l=>a.handleRename(e)},null,8,["modelValue","onChange"])])):(0,c.kq)("",!0),(0,c.Wm)(_,{isShow:!a.isShowMenu,content:e.name,delay:1e3},{content:(0,c.w5)((()=>[1==a.isShowRenameInput&&a.renameFile&&e.id==a.renameFile.id?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",Lt,(0,m.zw)(e.name),1))])),_:2},1032,["isShow","content"])],42,jt)):((0,c.wg)(),(0,c.iD)("div",{key:1,class:(0,m.C_)([-1!=a.isSelected(e.id)?"item-selected":"","item-class"]),onClick:l=>a.addSelectFile(l,e),onDblclick:l=>a.preViewFile(e.name),onContextmenu:l=>a.addSelectFile(l,e,!1)},[(0,c.Wm)(b,{style:{display:"flex",alignItems:"center"},iconStyle:{opacity:"."==e.name[0]||-1!=a.isClipboard(e.id)&&a.isCtrlx?.5:1},name:e.name,width:20,height:20,isFolder:e.isDirectory,isLink:e.isSymlink},null,8,["iconStyle","name","isFolder","isLink"]),1==a.isShowRenameInput&&a.renameFile&&e.id==a.renameFile.id?((0,c.wg)(),(0,c.iD)("div",Qt,[(0,c.Wm)(i,{id:"rename",modelValue:a.renameFile.name,"onUpdate:modelValue":l[19]||(l[19]=e=>a.renameFile.name=e),placeholder:"",size:"small",onKeydown:[l[20]||(l[20]=(0,d.D2)((e=>{a.isShowRenameInput=!1}),["enter"])),l[22]||(l[22]=(0,d.iM)((()=>{}),["stop"]))],onBlur:l[21]||(l[21]=e=>{a.isShowRenameInput=!1}),onContextmenu:l[23]||(l[23]=(0,d.iM)((()=>{}),["stop"])),onMousedown:l[24]||(l[24]=(0,d.iM)((()=>{}),["stop"])),onDblclick:l[25]||(l[25]=(0,d.iM)((()=>{}),["stop"])),onChange:l=>a.handleRename(e)},null,8,["modelValue","onChange"])])):(0,c.kq)("",!0),(0,c.Wm)(_,{isShow:!a.isShowMenu,content:e.name,delay:1e3},{content:(0,c.w5)((()=>[1==a.isShowRenameInput&&a.renameFile&&e.id==a.renameFile.id?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",Gt,(0,m.zw)(e.name),1))])),_:2},1032,["isShow","content"])],42,qt))])))),128))])):((0,c.wg)(),(0,c.iD)("div",Jt,[0==a.loading?((0,c.wg)(),(0,c.j4)(x,{key:0,height:"248px",onContextmenu:l[26]||(l[26]=e=>a.selectedFiles=[]),msg:e.$t(a.noDataMsg)},null,8,["msg"])):(0,c.kq)("",!0)]))],32)),[[U,a.loading]])]),Zt])),_:1},8,["modelValue","before-close","title"]),(0,c.wy)((0,c.Wm)(D,{"show-file-list":!1,"with-credentials":!0,"http-request":a.doUpload,multiple:!0},{default:(0,c.w5)((()=>[(0,c.wy)((0,c.Wm)(S,{size:"small",type:"primary",id:"fileUploadInputButton"},null,512),[[d.F8,!1]])])),_:1},8,["http-request"]),[[d.F8,!1]]),(0,c.wy)((0,c._)("input",{type:"file",webkitdirectory:"",onChange:l[33]||(l[33]=(...e)=>a.folderInputUploadPrehandle&&a.folderInputUploadPrehandle(...e)),id:"folderUploadInput"},null,544),[[d.F8,!1]]),(0,c.Wm)(I,{ref:"fileUrlRef",onCallback:a.fileUrlUpload},null,8,["onCallback"]),(0,c.Wm)(T,{ref:"txtPreviewRef",onDoSave:a.doSave},null,8,["onDoSave"]),(0,c.Wm)(z,{ref:"mkFileRef",onCallback:a.handleMkFile},null,8,["onCallback"]),(0,c.Wm)(W,{sshKey:t.sshKey,ref:"fileAttrRef",onCallback:a.doRename,onEditPermissions:a.editPermissions},null,8,["sshKey","onCallback","onEditPermissions"]),(0,c.wy)((0,c._)("div",{ref:"menuBlockRef",onContextmenu:l[43]||(l[43]=(...e)=>a.preventDefault&&a.preventDefault(...e)),class:"kk-menu no-select"},[(0,c._)("div",{style:{"border-bottom":"1px solid #ddd"},class:"kk-menu-item",onClick:l[34]||(l[34]=e=>a.handleMenuSelect(1)),key:"1"},(0,m.zw)(e.$t("刷新")),1),(0,c._)("div",{class:(0,m.C_)(["kk-menu-item",1!=a.selectedFiles.length?"disabled":""]),onClick:l[35]||(l[35]=e=>a.handleMenuSelect(2)),key:"2"},(0,m.zw)(e.$t("打开")),3),(0,c._)("div",{style:{"border-bottom":"1px solid #ddd"},class:(0,m.C_)(["kk-menu-item",a.selectedFiles.length>1?"disabled":""]),onClick:l[36]||(l[36]=e=>a.handleMenuSelect(3)),key:"3"},(0,m.zw)(e.$t("复制路径")),3),(0,c.wy)((0,c._)("div",{style:{"border-bottom":"1px solid #ddd"},class:(0,m.C_)(["kk-menu-item",1==a.selectedFiles.length&&a.isZipFile(a.selectedFiles[0].name)?"":"disabled"]),onClick:l[37]||(l[37]=e=>a.handleMenuSelect(9)),key:"9"},(0,m.zw)(e.$t("解压")),3),[[d.F8,1==a.selectedFiles.length&&a.isZipFile(a.selectedFiles[0].name)]]),(0,c._)("div",{class:(0,m.C_)(["kk-menu-item",1!=a.selectedFiles.length?"disabled":""]),onClick:l[38]||(l[38]=e=>a.handleMenuSelect(4)),key:"4"},(0,m.zw)(e.$t("下载")),3),(0,c._)("div",{class:(0,m.C_)(["kk-menu-item",1==a.dirStatus?"disabled":""]),onClick:l[39]||(l[39]=e=>a.handleMenuSelect(5)),key:"5"},(0,m.zw)(e.$t("新建")),3),(0,c._)("div",{class:(0,m.C_)(["kk-menu-item",1!=a.selectedFiles.length?"disabled":""]),onClick:l[40]||(l[40]=e=>a.handleMenuSelect(6)),key:"6"},(0,m.zw)(e.$t("重命名")),3),(0,c.Wm)(V,{title:e.$t("确定删除此文件吗?"),"confirm-button-text":e.$t("确定"),"cancel-button-text":e.$t("取消"),onConfirm:a.confirmPopConfirm,onCancel:a.cancelPopConfirm,visible:a.isShowMenu&&a.isShowPop,trigger:"click","popper-style":{zIndex:3466,fontSize:"13px",color:"black"},"popper-class":"confirmPop",placement:"right","confirm-button-type":"danger"},{reference:(0,c.w5)((()=>[(0,c._)("div",{class:(0,m.C_)(["kk-menu-item",0==a.selectedFiles.length?"disabled":""]),key:"7"},[(0,c._)("div",{onClick:l[41]||(l[41]=e=>a.handleMenuSelect(7))},(0,m.zw)(e.$t("删除")),1)],2)])),_:1},8,["title","confirm-button-text","cancel-button-text","onConfirm","onCancel","visible"]),(0,c._)("div",{style:{"border-top":"1px solid #ddd"},class:(0,m.C_)(["kk-menu-item",1!=a.selectedFiles.length?"disabled":""]),onClick:l[42]||(l[42]=e=>a.handleMenuSelect(8)),key:"8"},(0,m.zw)(e.$t("属性")),3)],544),[[d.F8,a.isShowMenu]])],64)}const Xt={tar:"tar",tbz2:"tbz2",gz:"gz",xz:"xz",bz2:"bz2",zip:"zip"},ea=e=>{const l=e.lastIndexOf(".");if(-1==l)return!1;const t=e.substring(l+1).toLowerCase();return!!Xt[t]},la={pdf:"application/pdf",html:"text/html",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",webp:"image/webp",svg:"image/svg+xml",ico:"image/vnd.microsoft.icon"},ta={mp3:"audio/mpeg",wav:"audio/wav",ogg:"audio/ogg",aac:"audio/aac",m4a:"audio/mp4"},aa={mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg",avi:"video/x-msvideo",mov:"video/quicktime"},oa=e=>{const l={preview:"editor",type:"text"},t=e.lastIndexOf(".");if(-1==t)return l;const a=e.substring(t+1).toLowerCase();return la[a]?(l.preview="iframe",l.type=la[a]):ta[a]?(l.preview="audio",l.type=ta[a]):aa[a]&&(l.preview="video",l.type=aa[a]),l},sa=(e,l)=>ua(e)+ca(l),ia=e=>{const l=sa("REGULAR",e).slice(1),t={owner:["r"===l[0],"w"===l[1],"x"===l[2]||"s"===l[2]||"S"===l[2]],group:["r"===l[3],"w"===l[4],"x"===l[5]||"s"===l[5]||"S"===l[5]],others:["r"===l[6],"w"===l[7],"x"===l[8]||"t"===l[8]||"T"===l[8]],sub:!1};return t},na=e=>{const l=e=>(e[0]?4:0)+(e[1]?2:0)+(e[2]?1:0),t=l(e.owner)+"",a=l(e.group)+"",o=l(e.others)+"";return t+a+o},ra={BLOCK_SPECIAL:"b",CHAR_SPECIAL:"c",FIFO_SPECIAL:"p",SOCKET_SPECIAL:"s",REGULAR:"-",DIRECTORY:"d",SYMLINK:"l",UNKNOWN:"?"},ua=e=>ra[e],da={USR_R:256,USR_W:128,USR_X:64,GRP_R:32,GRP_W:16,GRP_X:8,OTH_R:4,OTH_W:2,OTH_X:1,SUID:2048,SGID:1024,STICKY:512},ca=e=>{let l="---------",t=0;for(let a=0;a<e.length;a++)da[e[a]]&&(t+=da[e[a]]);return l=pa(l,0,t&da["USR_R"],"r"),l=pa(l,1,t&da["USR_W"],"w"),l=pa(l,2,t&da["USR_X"],"x",t&da["SUID"],"s","S"),l=pa(l,3,t&da["GRP_R"],"r"),l=pa(l,4,t&da["GRP_W"],"w"),l=pa(l,5,t&da["GRP_X"],"x",t&da["SGID"],"s","S"),l=pa(l,6,t&da["OTH_R"],"r"),l=pa(l,7,t&da["OTH_W"],"w"),l=pa(l,8,t&da["OTH_X"],"x",t&da["STICKY"],"t","T"),l},pa=(e,l,t,a,o=0,s="",i="-")=>(e=o?e.substring(0,l)+(t?s:i)+e.substring(l+1):e.substring(0,l)+(t?a:e[l])+e.substring(l+1),e),ma=e=>((0,c.dD)("data-v-6f5a1312"),e=e(),(0,c.Cn)(),e),va={class:"kk-flex no-select kk-header-class"},ga={class:"ellipsis",style:{margin:"0 5px","font-size":"larger"}},fa=ma((()=>(0,c._)("div",{style:{"margin-top":"-28px"}},null,-1))),wa={class:"kk-flex ellipsis",style:{"margin-bottom":"5px","overflow-x":"auto"}},ya={class:"kk-flex"},ka={class:"no-select"},ha={class:"a-link no-select"},ba=ma((()=>(0,c._)("div",{style:{"margin-right":"20px"}},null,-1))),_a={class:"kk-flex"},xa={class:"no-select"},Ca={class:"a-link no-select"},Sa=ma((()=>(0,c._)("div",{style:{"margin-right":"20px"}},null,-1))),Da={class:"kk-flex"},Ia={class:"no-select"},Ta=ma((()=>(0,c._)("div",{style:{"margin-right":"20px"}},null,-1))),za={class:"kk-flex"},Wa={class:"no-select"},Va=ma((()=>(0,c._)("span",null,"px",-1))),Ua=ma((()=>(0,c._)("div",{style:{"margin-right":"20px"}},null,-1))),Ea={class:"kk-flex"},Fa={"element-loading-text":"Loading...",style:{padding:"0px 5px",width:"100%",height:"60vh",position:"relative","margin-bottom":"10px"}},Aa=["src"],Ha={key:1,controls:"",class:"preview"},$a=["src","type"],Ra={key:2,controls:"",class:"preview"},Na=["src","type"],Ba={key:3,style:{position:"absolute",top:"0",right:"30px"}},Oa=ma((()=>(0,c._)("span",null,"%",-1))),Ka=ma((()=>(0,c._)("div",{style:{"margin-top":"-13px"}},null,-1)));function Ma(e,l,t,a,o,s){const i=(0,c.up)("FileIcons"),n=(0,c.up)("arrow-down"),r=(0,c.up)("el-icon"),u=(0,c.up)("el-dropdown-item"),p=(0,c.up)("el-dropdown-menu"),v=(0,c.up)("el-dropdown"),g=(0,c.up)("el-input-number"),f=(0,c.up)("DocumentCopy"),w=(0,c.up)("el-button"),y=(0,c.up)("AceEditor"),k=(0,c.up)("el-dialog"),h=(0,c.Q2)("loading");return(0,c.wg)(),(0,c.j4)(k,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[3]||(l[3]=e=>a.DialogVisible=e),width:"80%",modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","before-close":a.closeDialog,"align-center":"",draggable:""},{title:(0,c.w5)((()=>[(0,c._)("div",va,[(0,c.Wm)(i,{style:{display:"flex",alignItems:"center"},name:a.fileName,width:25,height:25,isFolder:!1},null,8,["name"]),(0,c._)("div",ga,(0,m.zw)(a.modifyTag+a.fileName),1)])])),default:(0,c.w5)((()=>[fa,(0,c.wy)((0,c._)("div",wa,[(0,c._)("div",ya,[(0,c._)("div",ka,(0,m.zw)(e.$t("保存编码"))+"：",1),(0,c.Wm)(v,{size:"small","hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(p,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.encodeSet,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>{a.encode=e,a.modifyTag="*"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",ha,[(0,c.Uk)((0,m.zw)(a.encode),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})]),ba,(0,c._)("div",_a,[(0,c._)("div",xa,(0,m.zw)(e.$t("模式"))+"：",1),(0,c.Wm)(v,{size:"small","hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(p,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.modeSet,((e,l)=>((0,c.wg)(),(0,c.j4)(u,{key:l,class:"no-select",onClick:l=>a.setMode(e)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",Ca,[(0,c.Uk)((0,m.zw)(a.mode),1),(0,c.Wm)(r,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})])])),_:1})]),Sa,(0,c._)("div",Da,[(0,c._)("div",Ia,(0,m.zw)(e.$t("缩进"))+"：",1),(0,c._)("div",null,[(0,c.Wm)(g,{style:{width:"80px"},size:"small",modelValue:a.indent,"onUpdate:modelValue":l[0]||(l[0]=e=>a.indent=e),min:2,max:4,step:"2","step-strictly":!0,onChange:a.setIndent},null,8,["modelValue","onChange"])])]),Ta,(0,c._)("div",za,[(0,c._)("div",Wa,(0,m.zw)(e.$t("字号"))+"：",1),(0,c._)("div",null,[(0,c.Wm)(g,{style:{width:"100px"},size:"small",modelValue:a.fontSize,"onUpdate:modelValue":l[1]||(l[1]=e=>a.fontSize=e),min:12,max:20,step:"2","step-strictly":!0,onChange:a.setFontSize},{suffix:(0,c.w5)((()=>[Va])),_:1},8,["modelValue","onChange"])])]),Ua,(0,c._)("div",Ea,[(0,c.Wm)(w,{size:"small",type:"primary",onClick:a.doCopy},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1}),(0,c.Uk)((0,m.zw)(e.$t("复制")),1)])),_:1},8,["onClick"])])],512),[[d.F8,"editor"==a.previewInfo.preview]]),(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",Fa,[(0,c.wy)((0,c.Wm)(y,{class:"preview",ref:"codeEditorRef",onHandleChange:a.handleChange,onHandleSave:a.handleSave},null,8,["onHandleChange","onHandleSave"]),[[d.F8,!a.loading&&"editor"==a.previewInfo.preview]]),a.loading||"iframe"!=a.previewInfo.preview||""==a.previewUrl?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("iframe",{key:0,id:"imgPreview",class:"preview",src:a.previewUrl},null,8,Aa)),a.loading||"audio"!=a.previewInfo.preview||""==a.previewUrl?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("audio",Ha,[(0,c._)("source",{src:a.previewUrl,type:a.previewInfo.type},null,8,$a)])),a.loading||"video"!=a.previewInfo.preview||""==a.previewUrl?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("video",Ra,[(0,c._)("source",{src:a.previewUrl,type:a.previewInfo.type},null,8,Na)])),a.loading||"iframe"!=a.previewInfo.preview||""==a.previewUrl?(0,c.kq)("",!0):((0,c.wg)(),(0,c.iD)("div",Ba,[(0,c.Wm)(g,{style:{width:"105px"},size:"small",modelValue:a.percentage,"onUpdate:modelValue":l[2]||(l[2]=e=>a.percentage=e),min:20,max:200,step:"10","step-strictly":!0,onChange:a.setPercentage},{suffix:(0,c.w5)((()=>[Oa])),_:1},8,["modelValue","onChange"])]))])),[[h,a.loading]]),Ka])),_:1},8,["modelValue","before-close"])}t(1439),t(7585),t(5315);const ja={ref:"aceEditorRef",class:"kk-code-editor"};function Pa(e,l,t,a,o,s){return(0,c.wg)(),(0,c.iD)("div",ja,null,512)}var La=t(17),qa=t.n(La);t(7050),t(4783),t(2428),t(516),t(6684),t(350),t(8930),t(9986),t(2177),t(3669),t(629),t(5045),t(1564),t(6668),t(1838),t(9375),t(2606),t(1948),t(4070),t(1853),t(6347),t(4840),t(498),t(9394),t(4733),t(7366),t(5293),t(6529),t(6895),t(7389),t(8918),t(1910),t(5955),t(2376),t(9110),t(1710),t(1067),t(2841),t(1122),t(366),t(5824),t(7682),t(7535);const Qa={c:"c_cpp",cc:"c_cpp",cxx:"c_cpp",h:"c_cpp",hh:"c_cpp",cpp:"c_cpp",hpp:"c_cpp",ino:"c_cpp",cs:"csharp",css:"css",gitignore:"gitignore",go:"golang",html:"html",htm:"html",ini:"ini",conf:"ini",cfg:"ini",java:"java",js:"javascript",jsm:"javascript",cjs:"javascript",mjs:"javascript",jsx:"javascript",vue:"javascript",we:"javascript",wpy:"javascript",json:"json",jsp:"jsp",md:"markdown",markdown:"markdown",properties:"properties",py:"python",sh:"sh",bash:"sh",sql:"sql",cts:"typescript",mts:"typescript",ts:"typescript",tsx:"typescript",xml:"xml",rdf:"xml",rss:"xml",wsdl:"xml",xsl:"xml",xslt:"xml",atom:"xml",mathml:"xml",mml:"xml",xul:"xml",xbl:"xml",xaml:"xml",xsd:"xml",xhtml:"xml",yaml:"yaml",yml:"yaml",ipynb:"json",bash_history:"sh",bash_logout:"sh",bash_profile:"sh",tcshrc:"sh",bashrc:"sh",cshrc:"sh",vcxproj:"xml"},Ga=e=>{let l="txt";if(e&&e.length>0){let t=e.lastIndexOf(".");-1!=t&&(l=e.substring(t+1).toLowerCase())}return l},Ja=e=>Qa[Ga(e)]||"text";var Za=Ja,Ya=t(18);const Xa="tcode-local-vars",eo="tcode-session-vars-",lo={"/A":{desc:Ke.global.k("自定义TCode"),execFlow(e){setTimeout((()=>{e.proxy.userTcodeRef.initText()}),1),e.proxy.userTcodeRef.DialogVisible=!0}},"/O":{desc:Ke.global.k("新建窗口"),execFlow(){let e=window.location.href;window.open(e,"_blank")}},"/C":{desc:Ke.global.k("关闭窗口"),execFlow(){window.close()}},"/E":{desc:Ke.global.k("退出登录"),execFlow(e){e.proxy.socket&&e.proxy.socket.close(3131)}},"/R":{desc:Ke.global.k("刷新页面"),execFlow(){window.location.reload()}},"/H":{desc:Ke.global.k("帮助"),execFlow(e){e.proxy.helpTcodeRef.DialogVisible=!0}}},to={SC:{desc:Ke.global.k("连接设置"),execFlow(e){e.proxy.connectSettingRef.DialogVisible=!0}},SP:{desc:Ke.global.k("偏好设置"),execFlow(e){e.proxy.styleSettingRef.DialogVisible=!0}},SF:{desc:Ke.global.k("文件管理"),execFlow(e){e.proxy.fileBlockRef.DialogVisible=!0,e.proxy.fileBlockRef.getInitDir()}},SAC:{desc:Ke.global.k("高级-协作"),execFlow(e){e.proxy.sshKey&&e.proxy.env.advance&&(e.proxy.cooperateGenRef.DialogVisible=!0)}},SAM:{desc:Ke.global.k("高级-监控"),execFlow(e){e.proxy.sshKey&&e.proxy.env.advance&&"root"===e.proxy.env.server_user&&(e.proxy.statusMonitorRef.DialogVisible=!0)}},SAD:{desc:Ke.global.k("高级-Docker"),execFlow(e){e.proxy.sshKey&&e.proxy.env.advance&&(e.proxy.dockerBlockRef.DialogVisible=!0)}},SS:{desc:Ke.global.k("重启"),execFlow(e){e.proxy.now_connect_status=e.proxy.connect_status["Connecting"],e.proxy.sshKey="",e.proxy.socket&&e.proxy.socket.close(3333),e.proxy.closeFileBlock(),e.proxy.resetTerminal(),e.proxy.doSSHConnect()}}},ao={active:!1,display:!0,outArray:[],cnt:0,variables:{session(e,l){if(void 0==l)return sessionStorage.getItem(eo+e)?JSON.parse(sessionStorage.getItem(eo+e)):null;sessionStorage.setItem(eo+e,JSON.stringify(l))},local(e,l){let t={};if(localStorage.getItem(Xa)&&(t=JSON.parse(u(localStorage.getItem(Xa)))),void 0==l)return t[e];t[e]=l,localStorage.setItem(Xa,r(JSON.stringify(t)))},clean(){if(0==arguments.length)return void localStorage.removeItem(Xa);let e={};localStorage.getItem(Xa)&&(e=JSON.parse(u(localStorage.getItem(Xa))));for(let l=0;l<arguments.length;l++)delete e[arguments[l]];localStorage.setItem(Xa,r(JSON.stringify(e)))}},writeOnly:null,async writeAndWait(e,l=200){e&&e.length>0&&"\n"!=e[e.length-1]&&"\r"!=e[e.length-1]&&(e+="\n"),this.cnt=this.outArray.length,this.writeOnly(e,!0),await new Promise((e=>setTimeout(e,l>0?l:0)))},write(e,l=200){return this.writeAndWait(e,l)},read(){return oo(this.outArray.slice(this.cnt))},readAll(){return oo(this.outArray.slice(0))},hide(){this.display=!1},show(){this.display=!0}},oo=e=>{let l=[],t=so(e);for(let a=0;a<t.length;a++){let e=io(t[a]);e&&""!=e&&l.push(e)}return l},so=e=>{let l=[];for(let t=0;t<e.length;t++){let a=e[t].split("\r\n");for(let e=0;e<a.length;e++)a[e]&&""!=a[e]&&l.push(a[e])}return l},io=e=>(0,Ya.Z)(e).replace(/[\x00-\x1F\x7F]/g,""),no={"Compile Error":"Error","Execute Interrupt":"Interrupted","Not Active":"Inactive","Execute Success":"Success"},ro={getCompletions:function(e,l,t,a,o){const s=[{name:"kkTerminal",value:"kkTerminal",meta:"kkTerminal",description:"kkTerminal API",score:1e3},{name:"variables",value:"variables",meta:"kkTerminal",description:"access variables",score:1e3},{name:"session",value:"session()",meta:"kkTerminal",description:"get or set session variables",score:1e3},{name:"local",value:"local()",meta:"kkTerminal",description:"get or set local variables",score:1e3},{name:"clean",value:"clean()",meta:"kkTerminal",description:"remove local variables",score:1e3},{name:"write",value:"write()",meta:"kkTerminal",description:"write to terminal",score:1e3},{name:"read",value:"read()",meta:"kkTerminal",description:"read lastest from terminal",score:1e3},{name:"readAll",value:"readAll()",meta:"kkTerminal",description:"read all from terminal",score:1e3},{name:"hide",value:"hide()",meta:"kkTerminal",description:"hide TCode display",score:1e3},{name:"show",value:"show()",meta:"kkTerminal",description:"show TCode display",score:1e3}];o(null,s.map((e=>({caption:e.caption||e.name,value:e.value,meta:e.meta,description:e.description||""}))))}};var uo={name:"AceEditor",setup(e,l){const t=(0,L.iH)(),a=(0,L.iH)(null),o=e=>{a.value&&a.value.setValue(e),a.value&&a.value.selection.clearSelection()},s=()=>a.value?a.value.getValue():"",i=()=>{a.value&&a.value.getSession().getUndoManager().reset()},n=e=>{a.value&&a.value.getSession().setMode(`ace/mode/${Za(e)}`)},r=e=>{if(a.value){a.value.setReadOnly(e);const l=e?"#f0f0f0":"";t.value.style.backgroundColor=l}},u=e=>{a.value&&a.value.setOptions({tabSize:e,useSoftTabs:!1})},d=e=>{a.value&&a.value.setOptions({fontSize:e})},p=e=>{if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"s":e.preventDefault(),l.emit("handleSave",a.value.getValue());break}},m=()=>{o(""),i()};return(0,c.bv)((()=>{a.value=qa().edit(t.value,{autoScrollEditorIntoView:!1,copyWithEmptySelection:!1,showPrintMargin:!1,highlightActiveLine:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,theme:"ace/theme/chrome",mode:"ace/mode/text"}),a.value.completers.push(ro),a.value.session.setOption("useWorker",!1),a.value.on("change",(()=>{l.emit("handleChange")})),a.value.find("needle",{backwards:!1,wrap:!1,caseSensitive:!1,wholeWord:!1,regExp:!1}),a.value.findNext(),a.value.findPrevious(),t.value.addEventListener("keydown",p)})),(0,c.Ah)((()=>{t.value&&t.value.removeEventListener("keydown",p)})),{aceEditorRef:t,aceEditor:a,setValue:o,resetHistory:i,reset:m,setLanguage:n,getValue:s,setReadOnly:r,setTabSize:u,setFontSize:d}}};const co=(0,Xe.Z)(uo,[["render",Pa],["__scopeId","data-v-3738d880"]]);var po=co,mo=t(8655),vo=t(4693),go=t.n(vo);const fo=e=>mo.detect(e).encoding,wo=(e,l)=>go().encode(e,l),yo=(e,l)=>go().decode(e,l);var ko={name:"TxtPreview",components:{AceEditor:po,FileIcons:al(),ArrowDown:$e.K5e,DocumentCopy:$e.IBc},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(!1),s=(0,L.iH)(""),i=(0,L.iH)(""),n=(0,L.iH)(""),r=(0,L.iH)({preview:"editor",type:"text"}),u=(0,L.iH)(""),d=(0,L.iH)(),c=(0,L.iH)(null),p=async()=>{a.value=!0,V();let e=n.value;r.value=oa(i.value),w(e),c.value=o().ajax({url:e,method:"GET",xhrFields:{responseType:"arraybuffer"},dataFilter(e){return e},success(l){if(e==n.value){if("editor"!=r.value.preview){const e=new Blob([l],{type:r.value.type});""!=u.value&&URL.revokeObjectURL(u.value),u.value=URL.createObjectURL(e),S.value=100,D.value=-1}else{g.value=fo(String.fromCharCode(...new Uint8Array(l.slice(0,102400)))),w(e);const t=yo(new Uint8Array(l),g.value);d.value.setValue(t),d.value.resetHistory(),y.value="auto",d.value.setLanguage(i.value),_(),C()}s.value="",a.value=!1}},error(){e==n.value&&((0,q.z8)({message:Ke.global.t("文件加载失败"),type:"error",grouping:!0}),V(),U())}}),await c.value},m=()=>{s.value="*"},v=e=>{"*"==s.value&&(l.emit("doSave",i.value,n.value,wo(e,g.value||"UTF-8")),s.value="")},g=(0,L.iH)(""),f=(0,L.iH)(["UTF-8","GBK","ISO-8859-1","Windows-1252"]),w=e=>{let l="UTF-8";const t=Sl(e);t.sshKey&&(l=te(t.sshKey.split("-")[1])),g.value&&"gb2312"===g.value.toLowerCase()&&(g.value="GBK"),f.value=["UTF-8","GBK","ISO-8859-1","Windows-1252"],f.value.map((e=>e.toLowerCase())).includes(l.toLowerCase())||f.value.unshift(l),g.value&&"ascii"!==g.value.toLowerCase()?f.value.map((e=>e.toLowerCase())).includes(g.value.toLowerCase())?g.value=f.value.find((e=>e.toLowerCase()===g.value.toLowerCase())):f.value.unshift(g.value):g.value=l},y=(0,L.iH)(""),k=(0,L.iH)(["auto","xml","bash","json"]),h=e=>{y.value!=e&&(y.value=e,d.value.setLanguage("auto"==e?i.value:"kk."+e))},b=(0,L.iH)(4),_=()=>{d.value.setTabSize(b.value)},x=(0,L.iH)(14),C=()=>{d.value.setFontSize(x.value)},S=(0,L.iH)(100),D=(0,L.iH)(-1),I=()=>{const e=document.getElementById("imgPreview"),l=e.contentDocument||e.contentWindow.document;return l.querySelector("img")},T=()=>{const e=I();-1==D.value&&(D.value=e.height),e.height=D.value*S.value/100},{toClipboard:z}=(0,P.Z)(),W=async()=>{const e=d.value.getValue();e&&e.length>0?(await z(e),(0,q.z8)({message:Ke.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,q.z8)({message:Ke.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},V=(e=!1)=>{e&&(i.value="",n.value="",a.value=!1),d.value&&d.value.reset(),s.value="",r.value={preview:"editor",type:"text"},""!=u.value&&(URL.revokeObjectURL(u.value),u.value=""),c.value&&(c.value.abort(),c.value=null),g.value="",f.value=["UTF-8","GBK","ISO-8859-1","Windows-1252"],y.value="",S.value=100,D.value=-1,t.value=!1},U=e=>{setTimeout((()=>{V(!0)}),400),t.value=!1,e&&e()};return{DialogVisible:t,initText:p,loading:a,fileName:i,fileUrl:n,previewInfo:r,previewUrl:u,codeEditorRef:d,modifyTag:s,handleChange:m,handleSave:v,encode:g,encodeSet:f,initEncode:w,mode:y,modeSet:k,setMode:h,indent:b,setIndent:_,fontSize:x,setFontSize:C,percentage:S,imgHeight:D,setPercentage:T,doCopy:W,closeDialog:U,reset:V}}};const ho=(0,Xe.Z)(ko,[["render",Ma],["__scopeId","data-v-6f5a1312"]]);var bo=ho;const _o=e=>((0,c.dD)("data-v-d01c6d5a"),e=e(),(0,c.Cn)(),e),xo={class:"no-select"},Co={class:"errInfo no-select"},So={class:"kk-flex"},Do=_o((()=>(0,c._)("div",{style:{width:"10px"}},null,-1))),Io={style:{flex:"1"}},To={style:{"margin-left":"10px"}};function zo(e,l,t,a,o,s){const i=(0,c.up)("el-radio"),n=(0,c.up)("el-radio-group"),r=(0,c.up)("FileIcons"),u=(0,c.up)("el-input"),p=(0,c.up)("el-button"),v=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(v,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:300,modal:!1,title:e.$t("新建"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",xo,[(0,c.Wm)(n,{modelValue:a.isDirectory,"onUpdate:modelValue":l[0]||(l[0]=e=>a.isDirectory=e),class:"ml-4"},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{label:!1,size:"large"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("文件")),1)])),_:1}),(0,c.Wm)(i,{label:!0,size:"large"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("文件夹")),1)])),_:1})])),_:1},8,["modelValue"]),(0,c._)("div",Co,(0,m.zw)(e.$t(a.err_msg)),1),(0,c._)("div",So,[(0,c._)("div",null,[1==a.isDirectory?((0,c.wg)(),(0,c.j4)(r,{key:0,style:{display:"flex",alignItems:"center"},width:24,height:24,name:"kk.txt",isFolder:!0})):((0,c.wg)(),(0,c.j4)(r,{key:1,style:{display:"flex",alignItems:"center"},width:24,height:24,name:a.name,isFolder:!1},null,8,["name"]))]),Do,(0,c._)("div",Io,[(0,c.Wm)(u,{size:"small",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=e=>a.name=e),onKeydown:(0,d.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:""},null,8,["modelValue","onKeydown"])]),(0,c._)("div",To,[(0,c.Wm)(p,{size:"small",type:"primary",onClick:a.confirm},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var Wo={name:"MkFile",components:{FileIcons:al()},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)(!1),s=(0,L.iH)(""),i=(0,L.iH)(""),n=()=>{if(a.value="",!(s.value&&s.value.trim().length>0))return void(a.value=Ke.global.k("文件名不能为空"));const e=/[/|]/;e.test(s.value)?a.value=Ke.global.k("文件名不能含有")+" |,/":(l.emit("callback",o.value,s.value,i.value),u())},r=()=>{a.value="",o.value=!1,s.value="",i.value="",t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,isDirectory:o,name:s,nowDir:i,confirm:n,closeDialog:u,reset:r}}};const Vo=(0,Xe.Z)(Wo,[["render",zo],["__scopeId","data-v-d01c6d5a"]]);var Uo=Vo;const Eo=e=>((0,c.dD)("data-v-dcf79dce"),e=e(),(0,c.Cn)(),e),Fo={class:"kk-flex-0 nowrap kk-header-class"},Ao={class:"ellipsis",style:{margin:"0 5px","font-size":"small"}},Ho={style:{"font-size":"small"}},$o=Eo((()=>(0,c._)("div",{style:{"margin-top":"-32px"}},null,-1))),Ro={class:"no-select","element-loading-text":"Loading..."},No={class:"kk-flex"},Bo={style:{"margin-right":"10px"}},Oo=Eo((()=>(0,c._)("div",{class:"kk-border"},null,-1))),Ko={class:"kk-flex nowrap"},Mo={class:"form-width"},jo={class:"ellipsis"},Po={key:0,class:"kk-flex"},Lo={class:"form-width"},qo={class:"ellipsis"},Qo={key:0,style:{"margin-left":"10px"}},Go={key:1,class:"kk-flex"},Jo={class:"form-width"},Zo={class:"ellipsis"},Yo={key:0,style:{"margin-left":"10px"}},Xo=Eo((()=>(0,c._)("div",{class:"kk-border"},null,-1))),es={class:"kk-flex"},ls={class:"form-width"},ts={class:"kk-flex"},as={class:"form-width"},os=Eo((()=>(0,c._)("div",{class:"kk-border"},null,-1))),ss={class:"kk-flex"},is={class:"form-width"},ns=Eo((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function rs(e,l,t,a,o,s){const i=(0,c.up)("FileIcons"),n=(0,c.up)("el-input"),r=(0,c.up)("ToolTip"),u=(0,c.up)("DocumentCopy"),p=(0,c.up)("el-icon"),v=(0,c.up)("el-tag"),g=(0,c.up)("Refresh"),f=(0,c.up)("Edit"),w=(0,c.up)("el-button"),y=(0,c.up)("el-dialog"),k=(0,c.up)("PermissionsEdit"),h=(0,c.Q2)("loading");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(y,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:400,modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","align-center":"",draggable:""},{title:(0,c.w5)((()=>[(0,c._)("div",Fo,[(0,c.Wm)(i,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:16,height:16,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"]),(0,c._)("div",Ao,(0,m.zw)(a.fileInfo.name),1),(0,c._)("div",Ho,(0,m.zw)(e.$t("属性")),1)])])),default:(0,c.w5)((()=>[$o,(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",Ro,[(0,c._)("div",No,[(0,c._)("div",Bo,[(0,c.Wm)(i,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:32,height:32,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"])]),(0,c._)("div",null,[(0,c.Wm)(n,{onKeydown:(0,d.D2)(a.confirm,["enter"]),modelValue:a.rename,"onUpdate:modelValue":l[0]||(l[0]=e=>a.rename=e),placeholder:""},null,8,["onKeydown","modelValue"])])]),Oo,(0,c._)("div",Ko,[(0,c._)("div",Mo,(0,m.zw)(e.$t("位置"))+"：",1),(0,c.Wm)(r,{content:a.fileDir+a.fileInfo.name},{content:(0,c.w5)((()=>[(0,c._)("div",jo,(0,m.zw)(a.fileDir+a.fileInfo.name),1)])),_:1},8,["content"]),(0,c._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[1]||(l[1]=e=>a.doCopy(a.fileDir+a.fileInfo.name))},[(0,c.Wm)(p,{size:"18"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])]),a.fileInfo.isDirectory?((0,c.wg)(),(0,c.iD)("div",Po,[(0,c._)("div",Lo,(0,m.zw)(e.$t("包含"))+"：",1),(0,c._)("div",qo,(0,m.zw)(e.$t(a.includeInfo)),1),a.fileInfo.isSymlink||a.unreliable?((0,c.wg)(),(0,c.iD)("div",Qo,[(0,c.Wm)(v,{size:"small",type:"danger"},{default:(0,c.w5)((()=>[(0,c.Uk)("unsure")])),_:1})])):(0,c.kq)("",!0),(0,c._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[2]||(l[2]=(...e)=>a.getFolderInclude&&a.getFolderInclude(...e))},[(0,c.Wm)(p,{size:"18"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})])])):((0,c.wg)(),(0,c.iD)("div",Go,[(0,c._)("div",Jo,(0,m.zw)(e.$t("大小"))+"：",1),(0,c._)("div",Zo,(0,m.zw)(a.calcSize(a.fileInfo.attributes.size))+" ("+(0,m.zw)(a.fileInfo.attributes.size+" "+e.$t("字节"))+") ",1),a.fileInfo.isSymlink||a.unreliable?((0,c.wg)(),(0,c.iD)("div",Yo,[(0,c.Wm)(v,{size:"small",type:"danger"},{default:(0,c.w5)((()=>[(0,c.Uk)("unsure")])),_:1})])):(0,c.kq)("",!0),(0,c._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[3]||(l[3]=(...e)=>a.getFileSize&&a.getFileSize(...e))},[(0,c.Wm)(p,{size:"18"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})])])),Xo,(0,c._)("div",es,[(0,c._)("div",ls,(0,m.zw)(e.$t("修改时间"))+"：",1),(0,c._)("div",null,(0,m.zw)(a.calcDate(a.fileInfo.attributes.mtime)),1)]),(0,c._)("div",ts,[(0,c._)("div",as,(0,m.zw)(e.$t("访问时间"))+"：",1),(0,c._)("div",null,(0,m.zw)(a.calcDate(a.fileInfo.attributes.atime)),1)]),os,(0,c._)("div",ss,[(0,c._)("div",is,(0,m.zw)(e.$t("权限"))+"：",1),(0,c._)("div",null,(0,m.zw)(a.calcPriority(a.fileInfo.attributes.mode.type,a.fileInfo.attributes.permissions)),1),(0,c._)("div",{style:{cursor:"pointer","margin-left":"7px"},onClick:l[4]||(l[4]=(...e)=>a.openEditPermissions&&a.openEditPermissions(...e))},[(0,c.Wm)(p,{size:"18"},{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})]),ns,(0,c._)("div",null,[(0,c.Wm)(w,{size:"small",type:"primary",onClick:a.confirm},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])),[[h,a.loading]])])),_:1},8,["modelValue","before-close"]),(0,c.Wm)(k,{ref:"permissionsEditRef",onEditPermissions:a.editPermissions},null,8,["onEditPermissions"])],64)}const us=e=>{if(!e)return"";let l=new Date(1e3*e),t=l.getFullYear(),a=l.getMonth()+1,o=l.getDate(),s=l.getHours(),i=l.getMinutes(),n=l.getSeconds();a<10&&(a="0"+a),o<10&&(o="0"+o),s<10&&(s="0"+s),i<10&&(i="0"+i),n<10&&(n="0"+n);let r=null;return r="zh"===Ke.global.locale?[t,a,o]:[a,o,t],r[0]+Ke.global.t("年")+r[1]+Ke.global.t("月")+r[2]+Ke.global.t("日，")+s+":"+i+":"+n},ds=e=>{if(!e)return"";let l=new Date(e),t=l.getHours(),a=l.getMinutes(),o=l.getSeconds();return t<10&&(t="0"+t),a<10&&(a="0"+a),o<10&&(o="0"+o),t+":"+a+":"+o},cs=e=>{if(null==e||void 0==e)return"";let l="";l=e<1024?e.toFixed(2)+" B":e<1048576?(e/1024).toFixed(2)+" KB":e<1073741824?(e/1048576).toFixed(2)+" MB":(e/1073741824).toFixed(2)+" GB";let t=l+"",a=t.indexOf("."),o=t.substring(a+1,a+3);return"00"==o?t.substring(0,a)+t.substring(a+3):l},ps=e=>((0,c.dD)("data-v-f4344b14"),e=e(),(0,c.Cn)(),e),ms={class:"kk-flex-0 nowrap kk-header-class"},vs={class:"ellipsis",style:{margin:"0 5px","font-size":"small"}},gs={style:{"font-size":"small"}},fs=ps((()=>(0,c._)("div",{style:{"margin-top":"-25px"}},null,-1))),ws={class:"kk-flex"},ys={class:"form-width no-select"},ks={class:"kk-flex"},hs={class:"form-width no-select"},bs={class:"kk-flex"},_s={class:"form-width no-select"},xs=ps((()=>(0,c._)("div",{style:{"margin-bottom":"5px"}},null,-1))),Cs={style:{display:"flex","align-items":"center","border-top":"1px solid #f1f2f4"}},Ss=ps((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function Ds(e,l,t,a,o,s){const i=(0,c.up)("FileIcons"),n=(0,c.up)("el-checkbox"),r=(0,c.up)("el-button"),u=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(u,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[10]||(l[10]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:e.$t("360"),modal:!1,"modal-class":"kk-dialog-class","body-class":"kk-body-class-12","align-center":"",draggable:""},{title:(0,c.w5)((()=>[(0,c._)("div",ms,[(0,c.Wm)(i,{style:{display:"flex",alignItems:"center"},name:a.fileInfo.name,width:16,height:16,isFolder:a.fileInfo.isDirectory,isLink:a.fileInfo.isSymlink},null,8,["name","isFolder","isLink"]),(0,c._)("div",vs,(0,m.zw)(a.fileInfo.name),1),(0,c._)("div",gs,(0,m.zw)(e.$t("权限修改")),1)])])),default:(0,c.w5)((()=>[fs,(0,c._)("div",ws,[(0,c._)("div",ys,(0,m.zw)(e.$t("所有者"))+"：",1),(0,c.Wm)(n,{modelValue:a.permissionsInfo.owner[0],"onUpdate:modelValue":l[0]||(l[0]=e=>a.permissionsInfo.owner[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.owner[1],"onUpdate:modelValue":l[1]||(l[1]=e=>a.permissionsInfo.owner[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.owner[2],"onUpdate:modelValue":l[2]||(l[2]=e=>a.permissionsInfo.owner[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),(0,c._)("div",ks,[(0,c._)("div",hs,(0,m.zw)(e.$t("所属组"))+"：",1),(0,c.Wm)(n,{modelValue:a.permissionsInfo.group[0],"onUpdate:modelValue":l[3]||(l[3]=e=>a.permissionsInfo.group[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.group[1],"onUpdate:modelValue":l[4]||(l[4]=e=>a.permissionsInfo.group[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.group[2],"onUpdate:modelValue":l[5]||(l[5]=e=>a.permissionsInfo.group[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),(0,c._)("div",bs,[(0,c._)("div",_s,(0,m.zw)(e.$t("其他用户"))+"：",1),(0,c.Wm)(n,{modelValue:a.permissionsInfo.others[0],"onUpdate:modelValue":l[6]||(l[6]=e=>a.permissionsInfo.others[0]=e),label:e.$t("读取"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.others[1],"onUpdate:modelValue":l[7]||(l[7]=e=>a.permissionsInfo.others[1]=e),label:e.$t("写入"),size:"large"},null,8,["modelValue","label"]),(0,c.Wm)(n,{modelValue:a.permissionsInfo.others[2],"onUpdate:modelValue":l[8]||(l[8]=e=>a.permissionsInfo.others[2]=e),label:e.$t("执行"),size:"large"},null,8,["modelValue","label"])]),xs,(0,c._)("div",Cs,[a.fileInfo.isDirectory?((0,c.wg)(),(0,c.j4)(n,{key:0,modelValue:a.permissionsInfo.sub,"onUpdate:modelValue":l[9]||(l[9]=e=>a.permissionsInfo.sub=e),label:e.$t("应用到子目录和文件"),size:"small",style:{"margin-top":"10px"}},null,8,["modelValue","label"])):(0,c.kq)("",!0),Ss,(0,c.Wm)(r,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close","width"])}var Is={name:"PermissionsEdit",components:{FileIcons:al()},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)({attributes:{mode:{type:""},permissions:""}}),s=(0,L.iH)({owner:[!1,!1,!1],group:[!1,!1,!1],others:[!1,!1,!1],sub:!1}),i=()=>{s.value=ia(o.value.attributes.permissions)},n=()=>{l.emit("editPermissions",a.value,o.value.name,s.value)},r=()=>{a.value="",o.value={attributes:{mode:{type:""},permissions:""}},s.value={owner:[!1,!1,!1],group:[!1,!1,!1],others:[!1,!1,!1],sub:!1},t.value=!1},u=e=>{setTimeout((()=>{r()}),400),t.value=!1,e&&e()};return{fileDir:a,fileInfo:o,DialogVisible:t,closeDialog:u,init:i,permissionsInfo:s,getPermissionInfo:ia,confirm:n}}};const Ts=(0,Xe.Z)(Is,[["render",Ds],["__scopeId","data-v-f4344b14"]]);var zs=Ts,Ws={name:"FileAttr",components:{ToolTip:Cl,FileIcons:al(),DocumentCopy:$e.IBc,Refresh:$e.hYj,Edit:$e.I8b,PermissionsEdit:zs},props:["sshKey"],setup(e,l){const{toClipboard:t}=(0,P.Z)(),a=(0,L.iH)(!1),s=(0,L.iH)({}),i=(0,L.iH)(""),n=(0,L.iH)(""),r=(0,L.iH)(!0),u=(0,L.iH)(!1),d=(0,L.iH)(Ke.global.k("0 个文件，0 个文件夹")),c=()=>{o().ajax({url:ee+"/du",type:"get",data:{time:(new Date).getTime(),sshKey:e.sshKey,path:se(i.value),item:ie(s.value.name)},beforeSend:function(){r.value=!0},success(e){"success"==e.status?s.value.attributes.size=parseInt(e.data,10):u.value=!0},complete:function(){r.value=!1}})},p=()=>{o().ajax({url:ee+"/find",type:"get",data:{time:(new Date).getTime(),sshKey:e.sshKey,path:se(i.value),item:ie(s.value.name)},beforeSend:function(){r.value=!0},success(e){"success"==e.status?d.value=e.data[0]+Ke.global.t(" 个文件，")+Math.max(0,parseInt(e.data[1],10)-1)+Ke.global.t(" 个文件夹"):u.value=!0},complete:function(){r.value=!1}})},m=()=>{if(s.value.name==n.value)return void k();if(!(n.value&&n.value.trim().length>0))return void(0,q.z8)({message:Ke.global.t("文件名不能为空"),type:"warning",grouping:!0});const e=/[/|]/;if(e.test(n.value))return void(0,q.z8)({message:Ke.global.t("文件名不能含有")+" |,/",type:"warning",grouping:!0});let t=i.value+s.value.name,a=i.value+n.value;l.emit("callback",t,a),k()},v=async e=>{e+="",e&&e.length>0?(await t(e),(0,q.z8)({message:Ke.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})):(0,q.z8)({message:Ke.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},g=(e,t,a)=>{l.emit("editPermissions",e,t,a)},f=()=>{s.value={attributes:{mode:{type:""},permissions:""}},n.value="",i.value="",r.value=!1,u.value=!1,d.value=Ke.global.k("0 个文件，0 个文件夹"),a.value=!1},w=(0,L.iH)(),y=()=>{w.value.fileDir=i.value,w.value.fileInfo=s.value,w.value.DialogVisible=!0,w.value.init()},k=e=>{w.value&&w.value.closeDialog(),setTimeout((()=>{f()}),400),a.value=!1,e&&e()};return{DialogVisible:a,fileInfo:s,confirm:m,closeDialog:k,reset:f,fileDir:i,rename:n,calcDate:us,calcPriority:sa,calcSize:cs,doCopy:v,loading:r,unreliable:u,includeInfo:d,getFileSize:c,getFolderInclude:p,permissionsEditRef:w,openEditPermissions:y,editPermissions:g}}};const Vs=(0,Xe.Z)(Ws,[["render",rs],["__scopeId","data-v-dcf79dce"]]);var Us=Vs;const Es=e=>((0,c.dD)("data-v-0057c127"),e=e(),(0,c.Cn)(),e),Fs={class:"no-select"},As={class:"kk-flex"},Hs=Es((()=>(0,c._)("div",{class:"form-width"},"URL：",-1))),$s={style:{flex:"1"}},Rs={key:0,class:"errInfo no-select"},Ns={key:1,style:{height:"7px"}},Bs={class:"kk-flex"},Os={class:"form-width"},Ks={style:{flex:"1"}},Ms={style:{"margin-left":"10px"}};function js(e,l,t,a,o,s){const i=(0,c.up)("Connection"),n=(0,c.up)("el-icon"),r=(0,c.up)("el-input"),u=(0,c.up)("Document"),p=(0,c.up)("el-button"),v=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(v,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.DialogVisible=e),"before-close":a.closeDialog,width:320,modal:!1,title:e.$t("URL上传"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",Fs,[(0,c._)("div",As,[Hs,(0,c._)("div",$s,[(0,c.Wm)(r,{size:"small",modelValue:a.url,"onUpdate:modelValue":l[0]||(l[0]=e=>a.url=e),class:"w-50 m-2",placeholder:e.$t("请输入文件URL")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(i)])),_:1})])),_:1},8,["modelValue","placeholder"])])]),a.err_msg&&a.err_msg.length>0?((0,c.wg)(),(0,c.iD)("div",Rs,(0,m.zw)(e.$t(a.err_msg)),1)):((0,c.wg)(),(0,c.iD)("div",Ns)),(0,c._)("div",Bs,[(0,c._)("div",Os,(0,m.zw)(e.$t("文件名"))+"：",1),(0,c._)("div",Ks,[(0,c.Wm)(r,{size:"small",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=e=>a.name=e),onKeydown:(0,d.D2)(a.confirm,["enter"]),class:"w-50 m-2",placeholder:e.$t("请输入文件名")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])),_:1},8,["modelValue","onKeydown","placeholder"])]),(0,c._)("div",Ms,[(0,c.Wm)(p,{size:"small",type:"primary",onClick:a.confirm},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close","title"])}var Ps={name:"FileUrl",components:{Connection:$e.ewe,Document:$e.BBB},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)(""),s=(0,L.iH)(""),i=()=>{if(a.value="",!(s.value&&s.value.trim().length>0))return void(a.value=Ke.global.k("URL不能为空"));if(!(o.value&&o.value.trim().length>0))return void(a.value=Ke.global.k("文件名不能为空"));const e=/[/|]/;e.test(o.value)?a.value=Ke.global.k("文件名不能含有")+" |,/":(l.emit("callback",s.value,o.value),r())},n=()=>{a.value="",o.value="",s.value="",t.value=!1},r=e=>{setTimeout((()=>{n()}),400),t.value=!1,e&&e()};return{DialogVisible:t,err_msg:a,name:o,url:s,confirm:i,closeDialog:r,reset:n}}};const Ls=(0,Xe.Z)(Ps,[["render",js],["__scopeId","data-v-0057c127"]]);var qs=Ls,Qs={name:"FileBlock",components:{ToolTip:Cl,NoData:ll,FileIcons:al(),TxtPreview:bo,MkFile:Uo,FileAttr:Us,FileUrl:qs,Refresh:$e.hYj,Fold:$e.qFw,Download:$e.UWx,Upload:$e.gqx,DocumentAdd:$e.kb8,FolderAdd:$e.FDh,Link:$e.rUS},props:["sshKey","os"],setup(e){const l=(0,L.iH)(!0),{toClipboard:t}=(0,P.Z)(),a=(0,L.iH)([]),s=(0,L.iH)([]);let i=-1;const n=(l,t,o=!0)=>{l.preventDefault();const n=r(t.id);if(o)if(l.shiftKey)if(0==s.value.length||-1==i||i>=a.value.length){s.value=[];for(let e=0;e<=t.index;e++)s.value.push({...a.value[e]});i=-1}else{s.value=[];const e=Math.min(t.index,i),l=Math.max(t.index,i);for(let t=e;t<=l;t++)s.value.push({...a.value[t]})}else"Windows"==e.os&&l.ctrlKey||("Mac"==e.os||"iOS"==e.os)&&l.metaKey?(i=t.index,-1!=n?s.value.splice(n,1):s.value.push(t)):(i=t.index,s.value=[],s.value.push(t));else-1==n&&(i=t.index,s.value=[],s.value.push(t))},r=e=>{for(let l=0;l<s.value.length;l++)if(e==s.value[l].id)return l;return-1},u=e=>{for(let l=0;l<de.value.files.length;l++)if(e==de.value.files[l].id)return l;return-1},d=e=>{for(let l=0;l<a.value.length;l++)if(a.value[l].name==e)return a.value[l];return null},p=(0,L.iH)(""),m=(0,L.iH)([]),v=()=>{""!=p.value&&"/"==p.value[0]||(p.value="/"+p.value),"/"!=p.value[p.value.length-1]&&(p.value=p.value+"/"),p.value=p.value.replace(/\/{2,}/g,"/"),g(p.value)},g=e=>{m.value="/"==e?[]:e.substring(1,e.length-1).split("/")},f=(l,t)=>{if(!("Windows"==e.os&&l.ctrlKey||("Mac"==e.os||"iOS"==e.os)&&l.metaKey))return;l.preventDefault();let a="/";for(let e=0;e<=t;e++)a+=m.value[e],a+="/";D(a)},w=(0,L.iH)(!1),y=()=>{""==p.value&&o().ajax({url:ee+"/home",type:"get",data:{time:(new Date).getTime(),sshKey:e.sshKey},success(e){"success"==e.status?(k.value=Ke.global.k("暂无文件"),h.value=0,p.value=e.data,v(),s.value=[],a.value=[],b()):(k.value=e.info,h.value=1,l.value=!1)}})},k=(0,L.iH)(Ke.global.k("暂无文件")),h=(0,L.iH)(0),b=()=>{if(""==p.value)return void y();let t=p.value;o().ajax({url:ee+"/ls",type:"get",data:{time:(new Date).getTime(),sshKey:e.sshKey,path:t},beforeSend:function(){l.value=!0,a.value=[]},success(e){if(t==p.value)if(s.value=[],"success"==e.status){if(a.value=e.data,k.value=Ke.global.k("暂无文件"),h.value=0,i=-1,R.value.tabindex="0",R.value.focus(),G.value&&G.value.DialogVisible){let e=d(G.value.fileInfo.name);e?(G.value.reset(),G.value.DialogVisible=!0,G.value.fileInfo=e,G.value.fileDir=p.value,G.value.rename=e.name,e.isDirectory?G.value.getFolderInclude():G.value.getFileSize()):G.value.closeDialog()}}else a.value=[],k.value=e.info,h.value=1,i=-1,R.value.tabindex="0",R.value.focus()},complete:function(){t==p.value&&(l.value=!1)}})},_=(l,t)=>ee+"/download/remote/file?time="+(new Date).getTime()+"&fileName="+encodeURIComponent(l)+"&sshKey="+e.sshKey+"&path="+encodeURIComponent(t||p.value),x=(l,t)=>ee+"/download/remote/folder?time="+(new Date).getTime()+"&folderName="+encodeURIComponent(ie(l))+"&sshKey="+e.sshKey+"&path="+encodeURIComponent(se(t||p.value)),C=e=>{if(1==w.value)return;let l=document.createElement("a");l.href=_(e),document.body.appendChild(l),l.click(),document.body.removeChild(l)},S=e=>{if(1==w.value)return;let l=document.createElement("a");l.href=x(e),document.body.appendChild(l),l.click(),document.body.removeChild(l)},D=e=>{1!=w.value&&(p.value=e,v(),s.value=[],b())},I=()=>{w.value=!1,v(),s.value=[],b()},T=()=>{w.value=!1,b()},z=()=>{if(1==w.value)return;if("/"==p.value)return;"/"==p.value[p.value.length-1]&&(p.value=p.value.substring(0,p.value.length-1));let e=p.value.lastIndexOf("/");-1!=e&&(p.value=p.value.substring(0,e+1)),v(),s.value=[],T()},W=()=>{1!=w.value&&(1==s.value.length&&s.value[0].name&&s.value[0].isDirectory&&S(s.value[0].name),1==s.value.length&&s.value[0].name&&!s.value[0].isDirectory&&C(s.value[0].name))},V=2225152,U=async(l,t={})=>{try{if(1==w.value)return;let a=l.file;if(!a)return;const s=a.name,i=a.size,n=0==parseInt(Math.ceil(i/V))?1:parseInt(Math.ceil(i/V)),r=a.uid;let u=1;const d=t.pathVal?t.pathVal:p.value;i>20971520&&!t.noStartUpLoad&&(0,q.z8)({message:t.startUpLoad?t.startUpLoad:Ke.global.t("开始上传"),type:"success",grouping:!0});for(let l=u;l<=n;l++){let u=(l-1)*V,c=u+V>=i?i:u+V,m=a.slice(u,c),v=new FormData;v.append("file",m),v.append("fileName",s),v.append("chunks",n),v.append("chunk",l),v.append("totalSize",i),v.append("id",r),v.append("sshKey",e.sshKey),v.append("path",d),await o().ajax({url:ee+"/upload",type:"post",data:v,contentType:!1,processData:!1,success(e){202==e.code?((0,q.z8)({message:t.alert?t.alert:e.info,type:e.status,grouping:!0}),d==p.value&&setTimeout((()=>{b()}),Math.min(1e3,500+10*n))):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,q.z8)({message:e.info,type:e.status,grouping:!0}),l=n+1)}})}}catch(a){(0,q.z8)({message:Ke.global.t("文件上传失败"),type:"error",grouping:!0})}},E=l=>{"Windows"==e.os&&l.ctrlKey||("Mac"==e.os||"iOS"==e.os)&&l.metaKey||(w.value=!0,setTimeout((()=>{document.querySelector("#aimDirInput").focus()}),1))},F=(0,L.iH)(!1),A=(0,L.iH)(),H=e=>{A.value.fileName=e,A.value.fileUrl=_(e),A.value.loading=!0,A.value.initText(),A.value.DialogVisible=!0},$=(l,t,a)=>{const o=Sl(t);if(o.sshKey!=e.sshKey)return;const s=new Blob([a],{type:"application/octet-stream"}),i=new File([s],l);i.uid=Math.random().toString(36).substring(2),U({file:i},{pathVal:o.path,startUpLoad:Ke.global.t("修改保存中"),alert:Ke.global.t("文件后台保存中")})},R=(0,L.iH)(),N=e=>{e.preventDefault()},B=l=>{l.preventDefault();const t=l.dataTransfer.items;if(!(t&&t.length>0))return;let a=p.value;for(let s=0;s<t.length;s++){let l=t[s].webkitGetAsEntry();if(l.isFile&&!l.isDirectory)l.file((e=>{e.uid=Math.random().toString(36).substring(2),U({file:e},{pathVal:a})}));else if(!l.isFile&&l.isDirectory){const t=a+l.name;o().ajax({url:ee+"/mkdir",type:"post",data:{sshKey:e.sshKey,path:a,item:l.name},success(e){"success"==e.status?(b(),O(l,t+"/")):(0,q.z8)({message:e.info,type:e.status,grouping:!0})}})}}},O=(l,t)=>{const a=l.createReader();a.readEntries((l=>{for(let a=0;a<l.length;a++){const s=l[a];if(s.isFile&&!s.isDirectory)s.file((e=>{e.uid=Math.random().toString(36).substring(2),U({file:e},{pathVal:t,noStartUpLoad:!0})}));else if(!s.isFile&&s.isDirectory){const l=t+s.name;o().ajax({url:ee+"/mkdir",type:"post",data:{sshKey:e.sshKey,path:t,item:s.name},success(e){"success"==e.status?O(s,l+"/"):(0,q.z8)({message:e.info,type:e.status,grouping:!0})}})}}}))},K=(0,L.iH)(!1),M=(0,L.iH)(!1),j=(0,L.iH)(!1),Q=(0,L.iH)({}),G=(0,L.iH)(),J=async e=>{switch(e){case 1:T();break;case 2:1==s.value.length&&1==s.value[0].isDirectory?D(p.value+s.value[0].name+"/"):1==s.value.length&&0==s.value[0].isDirectory&&H(s.value[0].name);break;case 3:if(p.value&&p.value.length>0){const e=p.value+(1==s.value.length?s.value[0].name:"");await t(e),(0,q.z8)({message:Ke.global.t("复制成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}else(0,q.z8)({message:Ke.global.t("内容为空"),type:"warning",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});break;case 4:1==s.value.length&&W();break;case 5:ne.value.nowDir=p.value,ne.value.DialogVisible=!0;break;case 6:1==s.value.length&&(Q.value={...s.value[0]},j.value=!0,setTimeout((()=>{document.querySelector("#rename").focus()}),1));break;case 7:M.value=!0;break;case 8:1==s.value.length&&(G.value.reset(),G.value.fileInfo={...s.value[0]},G.value.fileDir=p.value,G.value.rename=s.value[0].name,s.value[0].isDirectory?G.value.getFolderInclude():G.value.getFileSize(),G.value.DialogVisible=!0);break;case 9:1==s.value.length&&ea(s.value[0].name)&&ke();break;default:break}7!=e&&(K.value=!1,M.value=!1)},Z=()=>{K.value=!1,M.value=!1},Y=(0,L.iH)(),X=e=>{"fileArea"==e.target.id&&(s.value=[]),Y.value.style.top=e.clientY-135+"px",Y.value.style.left=e.clientX+1+"px",K.value=!0,M.value=!1,e.preventDefault()},le=e=>{if(j.value=!1,e.name==Q.value.name)return void(Q.value={});if(!(Q.value.name&&Q.value.name.trim().length>0))return(0,q.z8)({message:Ke.global.t("文件名不能为空"),type:"warning",grouping:!0}),void(Q.value={});const l=/[/|]/;if(l.test(Q.value.name))return(0,q.z8)({message:Ke.global.t("文件名不能含有")+" |,/",type:"warning",grouping:!0}),void(Q.value={});let t=p.value+e.name,a=p.value+Q.value.name;Q.value={},te(t,a)},te=(l,t)=>{o().ajax({url:ee+"/rename",type:"post",data:{sshKey:e.sshKey,oldPath:l,newPath:t},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),b()}})},ae=()=>{K.value=!1,M.value=!1,0!=s.value.length&&o().ajax({url:ee+"/rm-rf",type:"post",data:{sshKey:e.sshKey,path:se(p.value),items:s.value.map((e=>ie(e.name))).join(" ")},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),b()}})},oe=()=>{M.value=!1},ne=(0,L.iH)(),re=(l,t,a)=>{o().ajax({url:ee+(l?"/mkdir":"/touch"),type:"post",data:{sshKey:e.sshKey,path:l?a:se(a),item:l?t:ie(t)},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),b()}})};(0,c.YP)(p,(()=>{ne.value&&ne.value.closeDialog(),we.value&&we.value.closeDialog(),G.value&&G.value.closeDialog()}));const ue=e=>{const l=31,t=e*l,a=t+l,o=R.value.clientHeight,s=R.value.scrollTop;t<s?R.value.scrollTop=t:a>s+o&&(R.value.scrollTop=a-o)},de=(0,L.iH)({path:"/",files:[]}),ce=(0,L.iH)(!1),pe=l=>{const t=document.querySelector("#rename");if(!t||!t.contains(l.target)){if(l.preventDefault(),"ArrowUp"!==l.key&&"ArrowDown"!==l.key||("ArrowUp"===l.key?((-1==i||i>a.value.length)&&(i=a.value.length),i--,i=Math.max(0,i)):"ArrowDown"===l.key&&(i++,i=Math.min(a.value.length-1,i)),K.value=!1,M.value=!1,s.value=[],s.value.push(a.value[i]),ue(i)),"Enter"===l.key){if(K.value||M.value)return K.value=!1,void(M.value=!1);if(1==s.value.length){const e=s.value[0];e.isDirectory?D(p.value+e.name+"/"):H(e.name)}}if("Windows"==e.os&&l.ctrlKey||("Mac"==e.os||"iOS"==e.os)&&l.metaKey)switch(String.fromCharCode(l.which).toLowerCase()){case"a":s.value=[];for(let e=0;e<a.value.length;e++)s.value.push({...a.value[e]});break;case"c":s.value.length>0&&(de.value.path=p.value,de.value.files=s.value.slice(0),ce.value=!1);break;case"v":if(0==de.value.files.length)return;me(ce.value?"mv":"cp"),ce.value&&(ce.value=!1,de.value={path:"/",files:[]});break;case"x":de.value.path=p.value,de.value.files=s.value.slice(0),ce.value=!0;break}}},me=l=>{de.value.path!=p.value&&o().ajax({url:ee+"/"+l,type:"post",data:{sshKey:e.sshKey,src:se(de.value.path),dst:se(p.value),items:de.value.files.map((e=>ie(e.name))).join(" ")},success(e){"success"==e.status?b():((0,q.z8)({message:e.info,type:e.status,grouping:!0}),de.value={path:"/",files:[]})}})},ve=e=>{0==e?document.querySelector("#fileUploadInputButton").click():1==e?(document.querySelector("#folderUploadInput").value="",document.querySelector("#folderUploadInput").click()):2==e&&(we.value.DialogVisible=!0)},ge=e=>{let l=p.value,t={};for(let o=0;o<e.target.files["length"];o++){let l=e.target.files[o],a=l["webkitRelativePath"],s=a.lastIndexOf("/"),i=a.substring(0,s+1);t[i]||(t[i]={path:i,files:[]}),t[i].files.push(l)}let a=[];for(let o in t)a.push(t[o]);a.sort(((e,l)=>e.path.length-l.path.length)),fe(l,a,0)},fe=(l,t,a)=>{const s=t[a];o().ajax({url:ee+"/mkdir",type:"post",data:{sshKey:e.sshKey,path:l,item:s.path},success(e){if("success"==e.status){0==a&&b(),a<t.length-1&&fe(l,t,a+1);for(let e=0;e<s.files.length;e++){const t=s.files[e];t.uid=Math.random().toString(36).substring(2),U({file:t},{pathVal:l+s.path,noStartUpLoad:!0})}}else(0,q.z8)({message:Ke.global.t("文件夹上传失败"),type:e.status,grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}})},we=(0,L.iH)(),ye=(l,t)=>{o().ajax({url:ee+"/wget",type:"post",data:{sshKey:e.sshKey,path:se(p.value),item:ie(t),url:encodeURI(l)},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),b()}})},ke=()=>{o().ajax({url:ee+"/untar",type:"post",data:{sshKey:e.sshKey,path:se(p.value),item:ie(s.value[0].name)},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),b()}})},he=(l,t,a)=>{o().ajax({url:ee+"/chmod",type:"post",data:{sshKey:e.sshKey,path:se(l),item:ie(t),perms:na(a),sub:a.sub||!1},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),"success"==e.status&&(G.value&&G.value.permissionsEditRef&&G.value.permissionsEditRef.closeDialog(),b())}})},be=(e=!1)=>{e&&(l.value=!0,a.value=[],p.value="",m.value=[],w.value=!1,k.value=Ke.global.k("暂无文件"),h.value=0,de.value={path:"/",files:[]},ce.value=!1),s.value=[],i=-1,K.value=!1,M.value=!1,j.value=!1,Q.value={},F.value=!1},_e=e=>{A.value&&A.value.DialogVisible&&A.value.closeDialog(),ne.value&&ne.value.DialogVisible&&ne.value.closeDialog(),G.value&&G.value.DialogVisible&&G.value.closeDialog(),we.value&&we.value.DialogVisible&&we.value.closeDialog(),setTimeout((()=>{be()}),400),F.value=!1,e&&e()},xe=()=>{A.value&&A.value.closeDialog(),ne.value&&ne.value.closeDialog(),G.value&&G.value.closeDialog(),we.value&&we.value.closeDialog(),setTimeout((()=>{be(!0)}),400),F.value=!1};return(0,c.bv)((()=>{document.addEventListener("mousedown",(e=>{if(R.value&&R.value.contains(e.target)&&(R.value.tabindex="0",R.value.focus()),Y.value&&Y.value.contains(e.target))return;const l=document.querySelector(".confirmPop");l&&l.contains(e.target)||(K.value=!1,M.value=!1)}))})),(0,c.Ah)((()=>{R.value&&(R.value.removeEventListener("dragover",N),R.value.removeEventListener("drop",B),R.value.removeEventListener("scroll",Z),R.value.removeEventListener("keydown",pe))})),{DialogVisible:F,isShowDirInput:w,dir:p,files:a,getInitDir:y,getDirList:b,downloadRemoteFile:C,downloadDir:S,changeDir:D,dirInputCallback:I,noDataMsg:k,doRefresh:T,doReturn:z,doDownload:W,doUpload:U,selectedFiles:s,loading:l,txtPreviewRef:A,preViewFile:H,doSave:$,fileAreaRef:R,handleMenuSelect:J,isShowMenu:K,preventDefault:N,handleFileDrag:B,handleScroll:Z,handleContextMenu:X,isShowRenameInput:j,handleRename:le,renameFile:Q,menuBlockRef:Y,doShowDirInput:E,isShowPop:M,confirmPopConfirm:ae,cancelPopConfirm:oe,mkFileRef:ne,handleMkFile:re,doRename:te,fileAttrRef:G,folderUpload:O,dirStatus:h,handleShortcutKeys:pe,fileClipboard:de,addSelectFile:n,isSelected:r,isClipboard:u,isCtrlx:ce,fileCopyMove:me,fileUploadTypeChoose:ve,folderInputUploadPrehandle:ge,fileUrlRef:we,fileUrlUpload:ye,reset:be,closeDialog:_e,deepCloseDialog:xe,isZipFile:ea,untar:ke,editPermissions:he,dirLevels:m,changeDirByLevel:f}}};const Gs=(0,Xe.Z)(Qs,[["render",Yt],["__scopeId","data-v-08fa41d2"]]);var Js=Gs;const Zs=e=>((0,c.dD)("data-v-4d6185e4"),e=e(),(0,c.Cn)(),e),Ys={class:"kk-flex"},Xs=Zs((()=>(0,c._)("div",{class:"no-select nowrap form-width"},"TCode：",-1))),ei=Zs((()=>(0,c._)("div",{class:"no-select nowrap",style:{"background-color":"#f3f4f4","margin-right":"8px"}},"U",-1))),li=Zs((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),ti={class:"kk-flex"},ai={class:"no-select nowrap form-width",style:{"margin-right":"2px"}},oi=Zs((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),si=Zs((()=>(0,c._)("div",{class:"kk-border"},null,-1))),ii={class:"kk-flex",style:{margin:"7px 0"}},ni=Zs((()=>(0,c._)("div",{class:"no-select nowrap"},"Workflow",-1))),ri=Zs((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),ui={"element-loading-text":"Loading...",style:{padding:"0px 5px",width:"100%",height:"30vh"}},di={style:{display:"flex"}},ci=Zs((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function pi(e,l,t,a,o,s){const i=(0,c.up)("CollectionTag"),n=(0,c.up)("el-icon"),r=(0,c.up)("el-input"),u=(0,c.up)("Upload"),d=(0,c.up)("el-button"),p=(0,c.up)("el-upload"),v=(0,c.up)("EditPen"),g=(0,c.up)("Download"),f=(0,c.up)("Refresh"),w=(0,c.up)("el-tooltip"),y=(0,c.up)("DocumentDelete"),k=(0,c.up)("Finished"),h=(0,c.up)("AceEditor"),b=(0,c.up)("el-dialog"),_=(0,c.Q2)("loading");return(0,c.wg)(),(0,c.j4)(b,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisible=e),"before-close":a.closeDialog,"destroy-on-close":"",width:550,title:e.$t("自定义TCode"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0","align-center":"",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",null,[(0,c._)("div",Ys,[Xs,ei,(0,c.Wm)(r,{size:"small",style:{width:"130px"},modelValue:a.userTcodeInfo.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.userTcodeInfo.name=e),class:"w-50 m-2",placeholder:e.$t("输入TCode"),maxlength:"5",minlength:"1"},{prefix:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(i)])),_:1})])),_:1},8,["modelValue","placeholder"]),li,(0,c._)("div",null,[(0,c.Wm)(p,{"show-file-list":!1,"with-credentials":!1,"http-request":a.importTcodes,multiple:!1},{default:(0,c.w5)((()=>[(0,c.Wm)(d,{size:"small",type:"primary"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1}),(0,c.Uk)(" "+(0,m.zw)(e.$t("导入")),1)])),_:1})])),_:1},8,["http-request"])])]),(0,c._)("div",ti,[(0,c._)("div",ai,(0,m.zw)(e.$t("描   述"))+"：",1),(0,c.Wm)(r,{size:"small",style:{width:"146px"},modelValue:a.userTcodeInfo.desc,"onUpdate:modelValue":l[1]||(l[1]=e=>a.userTcodeInfo.desc=e),class:"w-50 m-2",placeholder:e.$t("输入TCode描述")},{prefix:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(v)])),_:1})])),_:1},8,["modelValue","placeholder"]),oi,(0,c._)("div",null,[(0,c.Wm)(d,{size:"small",type:"primary",onClick:a.exportTcodes},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{class:"el-icon--left"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1}),(0,c.Uk)(" "+(0,m.zw)(e.$t("导出")),1)])),_:1},8,["onClick"])])]),si,(0,c._)("div",ii,[ni,ri,(0,c._)("div",{onClick:l[2]||(l[2]=e=>a.workflowTab(1)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(w,{content:e.$t("默认模板"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})])),_:1},8,["content"])]),(0,c._)("div",{onClick:l[3]||(l[3]=e=>a.workflowTab(2)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(w,{content:e.$t("清空"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(y)])),_:1})])),_:1},8,["content"])]),(0,c._)("div",{onClick:l[4]||(l[4]=e=>a.workflowTab(3)),style:{"font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(w,{content:e.$t("保存"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(k)])),_:1})])),_:1},8,["content"])])]),(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",ui,[(0,c.Wm)(h,{ref:"userTcodeEditorRef",onHandleSave:a.handleSave},null,8,["onHandleSave"])])),[[_,a.loading]])]),(0,c._)("div",di,[ci,(0,c.Wm)(d,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close","title"])}var mi={name:"UserTcode",components:{AceEditor:po,CollectionTag:$e.O$2,EditPen:$e.qHu,Upload:$e.gqx,Download:$e.UWx,Refresh:$e.hYj,Finished:$e.qWi,DocumentDelete:$e.jY0},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(!1),o="const path = '/root/terminal';\nawait kkTerminal.write('cd ' + path, 1200);\nconst port = 3000;\nawait kkTerminal.write('lsof -ti :' + port, 1200);\nconst resultArr = kkTerminal.read();\nif(resultArr.length >= 2) {\n    const pid = resultArr[1];\n\tif(pid && /^\\d+$/.test(pid)) await kkTerminal.write('kill -9 ' + pid, 1200);\n}\nconst jar = 'kkTerminal.jar';\nawait kkTerminal.write('nohup java -jar ./' + jar + ' > ./out.log &', 1200);",s=(0,L.iH)(),i=(0,L.iH)({name:"",desc:""}),n=e=>{localStorage.setItem("tcode-draft",e),(0,q.z8)({message:Ke.global.t("保存成功"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})},r=e=>{s.value.setValue(e),s.value.resetHistory()},u=()=>{s.value.setLanguage("kk.js"),localStorage.getItem("tcode-draft")&&(s.value.setValue(localStorage.getItem("tcode-draft")),s.value.resetHistory())},d=e=>{const l=/^[A-Za-z0-9]+$/;return l.test(e)},c=e=>{let t=e.file;const o=new FileReader;o.onload=()=>{try{const e=JSON.parse(o.result);let t={},a=0,s=0;for(const l in e)l&&l.length>=2&&l.length<=6&&("U"==l[0]||"u"==l[0])&&d(l)?(t[l.toUpperCase()]={desc:e[l].desc||"",workflow:e[l].workflow||"",status:"Not Active"},a++):((0,q.z8)({message:"TCode-"+l+Ke.global.t("：名称非法"),type:"error",grouping:!0}),s++);0==s?(l.emit("importTCodes",t),(0,q.z8)({message:Ke.global.t("导入成功"),type:"success",grouping:!0}),f()):0==a?(0,q.z8)({message:Ke.global.t("导入失败：无合法TCode"),type:"error",grouping:!0}):(l.emit("importTCodes",t),(0,q.z8)({message:Ke.global.t("导入成功：")+a+Ke.global.t("个")+Ke.global.t("，导入失败：")+s+Ke.global.t("个"),type:"warning",grouping:!0}))}catch(e){(0,q.z8)({message:Ke.global.t("导入失败：json格式错误"),type:"error",grouping:!0})}finally{a.value=!1}},o.onerror=()=>{(0,q.z8)({message:Ke.global.t("导入失败：文件读取失败"),type:"error",grouping:!0}),a.value=!1},a.value=!0,o.readAsText(t)},p=()=>{l.emit("exportTcodes"),(0,q.z8)({message:Ke.global.t("导出成功"),type:"success",grouping:!0})},m=e=>{switch(e){case 1:localStorage.removeItem("tcode-draft"),r(o);break;case 2:localStorage.removeItem("tcode-draft"),r("");break;case 3:n(s.value.getValue());break}},v=()=>{if(!(i.value.name&&i.value.name.length>=1&&i.value.name.length<=5))return void(0,q.z8)({message:Ke.global.t("TCode不能为空"),type:"error",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});if(!d(i.value.name))return void(0,q.z8)({message:Ke.global.t("TCode只能由字母和数字组成"),type:"error",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER});let e={};e["U"+i.value.name.toUpperCase()]={desc:i.value.desc,workflow:s.value.getValue(),status:"Not Active"},l.emit("importTCodes",e),(0,q.z8)({message:Ke.global.t("添加成功"),type:"success",grouping:!0}),localStorage.removeItem("tcode-draft"),f()},g=()=>{s.value&&s.value.reset(),a.value=!1,i.value.name="",i.value.desc="",t.value=!1},f=e=>{setTimeout((()=>{g()}),400),t.value=!1,e&&e()};return{DialogVisible:t,confirm:v,closeDialog:f,reset:g,userTcodeEditorRef:s,handleSave:n,initText:u,loading:a,userTcodeInfo:i,importTcodes:c,exportTcodes:p,setValue:r,workflowTab:m}}};const vi=(0,Xe.Z)(mi,[["render",pi],["__scopeId","data-v-4d6185e4"]]);var gi=vi;const fi=e=>((0,c.dD)("data-v-9f6ba256"),e=e(),(0,c.Cn)(),e),wi={class:"no-select"},yi={style:{height:"210px","overflow-y":"auto"}},ki=fi((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4"}},"/",-1))),hi=fi((()=>(0,c._)("div",{class:"kk-border"},null,-1))),bi={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},_i={class:"kk-flex",style:{width:"60px"}},xi={style:{"background-color":"#f3f4f4"}},Ci=fi((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Si={class:"ellipsis",style:{"margin-left":"10px"}},Di={style:{height:"210px","overflow-y":"auto"}},Ii=fi((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4"}},"S",-1))),Ti=fi((()=>(0,c._)("div",{class:"kk-border"},null,-1))),zi={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},Wi={class:"kk-flex",style:{width:"60px"}},Vi={style:{"background-color":"#f3f4f4"}},Ui=fi((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Ei={class:"ellipsis",style:{"margin-left":"10px"}},Fi={style:{height:"210px","overflow-y":"auto"}},Ai={class:"kk-flex",style:{"margin-bottom":"12px","margin-top":"-6px"}},Hi={style:{"margin-top":"3px"}},$i={style:{cursor:"pointer","margin-left":"10px"}},Ri=fi((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Ni=fi((()=>(0,c._)("div",{style:{"margin-left":"10px"}},null,-1))),Bi={style:{width:"100%",height:"178px"}},Oi=fi((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4"}},"U",-1))),Ki=fi((()=>(0,c._)("div",{class:"kk-border"},null,-1))),Mi={class:"kk-flex tocde-item",style:{padding:"12px 10px"}},ji={class:"kk-flex",style:{width:"60px"}},Pi={style:{"background-color":"#f3f4f4"}},Li=fi((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),qi={class:"ellipsis",style:{"margin-left":"10px"}},Qi=fi((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Gi={style:{cursor:"pointer","margin-left":"10px"}},Ji=["onClick"],Zi=fi((()=>(0,c._)("span",{style:{"background-color":"#f3f4f4"}},"U",-1))),Yi=fi((()=>(0,c._)("div",{class:"kk-border"},null,-1))),Xi=fi((()=>(0,c._)("div",{style:{"margin-top":"20px"}},null,-1)));function en(e,l,t,a,o,s){const i=(0,c.up)("el-tab-pane"),n=(0,c.up)("ArrowLeft"),r=(0,c.up)("el-icon"),u=(0,c.up)("TcodeStatus"),d=(0,c.up)("el-tooltip"),p=(0,c.up)("Edit"),v=(0,c.up)("Delete"),g=(0,c.up)("View"),f=(0,c.up)("Finished"),w=(0,c.up)("AceEditor"),y=(0,c.up)("ArrowRight"),k=(0,c.up)("NoData"),h=(0,c.up)("el-tabs"),b=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(b,{modelValue:a.DialogVisible,"onUpdate:modelValue":l[5]||(l[5]=e=>a.DialogVisible=e),"destroy-on-close":"",width:480,title:e.$t("帮助"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",wi,[(0,c.Wm)(h,{type:"border-card"},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{label:e.$t("功能TCode")},{default:(0,c.w5)((()=>[(0,c._)("div",yi,[(0,c._)("div",null,[(0,c.Uk)((0,m.zw)(e.$t("以"))+" ",1),ki,(0,c.Uk)(" "+(0,m.zw)(e.$t("开头，用于快速执行通用功能")),1)]),hi,((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.FuncTcode,((l,t)=>((0,c.wg)(),(0,c.iD)("div",{key:t},[(0,c._)("div",bi,[(0,c._)("div",_i,[(0,c._)("div",xi,(0,m.zw)(t),1),Ci]),(0,c._)("div",Si,(0,m.zw)(e.$t(l.desc)),1)])])))),128))])])),_:1},8,["label"]),(0,c.Wm)(i,{label:e.$t("系统TCode")},{default:(0,c.w5)((()=>[(0,c._)("div",Di,[(0,c._)("div",null,[(0,c.Uk)((0,m.zw)(e.$t("以"))+" ",1),Ii,(0,c.Uk)(" "+(0,m.zw)(e.$t("开头，用于快速访问系统模块")),1)]),Ti,((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.SysTcode,((l,t)=>((0,c.wg)(),(0,c.iD)("div",{key:t},[(0,c._)("div",zi,[(0,c._)("div",Wi,[(0,c._)("div",Vi,(0,m.zw)(t),1),Ui]),(0,c._)("div",Ei,(0,m.zw)(e.$t(l.desc)),1)])])))),128))])])),_:1},8,["label"]),(0,c.Wm)(i,{label:e.$t("用户TCode")},{default:(0,c.w5)((()=>[(0,c._)("div",Fi,[a.userTCodes&&Object.keys(a.userTCodes).length>0?((0,c.wg)(),(0,c.iD)(c.HY,{key:0},[a.nowTCode&&a.nowTCode.length>=2&&a.nowTCode.length<=6?((0,c.wg)(),(0,c.iD)(c.HY,{key:0},[(0,c._)("div",Ai,[(0,c._)("div",{onClick:l[0]||(l[0]=(...e)=>a.toOverview&&a.toOverview(...e)),style:{"margin-right":"10px",cursor:"pointer","font-size":"16px"}},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(n)])),_:1})]),(0,c._)("div",Hi,(0,m.zw)(a.modifyTag+a.nowTCode),1),(0,c._)("div",$i,[(0,c.Wm)(d,{content:a.TCodeStatusEnum[a.userTCodes[a.nowTCode].status],placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(u,{style:{fontSize:"18px"},status:a.userTCodes[a.nowTCode].status},null,8,["status"])])),_:1},8,["content"])]),Ri,0==a.mode?((0,c.wg)(),(0,c.iD)("div",{key:0,onClick:l[1]||(l[1]=(...e)=>a.doModifyTCode&&a.doModifyTCode(...e)),style:{"margin-top":"-3px","font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(d,{content:e.$t("编辑"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p)])),_:1})])),_:1},8,["content"])])):(0,c.kq)("",!0),0==a.mode?((0,c.wg)(),(0,c.iD)("div",{key:1,onClick:l[2]||(l[2]=(...e)=>a.confirmDeleteTCode&&a.confirmDeleteTCode(...e)),style:{"margin-top":"-3px","font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(d,{content:e.$t("删除"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(v)])),_:1})])),_:1},8,["content"])])):(0,c.kq)("",!0),1==a.mode?((0,c.wg)(),(0,c.iD)("div",{key:2,onClick:l[3]||(l[3]=(...e)=>a.doOnlyRead&&a.doOnlyRead(...e)),style:{"margin-top":"-3px","font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(d,{content:e.$t("只读"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})])),_:1},8,["content"])])):(0,c.kq)("",!0),1==a.mode?((0,c.wg)(),(0,c.iD)("div",{key:3,onClick:l[4]||(l[4]=(...e)=>a.doSaveTCode&&a.doSaveTCode(...e)),style:{"margin-top":"-3px","font-size":"18px",cursor:"pointer","margin-left":"15px"}},[(0,c.Wm)(d,{content:e.$t("保存修改"),placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(f)])),_:1})])),_:1},8,["content"])])):(0,c.kq)("",!0),Ni]),(0,c._)("div",Bi,[(0,c.Wm)(w,{ref:"userTcodeEditorRef",onHandleChange:a.handleChange,onHandleSave:a.doSaveTCode},null,8,["onHandleChange","onHandleSave"])])],64)):((0,c.wg)(),(0,c.iD)(c.HY,{key:1},[(0,c._)("div",null,[(0,c.Uk)((0,m.zw)(e.$t("以"))+" ",1),Oi,(0,c.Uk)(" "+(0,m.zw)(e.$t("开头，自定义实现类似Shell脚本的自动化Workflow")),1)]),Ki,((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.userTCodes,((e,l)=>((0,c.wg)(),(0,c.iD)("div",{key:l},[(0,c._)("div",Mi,[(0,c._)("div",ji,[(0,c._)("div",Pi,(0,m.zw)(l),1),Li]),(0,c._)("div",qi,(0,m.zw)(e.desc),1),Qi,(0,c._)("div",Gi,[(0,c.Wm)(d,{content:a.TCodeStatusEnum[e.status],placement:"top"},{default:(0,c.w5)((()=>[(0,c.Wm)(u,{style:{fontSize:"18px"},status:e.status},null,8,["status"])])),_:2},1032,["content"])]),(0,c._)("div",{onClick:e=>a.toWorkflow(l),style:{"margin-left":"15px",cursor:"pointer","font-size":"16px"}},[(0,c.Wm)(r,null,{default:(0,c.w5)((()=>[(0,c.Wm)(y)])),_:1})],8,Ji)])])))),128))],64))],64)):((0,c.wg)(),(0,c.iD)(c.HY,{key:1},[(0,c._)("div",null,[(0,c.Uk)((0,m.zw)(e.$t("以"))+" ",1),Zi,(0,c.Uk)(" "+(0,m.zw)(e.$t("开头，自定义实现类似Shell脚本的自动化Workflow")),1)]),Yi,(0,c.Wm)(k,{height:"160px"},{myslot:(0,c.w5)((()=>[Xi])),_:1})],64))])])),_:1},8,["label"])])),_:1})])])),_:1},8,["modelValue","title","before-close"])}function ln(e,l,t,a,o,s){const i=(0,c.up)("CircleCloseFilled"),n=(0,c.up)("el-icon"),r=(0,c.up)("WarningFilled"),u=(0,c.up)("SuccessFilled"),d=(0,c.up)("InfoFilled");return-2==a.statusType?((0,c.wg)(),(0,c.iD)("div",{key:0,style:(0,m.j5)(a.statusStyle)},[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(i)])),_:1})],4)):-1==a.statusType?((0,c.wg)(),(0,c.iD)("div",{key:1,style:(0,m.j5)(a.statusStyle)},[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(r)])),_:1})],4)):1==a.statusType?((0,c.wg)(),(0,c.iD)("div",{key:2,style:(0,m.j5)(a.statusStyle)},[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})],4)):((0,c.wg)(),(0,c.iD)("div",{key:3,style:(0,m.j5)(a.statusStyle)},[(0,c.Wm)(n,null,{default:(0,c.w5)((()=>[(0,c.Wm)(d)])),_:1})],4))}var tn={name:"TcodeStatus",components:{SuccessFilled:$e.c5o,WarningFilled:$e.Rrw,CircleCloseFilled:$e.Tw$,InfoFilled:$e.cEj},props:{status:{type:String,default:"success"},style:{type:Object,default:()=>{}}},setup(e){const l={"Compile Error":-2,"Execute Interrupt":-1,"Not Active":0,"Execute Success":1},t=["#f56c6c","#e6a23c","#909399","#67c23a"],a=(0,c.Fl)((()=>l[e.status]||0)),o=(0,c.Fl)((()=>({fontSize:"16px",...e.style,color:t[(l[e.status]||0)+2]})));return{statusStyle:o,statusType:a}}};const an=(0,Xe.Z)(tn,[["render",ln]]);var on=an,sn={name:"HelpTcode",components:{NoData:ll,TcodeStatus:on,AceEditor:po,ArrowRight:$e.olP,ArrowLeft:$e.XdH,Edit:$e.I8b,View:$e.G7x,Finished:$e.qWi,Delete:$e.HG3},setup(e,l){const t=(0,L.iH)(!1),a=(0,L.iH)(""),o=(0,L.iH)({}),s=(0,L.iH)(""),i=(0,L.iH)(!1),n=e=>{s.value=e,i.value=!1,setTimeout((()=>{c(!0)}),1)},r=()=>{i.value=!1,s.value="",a.value=""},d=(0,L.iH)(),c=e=>{d.value.setLanguage("kk.js"),d.value.setValue(JSON.parse(u(localStorage.getItem("tcodes")))[s.value].workflow||""),d.value.resetHistory(),d.value.setReadOnly(e),a.value=""},p=()=>{i.value=!0,c(!1)},m=()=>{i.value=!1,c(!0)},v=()=>{"*"==a.value&&(l.emit("handleSaveTCode",s.value,d.value.getValue()),m(),(0,q.z8)({message:Ke.global.t("修改成功"),type:"success",grouping:!0}),a.value="")},g=()=>{Me(Ke.global.t("提示"),Ke.global.t("确定删除此TCode吗?"),f)},f=()=>{l.emit("handleDeleteTCode",s.value),(0,q.z8)({message:Ke.global.t("删除成功"),type:"success",grouping:!0}),r()},w=()=>{a.value="*"},y=()=>{d.value&&d.value.reset(),i.value=!1,s.value="",a.value="",t.value=!1},k=e=>{setTimeout((()=>{y()}),400),t.value=!1,e&&e()};return{DialogVisible:t,FuncTcode:lo,SysTcode:to,nowTCode:s,toWorkflow:n,toOverview:r,userTCodes:o,userTcodeEditorRef:d,initTcodeEditor:c,TCodeStatusEnum:no,mode:i,doModifyTCode:p,doOnlyRead:m,doSaveTCode:v,confirmDeleteTCode:g,doDeleteTCode:f,handleChange:w,modifyTag:a,reset:y,closeDialog:k}}};const nn=(0,Xe.Z)(sn,[["render",en],["__scopeId","data-v-9f6ba256"]]);var rn=nn;const un=e=>((0,c.dD)("data-v-13a2cd4d"),e=e(),(0,c.Cn)(),e),dn={class:"no-select"},cn={class:"kk-flex"},pn=un((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),mn=un((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),vn=un((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),gn={class:"kk-flex"},fn=un((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),wn=un((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),yn=un((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),kn={style:{display:"flex","border-top":"1px solid #f1f2f4"}},hn=un((()=>(0,c._)("div",{style:{flex:"1"}},null,-1)));function bn(e,l,t,a,o,s){const i=(0,c.up)("el-radio"),n=(0,c.up)("el-radio-group"),r=(0,c.up)("el-input-number"),u=(0,c.up)("el-button"),d=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(d,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=e=>a.computedDialogVisible=e),"before-close":a.closeDialog,width:e.$t("240"),modal:!1,title:e.$t("协作"),"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-0",draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",dn,[(0,c._)("div",cn,[(0,c._)("div",null,(0,m.zw)(e.$t("编辑权限"))+"：",1),pn,(0,c.Wm)(n,{modelValue:a.isReadonly,"onUpdate:modelValue":l[0]||(l[0]=e=>a.isReadonly=e),class:"ml-4"},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{label:!1,size:"large"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("是")),1)])),_:1}),(0,c.Wm)(i,{label:!0,size:"large"},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("否")),1)])),_:1})])),_:1},8,["modelValue"]),mn]),vn,(0,c._)("div",gn,[(0,c._)("div",null,(0,m.zw)(e.$t("人数上限"))+"：",1),fn,(0,c._)("div",null,[(0,c.Wm)(r,{style:{width:"80px"},size:"small",modelValue:a.maxHeadCount,"onUpdate:modelValue":l[1]||(l[1]=e=>a.maxHeadCount=e),min:1,max:6,step:"1","step-strictly":!0},null,8,["modelValue"])]),wn]),yn,(0,c._)("div",kn,[hn,(0,c.Wm)(u,{size:"small",type:"primary",onClick:a.confirm,style:{"margin-top":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["onClick"])])])])),_:1},8,["modelValue","before-close","width","title"])}var _n={name:"CooperateGen",props:["sshKey","advance"],setup(e,l){const t=(0,L.iH)(!1),a=(0,c.Fl)((()=>t.value&&e.advance)),s=(0,L.iH)(!0),i=(0,L.iH)(6),{toClipboard:n}=(0,P.Z)(),r=async()=>{const t=i.value;o().ajax({url:ee+"/cooperate/key",type:"get",data:{time:(new Date).getTime(),sshKey:e.sshKey,readOnly:s.value,maxHeadCount:t},async success(e){if("success"==e.status){const a=Dl()+"?cooperate="+e.data;await n(a),(0,q.z8)({message:Ke.global.t("协作链接已复制"),type:"success",grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER}),l.emit("handleCooperate",t),d()}else(0,q.z8)({message:Ke.global.t("协作Key生成失败"),type:e.status,grouping:!0,repeatNum:Number.MIN_SAFE_INTEGER})}})},u=()=>{s.value=!0,i.value=6,t.value=!1},d=e=>{setTimeout((()=>{u()}),400),t.value=!1,e&&e()};return{computedDialogVisible:a,DialogVisible:t,confirm:r,closeDialog:d,reset:u,isReadonly:s,maxHeadCount:i}}};const xn=(0,Xe.Z)(_n,[["render",bn],["__scopeId","data-v-13a2cd4d"]]);var Cn=xn;const Sn=e=>((0,c.dD)("data-v-ce097752"),e=e(),(0,c.Cn)(),e),Dn={class:"no-select"},In={class:"kk-flex",style:{height:"200px"}},Tn=Sn((()=>(0,c._)("div",{style:{"margin-left":"5px"}},null,-1))),zn={class:"kk-flex-column"},Wn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Vn=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),Un=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),En={key:0},Fn={key:1},An={key:2},Hn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),$n=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Rn={class:"kk-flex-column"},Nn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Bn=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),On=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),Kn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Mn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),jn={class:"kk-flex-column"},Pn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Ln=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),qn=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),Qn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Gn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Jn={class:"kk-flex-column"},Zn=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),Yn=Sn((()=>(0,c._)("div",null,"/",-1))),Xn=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),er=Sn((()=>(0,c._)("div",{style:{"margin-top":"10px"}},null,-1))),lr=Sn((()=>(0,c._)("div",{style:{flex:"1"}},null,-1))),tr=Sn((()=>(0,c._)("div",{style:{"margin-left":"5px"}},null,-1))),ar={key:1},or={style:{position:"relative"}},sr={style:{position:"absolute",top:"0",right:"0"}},ir={class:"a-link no-select"},nr={style:{position:"absolute",top:"0",left:"0"}},rr={class:"kk-flex"},ur={class:"kk-flex",style:{color:"#5a6fc0"}},dr=Sn((()=>(0,c._)("div",{style:{"margin-left":"10px"}},null,-1))),cr={class:"kk-flex",style:{color:"#9eca7f"}},pr={key:0},mr={style:{position:"relative"}},vr={style:{position:"absolute",top:"0",right:"0"}},gr={class:"a-link no-select"},fr={style:{position:"absolute",top:"0",left:"0"}},wr={class:"kk-flex"},yr={class:"kk-flex",style:{color:"#5a6fc0"}},kr=Sn((()=>(0,c._)("div",{style:{"margin-left":"10px"}},null,-1))),hr={class:"kk-flex",style:{color:"#9eca7f"}},br={key:0};function _r(e,l,t,a,o,s){const i=(0,c.up)("el-progress"),n=(0,c.up)("el-tab-pane"),r=(0,c.up)("el-table-column"),u=(0,c.up)("el-table"),p=(0,c.up)("NoData"),v=(0,c.up)("EChart"),g=(0,c.up)("arrow-down"),f=(0,c.up)("el-icon"),w=(0,c.up)("el-dropdown-item"),y=(0,c.up)("el-dropdown-menu"),k=(0,c.up)("el-dropdown"),h=(0,c.up)("SortUp"),b=(0,c.up)("SortDown"),_=(0,c.up)("el-tabs"),x=(0,c.up)("el-dialog");return(0,c.wg)(),(0,c.j4)(x,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[0]||(l[0]=e=>a.computedDialogVisible=e),"destroy-on-close":"",width:720,title:e.$t("监控"),modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",Dn,[(0,c.Wm)(_,{type:"border-card"},{default:(0,c.w5)((()=>[(0,c.Wm)(n,{label:e.$t("概览")},{default:(0,c.w5)((()=>[(0,c._)("div",In,[Tn,(0,c._)("div",zn,[Wn,(0,c._)("div",null,(0,m.zw)(e.$t("负载")),1),Vn,(0,c.Wm)(i,{color:s.calcStatus(a.statusInfo.overview.load),type:"circle",percentage:a.statusInfo.overview.load},null,8,["color","percentage"]),Un,a.statusInfo.overview.load<33.4?((0,c.wg)(),(0,c.iD)("div",En,(0,m.zw)(e.$t("运行流畅")),1)):a.statusInfo.overview.load<66.7?((0,c.wg)(),(0,c.iD)("div",Fn,(0,m.zw)(e.$t("运行缓慢")),1)):((0,c.wg)(),(0,c.iD)("div",An,(0,m.zw)(e.$t("运行堵塞")),1)),Hn]),$n,(0,c._)("div",Rn,[Nn,(0,c._)("div",null,(0,m.zw)(e.$t("CPU使用率")),1),Bn,(0,c.Wm)(i,{color:s.calcStatus(a.statusInfo.overview.cpu),type:"circle",percentage:a.statusInfo.overview.cpu},null,8,["color","percentage"]),On,(0,c._)("div",null,(0,m.zw)(a.statusInfo.overview.core)+" "+(0,m.zw)(e.$t("核心")),1),Kn]),Mn,(0,c._)("div",jn,[Pn,(0,c._)("div",null,(0,m.zw)(e.$t("内存使用率")),1),Ln,(0,c.Wm)(i,{color:s.calcStatus(100*a.statusInfo.overview.usedMemory/a.statusInfo.overview.totalMemory),type:"circle",percentage:s.calcNumber(100*a.statusInfo.overview.usedMemory/a.statusInfo.overview.totalMemory)},null,8,["color","percentage"]),qn,(0,c._)("div",null,(0,m.zw)(a.statusInfo.overview.usedMemory)+" / "+(0,m.zw)(a.statusInfo.overview.totalMemory)+" (MB)",1),Qn]),Gn,(0,c._)("div",Jn,[Zn,Yn,Xn,(0,c.Wm)(i,{color:s.calcStatus(100*a.statusInfo.overview.usedRoot/a.statusInfo.overview.totalRoot),type:"circle",percentage:s.calcNumber(100*a.statusInfo.overview.usedRoot/a.statusInfo.overview.totalRoot)},null,8,["color","percentage"]),er,(0,c._)("div",null,(0,m.zw)(s.calcNumber(a.statusInfo.overview.usedRoot/1024,2))+"G / "+(0,m.zw)(s.calcNumber(a.statusInfo.overview.totalRoot/1024,2))+"G",1),lr]),tr])])),_:1},8,["label"]),(0,c.Wm)(n,{label:e.$t("Top进程")},{default:(0,c.w5)((()=>[a.statusInfo.processes.length>0?((0,c.wg)(),(0,c.j4)(u,{key:0,style:{height:"200px",width:"100%"},data:a.statusInfo.processes,border:"",stripe:""},{default:(0,c.w5)((()=>[(0,c.Wm)(r,{prop:"pid",label:"PID",width:"80"}),(0,c.Wm)(r,{prop:"user",label:"User",width:"100"}),(0,c.Wm)(r,{prop:"cpu",label:"%CPU",width:"100"}),(0,c.Wm)(r,{prop:"mem",label:"%MEM",width:"100"}),(0,c.Wm)(r,{prop:"cmd",label:"Command"})])),_:1},8,["data"])):((0,c.wg)(),(0,c.iD)("div",ar,[(0,c.Wm)(p,{height:"200px",msg:"No Data"})]))])),_:1},8,["label"]),(0,c.Wm)(n,{label:e.$t("网络")},{default:(0,c.w5)((()=>[(0,c._)("div",or,[(0,c.wy)((0,c.Wm)(v,{style:{width:"650px",height:"200px"},ref:"networkEChartRef",legend:[e.$t("上行"),e.$t("下行")],yName:"KB/s"},null,8,["legend"]),[[d.F8,a.statusInfo.time.length>1]]),(0,c.wy)((0,c._)("div",sr,[(0,c.Wm)(k,{size:"small",style:{"margin-top":"2px","margin-right":"25px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(y,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.statusInfo.network,((e,l)=>((0,c.wg)(),(0,c.j4)(w,{key:e,class:"no-select",onClick:e=>{a.selectedNetwork=l,a.updateNetworkData()}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(l),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",ir,[(0,c.Uk)((0,m.zw)(a.selectedNetwork),1),(0,c.Wm)(f,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})])])),_:1})],512),[[d.F8,a.statusInfo.time.length>1]]),(0,c.wy)((0,c._)("div",nr,[(0,c._)("div",rr,[(0,c._)("div",ur,[(0,c.Wm)(f,null,{default:(0,c.w5)((()=>[(0,c.Wm)(h)])),_:1}),(0,c._)("div",null,(0,m.zw)((a.networkSeries[0].data[a.networkSeries[0].data.length-1]||0)+"K"),1)]),dr,(0,c._)("div",cr,[(0,c.Wm)(f,null,{default:(0,c.w5)((()=>[(0,c.Wm)(b)])),_:1}),(0,c._)("div",null,(0,m.zw)((a.networkSeries[1].data[a.networkSeries[1].data.length-1]||0)+"K"),1)])])],512),[[d.F8,a.statusInfo.time.length>1]])]),a.statusInfo.time.length<=1?((0,c.wg)(),(0,c.iD)("div",pr,[(0,c.Wm)(p,{height:"200px",msg:"No Data"})])):(0,c.kq)("",!0)])),_:1},8,["label"]),(0,c.Wm)(n,{label:e.$t("磁盘")},{default:(0,c.w5)((()=>[(0,c._)("div",mr,[(0,c.wy)((0,c.Wm)(v,{style:{width:"650px",height:"200px"},ref:"diskEChartRef",legend:[e.$t("读"),e.$t("写")],yName:"KB/s"},null,8,["legend"]),[[d.F8,a.statusInfo.time.length>1]]),(0,c.wy)((0,c._)("div",vr,[(0,c.Wm)(k,{size:"small",style:{"margin-top":"2px","margin-right":"25px"},"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(y,null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.statusInfo.disk,((e,l)=>((0,c.wg)(),(0,c.j4)(w,{key:e,class:"no-select",onClick:e=>{a.selectedDisk=l,a.updateDiskData()}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(l),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",gr,[(0,c.Uk)((0,m.zw)(a.selectedDisk),1),(0,c.Wm)(f,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(g)])),_:1})])])),_:1})],512),[[d.F8,a.statusInfo.time.length>1]]),(0,c.wy)((0,c._)("div",fr,[(0,c._)("div",wr,[(0,c._)("div",yr,[(0,c.Wm)(f,null,{default:(0,c.w5)((()=>[(0,c.Wm)(h)])),_:1}),(0,c._)("div",null,(0,m.zw)((a.diskSeries[0].data[a.diskSeries[0].data.length-1]||0)+"K"),1)]),kr,(0,c._)("div",hr,[(0,c.Wm)(f,null,{default:(0,c.w5)((()=>[(0,c.Wm)(b)])),_:1}),(0,c._)("div",null,(0,m.zw)((a.diskSeries[1].data[a.diskSeries[1].data.length-1]||0)+"K"),1)])])],512),[[d.F8,a.statusInfo.time.length>1]])]),a.statusInfo.time.length<=1?((0,c.wg)(),(0,c.iD)("div",br,[(0,c.Wm)(p,{height:"200px",msg:"No Data"})])):(0,c.kq)("",!0)])),_:1},8,["label"])])),_:1})])])),_:1},8,["modelValue","title","before-close"])}const xr=["success","warning","danger"],Cr=(e,l)=>{if(0===l)return xr[2];const t=e/l;return t<.34?xr[0]:t<.67?xr[1]:xr[2]},Sr=["#5fcb71","#dca550","#eb5851"],Dr=e=>{const l=Ir(e);return l<33.4?Sr[0]:l<66.7?Sr[1]:Sr[2]},Ir=(e,l=1)=>parseFloat(Number(e).toFixed(l)),Tr={"element-loading-text":"Loading...",ref:"echartRef"};function zr(e,l,t,a,o,s){const i=(0,c.Q2)("loading");return(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",Tr,null,512)),[[i,e.loading]])}var Wr=t(8313),Vr={name:"EChart",props:["legend","yName"],setup(e){const l=(0,L.iH)(!0),t=(0,L.iH)(),a={title:{text:""},tooltip:{trigger:"axis"},legend:{data:e.legend},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{name:e.yName,type:"value"},series:[]};let o=null;const s=(e,t)=>{a.xAxis.data=e,a.series=t,o&&(l.value=!0,o.setOption(a))};return(0,c.bv)((()=>{o=Wr.S1(t.value),o.on("rendered",(function(){l.value=!1})),l.value=!0,o.setOption(a),o.resize()})),{echartRef:t,update:s}}};const Ur=(0,Xe.Z)(Vr,[["render",zr],["__scopeId","data-v-ecb875be"]]);var Er=Ur,Fr={name:"StatusMonitor",methods:{calcNumber:Ir,calcStatus:Dr,calcTime:ds},components:{EChart:Er,NoData:ll,ArrowDown:$e.K5e,SortUp:$e.Ncu,SortDown:$e.laI},props:["sshKey","advance"],setup(e){const l=(0,L.iH)(!1),t=(0,c.Fl)((()=>l.value&&e.advance)),a=(0,L.iH)({overview:{load:0,cpu:0,core:0,usedMemory:0,totalMemory:1,usedRoot:0,totalRoot:1},processes:[],network:{},disk:{},time:[]}),s=(0,L.iH)("all"),i=(0,L.iH)("all"),n=()=>{o().ajax({url:ee+"/monitor",type:"post",data:{sshKey:e.sshKey},success(e){if("success"==e.status){const l=e.data.split("^"),t=l[0].split("@").map((e=>Ir(e))),o=l[1].split("$"),n=l[2].split("$"),r=l[3].split("$"),d=Number(l[4]),c={...a.value.network};for(let e=0;e<n.length;e++){const l=n[e].split("@"),t=l[0].substring(0,l[0].length-1);if(!c[t]){c[t]=[];for(let e=0;e<a.value.time.length;e++)c[t].push({totalUp:Number(l[1]),totalDown:Number(l[2])})}c[t].push({totalUp:Number(l[1]),totalDown:Number(l[2])})}c[s.value]||(s.value="all");const m={...a.value.disk};for(let e=0;e<r.length;e++){const l=r[e].split("@"),t=l[0];if(!m[t]){m[t]=[];for(let e=0;e<a.value.time.length;e++)m[t].push({totalRead:Number(l[1]),totalWrite:Number(l[2])})}m[t].push({totalRead:Number(l[1]),totalWrite:Number(l[2])})}m[i.value]||(i.value="all");const v=a.value.time;v.push(d),a.value={overview:{load:t[0],cpu:t[1],core:t[2],usedMemory:t[3],totalMemory:t[4],usedRoot:t[5],totalRoot:t[6]},processes:o.map((e=>{const l=e.split("@");return{pid:l[0],user:l[1],cpu:l[2],mem:l[3],cmd:l[4]}})),network:c,disk:m,time:v},u(),p()}}})},r=(0,c.Fl)((()=>{const e=a.value.time,l=a.value.network[s.value],t=l?l.map((e=>e.totalUp)):[],o=l?l.map((e=>e.totalDown)):[];return[{name:Ke.global.t("上行"),type:"line",data:t.slice(1).map(((l,a)=>Ir(1e3*Math.max(0,l-t[a])/(1024*(e[a+1]-e[a])),3)))},{name:Ke.global.t("下行"),type:"line",data:o.slice(1).map(((l,t)=>Ir(1e3*Math.max(0,l-o[t])/(1024*(e[t+1]-e[t])),3)))}]})),u=()=>{if(m.value){const e=a.value.time;m.value.update(e.slice(1).map(((l,t)=>ds(Math.floor((l+e[t])/2)))),r.value)}},d=(0,c.Fl)((()=>{const e=a.value.time,l=a.value.disk[i.value],t=l?l.map((e=>e.totalRead)):[],o=l?l.map((e=>e.totalWrite)):[];return[{name:Ke.global.t("读"),type:"line",data:t.slice(1).map(((l,a)=>Ir(1e3*Math.max(0,l-t[a])/(2*(e[a+1]-e[a])),3)))},{name:Ke.global.t("写"),type:"line",data:o.slice(1).map(((l,t)=>Ir(1e3*Math.max(0,l-o[t])/(2*(e[t+1]-e[t])),3)))}]})),p=()=>{if(v.value){const e=a.value.time;v.value.update(e.slice(1).map(((l,t)=>ds(Math.floor((l+e[t])/2)))),d.value)}},m=(0,L.iH)(),v=(0,L.iH)(),g=(0,L.iH)(null),f=6e3,w=()=>{null==g.value&&(setTimeout((()=>{n()}),0),g.value=setInterval((()=>{n()}),f))},y=()=>{null!=g.value&&(clearInterval(g.value),g.value=null)},k=(e=!1)=>{e&&(a.value={overview:{load:0,cpu:0,core:0,usedMemory:0,totalMemory:1,usedRoot:0,totalRoot:1},processes:[],network:{},disk:[],time:[]},s.value="all",i.value="all",y()),l.value=!1},h=e=>{setTimeout((()=>{k()}),400),l.value=!1,e&&e()},b=e=>{setTimeout((()=>{k(!0)}),400),l.value=!1,e&&e()};return{computedDialogVisible:t,DialogVisible:l,reset:k,closeDialog:h,deepCloseDialog:b,doMonitor:w,stopMonitor:y,statusInfo:a,networkEChartRef:m,diskEChartRef:v,selectedNetwork:s,selectedDisk:i,updateNetworkData:u,networkSeries:r,updateDiskData:p,diskSeries:d}}};const Ar=(0,Xe.Z)(Fr,[["render",_r],["__scopeId","data-v-ce097752"]]);var Hr=Ar,$r=t.p+"img/no_docker.58a9151c.png";const Rr={class:"no-select"},Nr={key:1},Br={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},Or={class:"a-link no-select"},Kr={key:1},Mr={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},jr={class:"a-link no-select"},Pr={key:1},Lr={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},qr={class:"a-link no-select"},Qr={key:1},Gr={key:2,class:"kk-flex",style:{height:"35px","margin-top":"5px"}},Jr={class:"a-link no-select"},Zr={key:1,"element-loading-text":"Loading..."},Yr={class:"kk-flex-column",style:{height:"311px"}},Xr=(0,c._)("div",{style:{flex:"1"}},null,-1),eu=(0,c._)("div",null,[(0,c._)("img",{style:{height:"160px"},src:$r})],-1),lu={class:"kk-flex",style:{"margin-top":"25px"}},tu=(0,c._)("div",{style:{flex:"1"}},null,-1);function au(e,l,t,a,o,s){const i=(0,c.up)("el-table-column"),n=(0,c.up)("el-table"),r=(0,c.up)("NoData"),u=(0,c.up)("arrow-down"),d=(0,c.up)("el-icon"),p=(0,c.up)("el-dropdown-item"),v=(0,c.up)("el-dropdown-menu"),g=(0,c.up)("el-dropdown"),f=(0,c.up)("el-button"),w=(0,c.up)("el-tab-pane"),y=(0,c.up)("el-tabs"),k=(0,c.up)("el-dialog"),h=(0,c.Q2)("loading");return(0,c.wg)(),(0,c.j4)(k,{modelValue:a.computedDialogVisible,"onUpdate:modelValue":l[7]||(l[7]=e=>a.computedDialogVisible=e),"destroy-on-close":"",width:750,title:"Docker",modal:!1,"modal-class":"kk-dialog-class","header-class":"kk-header-class","body-class":"kk-body-class-6","before-close":a.closeDialog,draggable:""},{default:(0,c.w5)((()=>[(0,c._)("div",Rr,[!1===a.noDocker?(0,c.wy)(((0,c.wg)(),(0,c.j4)(y,{key:0,"element-loading-text":"Loading...",onTabClick:a.handleTabClick,type:"border-card"},{default:(0,c.w5)((()=>[(0,c.Wm)(w,{label:e.$t("容器")},{default:(0,c.w5)((()=>[a.dockerInfo.container.length>0?((0,c.wg)(),(0,c.j4)(n,{key:0,style:{height:"200px",width:"100%"},data:a.dockerInfo.container,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{"show-overflow-tooltip":"",type:"selection",selectable:e.selectable,width:"40"},null,8,["selectable"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"id",label:"ID",width:"130"}),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"120"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"status",label:e.$t("状态"),width:"80"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"image",label:e.$t("镜像"),width:"140"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"port",label:e.$t("端口")},null,8,["label"])])),_:1},8,["data","onSelectionChange"])):((0,c.wg)(),(0,c.iD)("div",Nr,[(0,c.Wm)(r,{height:"240px",msg:"No Data"})])),a.dockerInfo.container.length>0?((0,c.wg)(),(0,c.iD)("div",Br,[(0,c.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(v,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p,{class:"no-select",onClick:l[0]||(l[0]=e=>a.containerType=1)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.containerTypeArr[1])),1)])),_:1}),(0,c.Wm)(p,{class:"no-select",onClick:l[1]||(l[1]=e=>a.containerType=2)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.containerTypeArr[2])),1)])),_:1}),(0,c.Wm)(p,{class:"no-select",onClick:l[2]||(l[2]=e=>a.containerType=3)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.containerTypeArr[3])),1)])),_:1}),(0,c.Wm)(p,{class:"no-select",onClick:l[3]||(l[3]=e=>a.containerType=4)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.containerTypeArr[4])),1)])),_:1})])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",Or,[(0,c.Uk)((0,m.zw)(e.$t(a.containerTypeArr[a.containerType%a.containerTypeArr.length])),1),(0,c.Wm)(d,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])])),_:1}),(0,c.Wm)(f,{disabled:!(a.selectedItems.length>0&&0!=a.containerType),size:"small",type:"primary",onClick:a.operateConfirm,style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,c.kq)("",!0)])),_:1},8,["label"]),(0,c.Wm)(w,{label:e.$t("镜像")},{default:(0,c.w5)((()=>[a.dockerInfo.image.length>0?((0,c.wg)(),(0,c.j4)(n,{key:0,style:{height:"200px",width:"100%"},data:a.dockerInfo.image,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{type:"selection",selectable:e.selectable,width:"40"},null,8,["selectable"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"id",label:"ID",width:"130"}),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"repository",label:e.$t("仓库")},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"size",label:e.$t("大小"),width:"100"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["data","onSelectionChange"])):((0,c.wg)(),(0,c.iD)("div",Kr,[(0,c.Wm)(r,{height:"240px",msg:"No Data"})])),a.dockerInfo.image.length>0?((0,c.wg)(),(0,c.iD)("div",Mr,[(0,c.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(v,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p,{class:"no-select",onClick:l[4]||(l[4]=e=>a.deleteType=1)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[1])),1)])),_:1})])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",jr,[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[a.deleteType%a.deleteTypeArr.length])),1),(0,c.Wm)(d,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])])),_:1}),(0,c.Wm)(f,{disabled:!(a.selectedItems.length>0&&0!=a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,c.kq)("",!0)])),_:1},8,["label"]),(0,c.Wm)(w,{label:e.$t("网络")},{default:(0,c.w5)((()=>[a.dockerInfo.network.length>0?((0,c.wg)(),(0,c.j4)(n,{key:0,style:{height:"200px",width:"100%"},data:a.dockerInfo.network,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{type:"selection",selectable:e.selectable,width:"40"},null,8,["selectable"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"140"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"ip",label:"IP"}),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"gateway",label:e.$t("网关"),width:"120"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["data","onSelectionChange"])):((0,c.wg)(),(0,c.iD)("div",Pr,[(0,c.Wm)(r,{height:"240px",msg:"No Data"})])),a.dockerInfo.network.length>0?((0,c.wg)(),(0,c.iD)("div",Lr,[(0,c.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(v,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p,{class:"no-select",onClick:l[5]||(l[5]=e=>a.deleteType=2)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[2])),1)])),_:1})])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",qr,[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[a.deleteType%a.deleteTypeArr.length])),1),(0,c.Wm)(d,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])])),_:1}),(0,c.Wm)(f,{disabled:!(a.selectedItems.length>0&&0!=a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,c.kq)("",!0)])),_:1},8,["label"]),(0,c.Wm)(w,{label:e.$t("数据卷")},{default:(0,c.w5)((()=>[a.dockerInfo.volume.length>0?((0,c.wg)(),(0,c.j4)(n,{key:0,style:{height:"200px",width:"100%"},data:a.dockerInfo.volume,onSelectionChange:a.tableSelect,border:"",stripe:""},{default:(0,c.w5)((()=>[(0,c.Wm)(i,{type:"selection",selectable:e.selectable,width:"40"},null,8,["selectable"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"name",label:e.$t("名称"),width:"140"},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"mount",label:e.$t("挂载点")},null,8,["label"]),(0,c.Wm)(i,{"show-overflow-tooltip":"",prop:"createTime",label:e.$t("创建时间"),width:"140",sortable:""},null,8,["label"])])),_:1},8,["data","onSelectionChange"])):((0,c.wg)(),(0,c.iD)("div",Qr,[(0,c.Wm)(r,{height:"240px",msg:"No Data"})])),a.dockerInfo.volume.length>0?((0,c.wg)(),(0,c.iD)("div",Gr,[(0,c.Wm)(g,{"hide-timeout":"300"},{dropdown:(0,c.w5)((()=>[(0,c.Wm)(v,null,{default:(0,c.w5)((()=>[(0,c.Wm)(p,{class:"no-select",onClick:l[6]||(l[6]=e=>a.deleteType=3)},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[3])),1)])),_:1})])),_:1})])),default:(0,c.w5)((()=>[(0,c._)("span",Jr,[(0,c.Uk)((0,m.zw)(e.$t(a.deleteTypeArr[a.deleteType%a.deleteTypeArr.length])),1),(0,c.Wm)(d,{class:"el-icon--right"},{default:(0,c.w5)((()=>[(0,c.Wm)(u)])),_:1})])])),_:1}),(0,c.Wm)(f,{disabled:!(a.selectedItems.length>0&&0!=a.deleteType),size:"small",type:"primary",onClick:a.deleteConfirm,style:{"margin-left":"10px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("确定")),1)])),_:1},8,["disabled","onClick"])])):(0,c.kq)("",!0)])),_:1},8,["label"])])),_:1},8,["onTabClick"])),[[h,a.loading]]):(0,c.wy)(((0,c.wg)(),(0,c.iD)("div",Zr,[(0,c._)("div",Yr,[Xr,eu,(0,c._)("div",lu,[(0,c._)("div",null,(0,m.zw)(e.$t("Docker未安装?")),1),(0,c._)("div",null,[(0,c.Wm)(f,{size:"small",type:"primary",onClick:a.installDocker,style:{"margin-left":"15px"}},{default:(0,c.w5)((()=>[(0,c.Uk)((0,m.zw)(e.$t("安装")),1)])),_:1},8,["onClick"])])]),tu])])),[[h,a.loading]])])])),_:1},8,["modelValue","before-close"])}var ou={name:"DockerBlock",components:{NoData:ll,ArrowDown:$e.K5e},props:["sshKey","advance"],setup(e,l){const t=(0,L.iH)(!1),a=(0,c.Fl)((()=>t.value&&e.advance)),s=(0,L.iH)(!1),i=(0,L.iH)([]),n=e=>{i.value=e},r=(0,L.iH)(!0),u=(0,L.iH)({container:[],image:[],network:[],volume:[]}),d=e=>{s.value=!0,o().ajax({url:ee+"/docker/version",type:"post",data:{sshKey:e},success(e){"success"==e.status?(r.value=!1,m({index:0})):(r.value=!0,s.value=!1)}})},p=l=>{const t=(l||0)%4;o().ajax({url:ee+"/docker/info",type:"post",data:{sshKey:e.sshKey,type:t},success(e){if("success"==e.status){r.value=!1;let l=u.value.container,a=u.value.image,o=u.value.network,s=u.value.volume;if(0==t){const t=e.data&&"null"!=e.data?e.data.split("$"):[];l=[];for(let e=0;e<t.length;e++){const a=t[e].split("@");l.push({id:a[0],name:a[1],status:a[2],image:a[3],port:a[4]})}}else if(1==t){const l=e.data&&"null"!=e.data?e.data.split("$"):[];a=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");a.push({id:t[0],repository:t[1],size:t[2],createTime:t[3].split(" ")[0].substring(0,10)})}}else if(2==t){const l=e.data&&"null"!=e.data?e.data.split("$"):[];o=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");o.push({name:t[0],ip:t[1],gateway:t[2],createTime:t[3].split(" ")[0].substring(0,10)})}}else if(3==t){const l=e.data&&"null"!=e.data?e.data.split("$"):[];s=[];for(let e=0;e<l.length;e++){const t=l[e].split("@");s.push({name:t[0],mount:t[1],createTime:t[2].split(" ")[0].substring(0,10)})}}u.value={container:l,image:a,network:o,volume:s}}s.value=!1}})},m=e=>{s.value=!0,i.value=[],v.value=0,g.value=0,p(e.index)},v=(0,L.iH)(0),g=(0,L.iH)(0),f=[Ke.global.k("选择批量操作"),Ke.global.k("启动容器"),Ke.global.k("停止容器"),Ke.global.k("重启容器"),Ke.global.k("删除容器")],w=[Ke.global.k("选择批量操作"),Ke.global.k("删除镜像"),Ke.global.k("删除网络"),Ke.global.k("删除数据卷")],y=()=>{s.value=!0;const l=v.value-1;o().ajax({url:ee+"/docker/container",type:"post",data:{sshKey:e.sshKey,type:l,items:i.value.map((e=>e.id||e.name)).join(" ")},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),m({index:0}),i.value=[],s.value=!1}})},k=()=>{s.value=!0;const l=g.value;o().ajax({url:ee+"/docker/delete",type:"post",data:{sshKey:e.sshKey,type:l,items:i.value.map((e=>e.id||e.name)).join(" ")},success(e){(0,q.z8)({message:e.info,type:e.status,grouping:!0}),m({index:l}),i.value=[],s.value=!1}})},h=()=>{Me(Ke.global.t("提示"),Ke.global.t("确定进行此操作吗?"),y)},b=()=>{Me(Ke.global.t("提示"),Ke.global.t("确定进行此操作吗?"),k)},_=()=>{l.emit("install","curl -fsSL https://get.docker.com -o get-docker.sh && sudo sh get-docker.sh\n"),S()},x=(e=!1)=>{e&&(r.value=!0,u.value={container:[],image:[],network:[],volume:[]}),v.value=0,g.value=0,i.value=[],s.value=!1,t.value=!1},C=e=>{setTimeout((()=>{x()}),400),t.value=!1,e&&e()},S=e=>{setTimeout((()=>{x(!0)}),400),t.value=!1,e&&e()};return{computedDialogVisible:a,DialogVisible:t,reset:x,closeDialog:C,deepCloseDialog:S,noDocker:r,getDockerVersion:d,dockerInfo:u,getDockerInfo:p,handleTabClick:m,loading:s,installDocker:_,tableSelect:n,containerType:v,deleteType:g,selectedItems:i,containerTypeArr:f,deleteTypeArr:w,operateConfirm:h,deleteConfirm:b}}};const su=(0,Xe.Z)(ou,[["render",au]]);var iu=su;const nu=()=>{localStorage.getItem("user")||localStorage.setItem("user",r(crypto.randomUUID()+"@"+ae(16)+"@"+(new Date).getTime()));const e=u(localStorage.getItem("user")).split("@");return{name:e[0],key:e[1],time:Number(e[2])}},ru=async(e,l,t)=>{if(!t)return;const a=nu(),s=new Blob([r(t,a.key)],{type:"application/octet-stream"}),i=new File([s],l);let n=new FormData;n.append("user",a.name),n.append("type",e),n.append("name",l),n.append("file",i),await o().ajax({url:ee+"/cloud",type:"post",data:n,contentType:!1,processData:!1,success(e){"success"!=e.status&&(506==e.code?(0,q.z8)({message:Ke.global.t("云端文件过多"),type:e.status,grouping:!0}):(0,q.z8)({message:Ke.global.t("云端同步失败"),type:e.status,grouping:!0}))}})},uu=async e=>{const l=nu();let t=null;return await o().ajax({url:ee+"/load",method:"GET",data:{time:(new Date).getTime(),user:l.name,fileName:e},success(e){"success"==e.status?t=JSON.parse(u(e.data,l.key)):(0,q.z8)({message:Ke.global.t("云端文件加载失败"),type:e.status,grouping:!0})}}),t},du=["options","tcodes"],cu=864e5,pu=async()=>{const e=nu();if(!((new Date).getTime()-e.time<cu))for(let l=0;l<du.length;l++){const e=u(localStorage.getItem(du[l]));await ru(du[l],"",e)}},mu=async()=>{for(let e=0;e<du.length;e++){const l=await uu(du[e]);l&&localStorage.setItem(du[e],r(JSON.stringify(l)))}window.location.reload()};var vu={name:"FrameWork",components:{DockerBlock:iu,ConnectSetting:$l,StyleSetting:St,FileBlock:Js,UserTcode:gi,HelpTcode:rn,CooperateGen:Cn,StatusMonitor:Hr,QuestionFilled:$e.Ruj,VideoPlay:$e.GhU,VideoPause:$e.lBU,MostlyCloudy:$e.UBh,ArrowRight:$e.olP,UserFilled:$e.wvC},setup(){const e=(0,L.iH)({Fail:"Fail to connect remote server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to remote server ...\r\n",Disconnected:"Disconnect to remote server.\r\n",End:"This Cooperation is Ended.\r\n"}),l=(0,L.iH)(e.value["Connecting"]),t=(0,c.FN)(),{toClipboard:a}=(0,P.Z)(),s=new G.FitAddon,i=(0,L.iH)(!1),n=(0,L.iH)(""),d=(0,L.iH)([]),p=()=>{n.value=crypto.randomUUID(),d.value=[],d.value.push({time:(new Date).getTime(),content:"Record "+n.value+" Start.\r\n"}),i.value=!0},m=async()=>{i.value=!1,d.value.push({time:(new Date).getTime(),content:"\r\nRecord "+n.value+" Over."}),await ru("record-",n.value,JSON.stringify(d.value)),await a(Dl()+"?record="+n.value),(0,q.z8)({message:Ke.global.t("录像链接已复制"),type:"success",grouping:!0})},v=e=>{const l=d.value[e];l&&V(l.content);const t=d.value[e+1];t&&setTimeout((()=>{v(e+1)}),t.time-l.time)},g=()=>{Me(Ke.global.t("提示"),Ke.global.t("确定从云端覆盖本地数据吗?"),mu)},f=(0,L.iH)({}),w=(0,L.iH)({}),y=()=>{localStorage.getItem("options")?w.value=JSON.parse(u(localStorage.getItem("options"))):w.value={}};y();const k=(0,L.iH)({}),h=()=>{k.value={},localStorage.getItem("tcodes")&&(k.value=JSON.parse(u(localStorage.getItem("tcodes")))),setTimeout((()=>{Ce.value.userTCodes={...k.value}}),1)};h();const b=(0,L.iH)(J),_=(0,L.iH)(Sl()),x=()=>{localStorage.getItem("env")&&(b.value={...b.value,...JSON.parse(u(localStorage.getItem("env")))}),_.value.bg&&"#"!=_.value.bg[0]&&(_.value.bg="#"+_.value.bg),_.value.fg&&"#"!=_.value.fg[0]&&(_.value.fg="#"+_.value.fg),"true"===_.value.cursorBlink?_.value.cursorBlink=!0:"false"===_.value.cursorBlink&&(_.value.cursorBlink=!1),"true"===_.value.tCode?_.value.tCode=!0:"false"===_.value.tCode&&(_.value.tCode=!1),"true"===_.value.cloud?_.value.cloud=!0:"false"===_.value.cloud&&(_.value.cloud=!1);for(const l in _.value)l in b.value&&-1==l.lastIndexOf("_")&&(b.value[l]=_.value[l]);let e=w.value[b.value["option"]];e?b.value={...b.value,...e}:b.value.option="",_.value.option=b.value.option,_.value.record?("headless"!=_.value.mode&&"pure"!=_.value.mode&&(_.value.mode="pure"),l.value=""):_.value.record="",_.value.cooperate?"headless"!=_.value.mode&&"pure"!=_.value.mode&&(_.value.mode="pure"):_.value.cooperate="",Ke.global.locale=b.value.lang||"en"};x();const C=(e,l)=>{e&&(w.value={...w.value,[e]:l}),localStorage.setItem("options",r(JSON.stringify(w.value))),y()},S=e=>{delete w.value[e],C(null,null),b.value.option&&b.value.option==e&&ne({option:""},!1)},D=(0,L.iH)();let I=null;const T=(0,L.iH)(!0),z=()=>{I=new Q.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:b.value.cursorStyle,cursorBlink:b.value.cursorBlink,theme:{foreground:b.value.fg,background:b.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:b.value.fontFamily,fontSize:b.value.fontSize}),I.loadAddon(s)},W=()=>{if(D.value.style.height=window.innerHeight-("headless"!=_.value.mode?25:0)+"px",s.fit(),N.value&&N.value.readyState==WebSocket.OPEN&&I){const e=s.proposeDimensions().rows,l=s.proposeDimensions().cols;N.value.send(r(JSON.stringify({type:1,content:"",rows:e,cols:l}))),I.resize(l,e)}},V=e=>{I.write(e),I.options.scrollback+=I._core.buffer.lines.length},U=(0,L.iH)(!1),E=(0,L.iH)(0),F=(0,L.iH)(0),A=e=>{F.value=e,U.value=!0},H=()=>{o().ajax({url:ee+"/cooperate/end",type:"post",data:{sshKey:R.value},async success(e){"success"==e.status&&(F.value=0,U.value=!1),(0,q.z8)({message:e.info,type:e.status})}})},$=()=>{Me(Ke.global.t("提示"),Ke.global.t("确定结束此次协作吗?"),H)},R=(0,L.iH)(""),N=(0,L.iH)(null),B=()=>{N.value=new WebSocket(X+le(r(JSON.stringify({...b.value,cooperateKey:_.value.cooperate})))),N.value.onopen=()=>{W()},N.value.onmessage=t=>{let a=JSON.parse(t.data);if(-2==a.code)I.clear(),l.value=e.value["Fail"],V(a.info+".\n");else if(-1==a.code)I.clear(),l.value=e.value["Fail"],V(l.value),setTimeout((()=>{me(1)}),400);else if(0==a.code){if(I.clear(),l.value=e.value["Success"],setTimeout((()=>{W()}),1),_.value.cooperate)return void V(a.info+".\n");R.value=u(a.data),_.value.cmd&&re(_.value.cmd+"\n"),b.value.advance&&"root"===b.value.server_user&&se.value&&se.value.doMonitor(),b.value.advance&&ie.value&&ie.value.getDockerVersion(R.value)}else if(1==a.code){let e=u(a.data);ao.active&&ao.outArray.push(e),i.value&&d.value.push({time:(new Date).getTime(),content:e}),ao.active&&!ao.display||V(e)}else 2==a.code&&(E.value=Number(u(a.data)))},N.value.onclose=t=>{if(l.value==e.value["Success"]&&3333!=t.code){if(R.value="",_.value.cooperate)return l.value=e.value["End"],void V("\r\n"+l.value);fe(),l.value=e.value["Disconnected"],V("\r\n"+l.value)}he()}},O=(0,L.iH)(!1),K=(0,L.iH)(!1),M=e=>{O.value=e,K.value=!1,Z(!1)};let j=null;const Z=e=>{j&&clearTimeout(j),K.value!=e&&(j=setTimeout((()=>{K.value=e}),400))},Y=(0,L.iH)(),te=(0,L.iH)(),ae=(0,L.iH)(),oe=(0,L.iH)(),se=(0,L.iH)(),ie=(0,L.iH)(),ne=(e,l=!0)=>{let t=J;localStorage.getItem("env")&&(t={...t,...JSON.parse(u(localStorage.getItem("env")))}),t={...t,...e},localStorage.setItem("env",r(JSON.stringify(t)));for(const a in e)a in _.value&&(_.value[a]=e[a]);l&&me(3)},re=(e,l=!1)=>{N.value&&(T.value&&(W(),T.value=!1),ao.active===l&&N.value.send(r(JSON.stringify({type:0,content:e,rows:0,cols:0}))))},ue=e=>{e.preventDefault(),re(e.target.value),e.target.value=""},de=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();re(l)},ce=()=>{M(!1)},pe=()=>{I&&D.value&&(D.value.removeEventListener("contextmenu",de),D.value.removeEventListener("compositionend",ue),D.value.removeEventListener("click",ce)),D.value.innerHTML="",T.value=!0,x(),z(),I.open(D.value),W(),D.value.addEventListener("compositionend",ue),I.onKey((e=>{re(e.key)})),I.onSelectionChange((async()=>{if(I.hasSelection()){let e=I.getSelection(),l=e.trim();l&&""!=l&&await a(e)}})),D.value.addEventListener("contextmenu",de),D.value.addEventListener("click",ce),V(l.value)},me=t=>{1==t?(M(!1),Y.value.DialogVisible=!0):2==t?(M(!1),te.value.DialogVisible=!0):3==t?(M(!1),l.value=e.value["Connecting"],R.value="",N.value&&N.value.close(3333),fe(),pe(),B()):4==t?(M(!1),ae.value.getInitDir(),ae.value.DialogVisible=!0):5==t?(O.value=!0,K.value=!0,Z(!0)):6==t?(M(!1),oe.value.DialogVisible=!0):7==t?(M(!1),se.value.DialogVisible=!0):8==t&&(M(!1),ie.value.DialogVisible=!0)};let ve=null;const ge=()=>{null==ve&&(ve=setInterval((()=>{N.value&&N.value.readyState==WebSocket.OPEN&&N.value.send(r(JSON.stringify({type:2,content:"",rows:0,cols:0}))),"Linux"!=f.value.serverOS&&o().ajax({url:ee+"/beat",type:"post",data:{windowId:f.value.windowId},success(){}})}),25e3))},fe=()=>{ae.value&&ae.value.deepCloseDialog(),oe.value&&oe.value.closeDialog(),U.value=!1,E.value=0,F.value=0,se.value&&se.value.deepCloseDialog(),ie.value&&ie.value.deepCloseDialog()},we=(e,l)=>{k.value[e].status=l,localStorage.setItem("tcodes",r(JSON.stringify(k.value))),setTimeout((()=>{Ce.value.userTCodes={...k.value}}),1)},ye=(0,L.iH)(""),ke=async()=>{if(!ye.value||ye.value.length<2)return;let e=ye.value.toUpperCase();if(ye.value="","/"==e[0]&&lo[e])lo[e].execFlow(t);else if("S"==e[0]&&to[e])to[e].execFlow(t);else if("U"==e[0]&&k.value[e])if(ao.writeOnly||(ao.writeOnly=re),0==ao.active){if(he(),ao.active=!0,!k.value[e].execFlow||!(k.value[e].execFlow instanceof Function)){let t=k.value[e].workflow.toString();try{k.value[e].execFlow=new Function("kkTerminal",`return (async function() { ${t} })()`)}catch(l){return we(e,"Compile Error"),(0,q.z8)({message:"TCode-"+e+" "+Ke.global.t("编译错误：")+l,type:"error",grouping:!0}),void he()}}try{await k.value[e].execFlow(ao),(0,q.z8)({message:"TCode-"+e+" "+Ke.global.t("工作流结束"),type:"success",grouping:!0}),we(e,"Execute Success")}catch(l){(0,q.z8)({message:"TCode-"+e+" "+Ke.global.t("执行中断：")+l,type:"warning",grouping:!0}),we(e,"Execute Interrupt")}finally{he()}}else(0,q.z8)({message:Ke.global.t("其它TCode正在执行"),type:"warning",grouping:!0});else"/"==e[0]||"S"==e[0]||"U"==e[0]?(0,q.z8)({message:"TCode-"+e+Ke.global.t("不存在"),type:"warning",grouping:!0}):(0,q.z8)({message:Ke.global.t("TCode必须以 /,S,U 开头"),type:"warning",grouping:!0})},he=()=>{ao.active=!1,ao.display=!0,ao.outArray=[],ao.cnt=0},be=(0,L.iH)(),_e=e=>{let l={};l={...k.value,...e},localStorage.setItem("tcodes",r(JSON.stringify(l))),h()},xe=()=>{let e={};localStorage.getItem("tcodes")&&(e=JSON.parse(u(localStorage.getItem("tcodes"))));const l=new Blob([JSON.stringify(e,null,4)],{type:"text/plain"}),t=URL.createObjectURL(l),a=document.createElement("a");a.href=t,a.download="TCode.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},Ce=(0,L.iH)(),Se=(e,l)=>{let t={};t[e]={desc:k.value[e].desc||"",workflow:l||"",status:"Not Active"},_e(t)},De=e=>{delete k.value[e],_e({})},Ie=()=>{window.addEventListener("resize",(()=>{ae.value&&(ae.value.isShowMenu=!1,ae.value.isShowPop=!1),W()}))},Te=e=>{re(e)};return(0,c.bv)((async()=>{if(pe(),_.value.record)return Ie(),d.value=await uu("record-"+_.value.record),void(d.value&&v(0));b.value.cloud&&pu(),o().ajax({url:ee+"/init",type:"get",data:{time:(new Date).getTime()},success(e){f.value={...e.data},B(),Ie(),ge()}})})),(0,c.Ah)((()=>{I&&D.value&&(D.value.removeEventListener("contextmenu",de),D.value.removeEventListener("compositionend",ue),D.value.removeEventListener("click",ce)),ve&&clearInterval(ve)})),{recording:i,startRecord:p,stopRecord:m,cloudSync:g,env:b,urlParams:_,options:w,now_connect_status:l,connect_status:e,terminal:D,doSSHConnect:B,socket:N,showAdvance:Z,showSettings:M,isShowSetting:O,isShowAdvance:K,doSettings:me,connectSettingRef:Y,styleSettingRef:te,fileBlockRef:ae,cooperateGenRef:oe,statusMonitorRef:se,dockerBlockRef:ie,saveEnv:ne,sshKey:R,doHeartBeat:ge,saveOp:C,deleteOp:S,tcode:ye,handleTcode:ke,closeBlock:fe,resetTerminal:pe,tcodes:k,userTcodeRef:be,sendMessage:re,importTCodes:_e,exportTcodes:xe,helpTcodeRef:Ce,handleSaveTCode:Se,handleDeleteTCode:De,osInfo:f,cooperating:U,onlineNumber:E,maxNumber:F,handleCooperate:A,endCooperateConfirm:$,calcType:Cr,installDocker:Te}}};const gu=(0,Xe.Z)(vu,[["render",j],["__scopeId","data-v-a9b07428"]]);var fu=gu,wu={name:"App",components:{FrameWork:fu}};const yu=(0,Xe.Z)(wu,[["render",p]]);var ku=yu,hu=(t(4415),t(3441)),bu=t(7086),_u=t(1015),xu=t(5133),Cu=t(6497),Su=t(1179),Du=t(881),Iu=t(9695),Tu=t(3509),zu=t(1745),Wu=t(1932),Vu=t(6164),Uu=t(5410),Eu=t(8631),Fu=t(4775),Au=t(3838),Hu=t(7919),$u=t(1902),Ru=t(2563),Nu=t(5097);o().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(u(e.data))),JSON.stringify(e)}});const Bu=(0,d.ri)(ku);Bu.use(hu.ElButton).use(bu.d0).use(_u.gn).use(xu.EZ).use(Cu.LW).use(Su.$).use(Du.Ub).use(Du.p8).use(Iu.b9).use(Tu.Q0).use(zu.ElCheckbox).use(Wu.Xh).use(Vu.eI),Bu.use(Uu.YK).use(Uu.o2).use(Uu.Df).use(Eu.OX).use(Fu.kN).use(Au.KD).use(Au.rh).use(Hu.$t).use($u.Ks).use(Ru.i1).use(Nu.d6),Bu.use(Ke),Bu.mount("#app");const Ou=(e,l)=>{let t=null;return function(){let a=this,o=arguments;clearTimeout(t),t=setTimeout((function(){e.apply(a,o)}),l)}},Ku=window.ResizeObserver;window.ResizeObserver=class extends Ku{constructor(e){e=Ou(e,16),super(e)}},Bu.config.warnHandler=()=>{}},2480:function(){},5832:function(){}},l={};function t(a){var o=l[a];if(void 0!==o)return o.exports;var s=l[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,function(){t.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];t.O=function(l,a,o,s){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],s=e[d][2];for(var n=!0,r=0;r<a.length;r++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(n=!1,s<i&&(i=s));if(n){e.splice(d--,1);var u=o();void 0!==u&&(l=u)}}return l}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,o,s]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,a){var o,s,i=a[0],n=a[1],r=a[2],u=0;if(i.some((function(l){return 0!==e[l]}))){for(o in n)t.o(n,o)&&(t.m[o]=n[o]);if(r)var d=r(t)}for(l&&l(a);u<i.length;u++)s=i[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},a=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(8751)}));a=t.O(a)})();