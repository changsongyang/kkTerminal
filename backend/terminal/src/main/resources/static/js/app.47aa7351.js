(function(){var e={2937:function(e,l,n){"use strict";var o=n(9242),t=n(3396);function a(e,l,n,o,a,i){const s=(0,t.up)("FrameWork");return(0,t.wg)(),(0,t.j4)(s)}var i="data:image/png;base64,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";const s=e=>((0,t.dD)("data-v-093bf22b"),e=e(),(0,t.Cn)(),e),r={class:"golbal"},u={class:"setting"},c=s((()=>(0,t._)("div",null,"连接设置",-1))),d=[c],v=s((()=>(0,t._)("div",null,"偏好设置",-1))),p=[v],m=s((()=>(0,t._)("div",null,"文件管理",-1))),g=[m],f=s((()=>(0,t._)("div",null,"重启",-1))),y=[f],w={class:"bar"},k=s((()=>(0,t._)("img",{src:i,alt:"终端",style:{height:"16px",margin:"0 7px",cursor:"pointer"}},null,-1))),_=[k],C=s((()=>(0,t._)("div",{style:{"user-select":"none","font-size":"14px"}},[(0,t._)("span",null,"kk Terminal")],-1))),h={ref:"terminal",class:"terminal-class"};function I(e,l,n,a,i,s){const c=(0,t.up)("ConnectSetting"),v=(0,t.up)("StyleSetting"),m=(0,t.up)("FileBlock");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r,[(0,t.wy)((0,t._)("div",u,[(0,t._)("div",{class:"setting-menu no-select",onClick:l[0]||(l[0]=e=>a.doSettings(1))},d),(0,t._)("div",{class:"setting-menu no-select",onClick:l[1]||(l[1]=e=>a.doSettings(2))},p),(0,t._)("div",{class:"setting-menu no-select",onClick:l[2]||(l[2]=e=>a.doSettings(4))},g),(0,t._)("div",{class:"setting-menu no-select",onClick:l[3]||(l[3]=e=>a.doSettings(3))},y)],512),[[o.F8,a.isShowSetting]]),(0,t._)("div",w,[(0,t._)("div",{style:{"user-select":"none"},onClick:l[4]||(l[4]=(...e)=>a.showSettings&&a.showSettings(...e))},_),C]),(0,t._)("div",h,null,512)]),(0,t.Wm)(c,{ref:"connectSettingRef",env:a.env,sshOptions:a.options,onSaveOp:a.saveOp,onCallback:a.saveEnv},null,8,["env","sshOptions","onSaveOp","onCallback"]),(0,t.Wm)(v,{ref:"styleSettingRef",env:a.env,onCallback:a.saveEnv},null,8,["env","onCallback"]),(0,t.Wm)(m,{ref:"fileBlockRef",sshKey:a.sshKey},null,8,["sshKey"])],64)}var b=n(7071),E=n(4870),S=n(8082),B=n.n(S);const A="P5P1SIqVe6kaOxMX";function D(e){var l=B().enc.Utf8.parse(A),n=B().enc.Utf8.parse(e),o=B().AES.encrypt(n,l,{mode:B().mode.ECB,padding:B().pad.Pkcs7});return o.toString()}function x(e){var l=B().enc.Utf8.parse(A),n=B().AES.decrypt(e,l,{mode:B().mode.ECB,padding:B().pad.Pkcs7});return B().enc.Utf8.stringify(n).toString()}var V=n(6537),O=n(7114);const Q={server_ip:"",server_port:22,server_user:"root",server_password:"",option:"",bg:"#0c0c0c",fg:"#f2f2f2",fontFamily:"Monospace",fontSize:16,cursorStyle:"block",cursorBlink:!0};let H=window.location.protocol,F="";F="https:"==H?"wss://":"ws://";const U=F+window.location.host+"/socket/ssh/",W=H+"//"+window.location.host+"/api";function z(e){let l="";for(let n=0;n<e.length;n++)"/"!=e[n]?l+=e[n]:l+="@";return l}var J=n(7139);const j=e=>((0,t.dD)("data-v-6ef906de"),e=e(),(0,t.Cn)(),e),M=j((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1))),N={class:"item-class",style:{"margin-bottom":"15px"}},T=j((()=>(0,t._)("div",{class:"no-select"},"配   置：",-1))),R=j((()=>(0,t._)("div",{style:{flex:"1"}},null,-1))),G={class:"item-class",style:{"margin-bottom":"15px"}},Z=j((()=>(0,t._)("div",{class:"no-select"},"主机ip：",-1))),P={class:"item-class",style:{"margin-bottom":"15px"}},q=j((()=>(0,t._)("div",{class:"no-select"},"端口号：",-1))),K={class:"item-class",style:{"margin-bottom":"15px"}},Y=j((()=>(0,t._)("div",{class:"no-select"},"用户名：",-1))),L={class:"item-class",style:{"margin-bottom":"5px"}},X=j((()=>(0,t._)("div",{class:"no-select"},"密   码：",-1))),$={class:"errInfo no-select"},ee=j((()=>(0,t._)("div",{style:{"margin-bottom":"5px"}},null,-1))),le={style:{display:"flex","border-top":"1px solid #f1f2f4"}},ne=j((()=>(0,t._)("div",{style:{flex:"1"}},null,-1)));function oe(e,l,n,o,a,i){const s=(0,t.up)("el-button"),r=(0,t.up)("HomeFilled"),u=(0,t.up)("el-icon"),c=(0,t.up)("el-input"),d=(0,t.up)("Paperclip"),v=(0,t.up)("User"),p=(0,t.up)("Lock"),m=(0,t.up)("el-dialog"),g=(0,t.up)("OptionBlock");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(m,{modelValue:o.DialogVisilble,"onUpdate:modelValue":l[6]||(l[6]=e=>o.DialogVisilble=e),"destory-on-close":!0,"before-close":o.closeDialog,width:360,title:"连接设置",modal:!1,"close-on-click-modal":!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[M,(0,t._)("div",null,[(0,t._)("div",N,[T,(0,t._)("div",{style:{"user-select":"none"},class:(0,J.C_)(o.setInfo.option&&o.setInfo.option.length>0?"old-option":"new-option")},(0,J.zw)(o.setInfo.option&&o.setInfo.option.length>0?o.setInfo.option:"新建配置"),3),R,(0,t._)("div",null,[(0,t.Wm)(s,{size:"small",type:"primary",onClick:l[0]||(l[0]=e=>o.showOption(0)),style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("导入")])),_:1})]),(0,t._)("div",null,[0==o.isForbidInput?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"small",type:"primary",onClick:l[1]||(l[1]=e=>o.showOption(1)),style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("保存")])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",null,[1==o.isForbidInput?((0,t.wg)(),(0,t.j4)(s,{key:0,size:"small",type:"primary",onClick:o.newOp,style:{"margin-left":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)("新建")])),_:1},8,["onClick"])):(0,t.kq)("",!0)])]),(0,t._)("div",G,[Z,(0,t._)("div",null,[(0,t.Wm)(c,{disabled:o.isForbidInput,modelValue:o.setInfo.server_ip,"onUpdate:modelValue":l[2]||(l[2]=e=>o.setInfo.server_ip=e),class:"w-50 m-2",placeholder:"输入主机ip"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])),_:1},8,["disabled","modelValue"])])]),(0,t._)("div",P,[q,(0,t._)("div",null,[(0,t.Wm)(c,{disabled:o.isForbidInput,modelValue:o.setInfo.server_port,"onUpdate:modelValue":l[3]||(l[3]=e=>o.setInfo.server_port=e),class:"w-50 m-2",placeholder:"输入端口号"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d)])),_:1})])),_:1},8,["disabled","modelValue"])])]),(0,t._)("div",K,[Y,(0,t._)("div",null,[(0,t.Wm)(c,{disabled:o.isForbidInput,modelValue:o.setInfo.server_user,"onUpdate:modelValue":l[4]||(l[4]=e=>o.setInfo.server_user=e),class:"w-50 m-2",placeholder:"输入用户名"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"el-input__icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(v)])),_:1})])),_:1},8,["disabled","modelValue"])])]),(0,t._)("div",L,[X,(0,t._)("div",null,[(0,t.Wm)(c,{disabled:o.isForbidInput,modelValue:o.setInfo.server_password,"onUpdate:modelValue":l[5]||(l[5]=e=>o.setInfo.server_password=e),type:"password",class:"w-50 m-2",placeholder:"输入密码"},{prefix:(0,t.w5)((()=>[(0,t.Wm)(u,{class:"el-input__icon"},{default:(0,t.w5)((()=>[(0,t.Wm)(p)])),_:1})])),_:1},8,["disabled","modelValue"])])])]),(0,t._)("div",$,(0,J.zw)(o.err_msg),1),ee,(0,t._)("div",le,[ne,(0,t.Wm)(s,{size:"small",type:"primary",onClick:o.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue","before-close"]),(0,t.Wm)(g,{ref:"optionBlockRef",onCallback:o.doOption,opType:o.optionBlockType,sshOptions:n.sshOptions},null,8,["onCallback","opType","sshOptions"])],64)}const te=e=>((0,t.dD)("data-v-a9a9a38c"),e=e(),(0,t.Cn)(),e),ae=te((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1))),ie={class:"no-select"},se={key:0,class:"kk-border"},re=["onClick"],ue={style:{margin:"0 10px"}},ce={key:1,class:"kk-border"},de={class:"kk-flex"},ve=te((()=>(0,t._)("div",null,"配置名：",-1))),pe={style:{flex:"1"}},me={style:{"margin-left":"10px"}};function ge(e,l,n,o,a,i){const s=(0,t.up)("FileIcons"),r=(0,t.up)("NoData"),u=(0,t.up)("el-input"),c=(0,t.up)("el-button"),d=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(d,{modelValue:o.DialogVisilble,"onUpdate:modelValue":l[1]||(l[1]=e=>o.DialogVisilble=e),"before-close":o.closeDialog,"destroy-on-close":"",width:420,modal:!1,title:"全部配置","modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[ae,(0,t._)("div",ie,[Object.keys(n.sshOptions).length>0?((0,t.wg)(),(0,t.iD)("div",se,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.sshOptions,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l},[(0,t._)("div",{class:(0,J.C_)(["item-class",o.aimOption==l?"item-selected":""]),onClick:e=>o.aimOption=l},[(0,t.Wm)(s,{name:"kk.txt",width:"20",height:"20",isFloder:!1}),(0,t._)("div",ue,(0,J.zw)(l),1)],10,re)])))),128))])):((0,t.wg)(),(0,t.iD)("div",ce,[(0,t.Wm)(r,{msg:o.noDataMsg},null,8,["msg"])])),(0,t._)("div",de,[ve,(0,t._)("div",pe,[(0,t.Wm)(u,{size:"small",modelValue:o.aimOption,"onUpdate:modelValue":l[0]||(l[0]=e=>o.aimOption=e),disabled:0==n.opType,class:"w-50 m-2",placeholder:""},null,8,["modelValue","disabled"])]),(0,t._)("div",me,[(0,t.Wm)(c,{size:"small",type:"primary",onClick:o.confirm},{default:(0,t.w5)((()=>[(0,t.Uk)((0,J.zw)(n.opType?"保存":"导入"),1)])),_:1},8,["onClick"])])])])])),_:1},8,["modelValue","before-close"])}var fe=n.p+"img/no_data.ec5c928e.png";const ye=e=>((0,t.dD)("data-v-24721358"),e=e(),(0,t.Cn)(),e),we={class:"no-data"},ke=ye((()=>(0,t._)("div",null,[(0,t._)("img",{src:fe,alt:"暂无数据",style:{width:"120px"}})],-1))),_e={class:"msg"};function Ce(e,l,n,o,a,i){return(0,t.wg)(),(0,t.iD)("div",we,[(0,t._)("div",null,[ke,(0,t._)("div",_e,(0,J.zw)(n.msg),1)])])}var he={name:"NoData",components:{},props:{msg:String}},Ie=n(89);const be=(0,Ie.Z)(he,[["render",Ce],["__scopeId","data-v-24721358"]]);var Ee=be,Se=n(3223),Be=n.n(Se),Ae={name:"OptionBlock",components:{FileIcons:Be(),NoData:Ee},props:["opType","sshOptions"],setup(e,l){const n=(0,E.iH)(!1),o=(0,E.iH)(""),t=(0,E.iH)("暂无配置"),a=(0,E.iH)(""),i=()=>{""!=a.value&&(l.emit("callback",a.value),n.value=!1)},s=e=>{a.value="",e()};return{DialogVisilble:n,err_msg:o,noDataMsg:t,aimOption:a,confirm:i,closeDialog:s}}};const De=(0,Ie.Z)(Ae,[["render",ge],["__scopeId","data-v-a9a9a38c"]]);var xe=De,Ve={name:"ConnectSetting",components:{OptionBlock:xe},props:["env","sshOptions"],setup(e,l){const n=(0,E.iH)(!1),o=(0,E.iH)(""),t=(0,E.iH)({server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option}),a=()=>{o.value="";const e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return e.test(t.value.server_ip)?isNaN(t.value.server_port)||t.value.server_port<0||t.value.server_port>65535?(o.value="端口号无效",!1):t.value.server_user&&""!=t.value.server_user?!(!t.value.server_password||""==t.value.server_password)||(o.value="密码不能为空",!1):(o.value="用户名不能为空",!1):(o.value="主机ip地址无效",!1)},i=(0,E.iH)(),s=(0,E.iH)(0),r=e=>{1==e&&0==a()||(s.value=e,i.value.DialogVisilble=!0,i.value.aimOption="")},u=(0,E.iH)(!1);""!=t.value.option&&(u.value=!0);const c=n=>{0==s.value?(t.value={...t.value,...e.sshOptions[n]},u.value=!0):1==s.value&&(t.value.option=n,l.emit("saveOp",n,t.value),u.value=!0)},d=()=>{u.value=!1,t.value.option=""},v=()=>{0!=a()&&(l.emit("callback",t.value),n.value=!1)},p=l=>{i.value.DialogVisilble=!1,setTimeout((()=>{o.value="",t.value={server_ip:e.env.server_ip,server_port:e.env.server_port,server_user:e.env.server_user,server_password:e.env.server_password,option:e.env.option},""!=t.value.option?u.value=!0:u.value=!1}),200),l()};return{setInfo:t,DialogVisilble:n,err_msg:o,confirm:v,optionBlockRef:i,showOption:r,optionBlockType:s,doOption:c,isForbidInput:u,newOp:d,closeDialog:p}}};const Oe=(0,Ie.Z)(Ve,[["render",oe],["__scopeId","data-v-6ef906de"]]);var Qe=Oe;const He=e=>((0,t.dD)("data-v-3c3d4404"),e=e(),(0,t.Cn)(),e),Fe=He((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1))),Ue={class:"no-select"},We={class:"item-class",style:{"margin-bottom":"15px"}},ze=He((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"颜色：",-1))),Je={class:"item-class"},je=He((()=>(0,t._)("div",null,"背景色",-1))),Me={style:{margin:"0 20px"}},Ne=He((()=>(0,t._)("div",{style:{width:"20px"}},null,-1))),Te={class:"item-class"},Re=He((()=>(0,t._)("div",null,"前景色",-1))),Ge={style:{margin:"0 20px"}},Ze={class:"item-class",style:{"margin-bottom":"15px"}},Pe=He((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"文本：",-1))),qe={class:"item-class"},Ke=He((()=>(0,t._)("div",null,"字体",-1))),Ye={class:"a-link"},Le={class:"item-class"},Xe=He((()=>(0,t._)("div",null,"字号",-1))),$e={class:"a-link"},el={class:"item-class",style:{"margin-bottom":"5px"}},ll=He((()=>(0,t._)("div",{style:{"margin-right":"10px"}},"光标：",-1))),nl={class:"item-class"},ol=He((()=>(0,t._)("div",null,"样式",-1))),tl={class:"a-link"},al={class:"item-class"},il=He((()=>(0,t._)("div",null,"闪烁",-1))),sl={style:{margin:"0 20px"}},rl={class:"errInfo no-select"},ul=He((()=>(0,t._)("div",{style:{"margin-bottom":"5px"}},null,-1))),cl={style:{display:"flex","border-top":"1px solid #f1f2f4"}},dl=He((()=>(0,t._)("div",{style:{flex:"1"}},null,-1)));function vl(e,l,n,o,a,i){const s=(0,t.up)("el-color-picker"),r=(0,t.up)("arrow-down"),u=(0,t.up)("el-icon"),c=(0,t.up)("el-dropdown-item"),d=(0,t.up)("el-dropdown-menu"),v=(0,t.up)("el-dropdown"),p=(0,t.up)("el-switch"),m=(0,t.up)("el-button"),g=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(g,{modelValue:o.DialogVisilble,"onUpdate:modelValue":l[3]||(l[3]=e=>o.DialogVisilble=e),"destroy-on-close":"",width:420,title:"样式设置",modal:!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[Fe,(0,t._)("div",Ue,[(0,t._)("div",We,[ze,(0,t._)("div",Je,[je,(0,t._)("div",Me,[(0,t.Wm)(s,{modelValue:o.setInfo.bg,"onUpdate:modelValue":l[0]||(l[0]=e=>o.setInfo.bg=e)},null,8,["modelValue"])])]),Ne,(0,t._)("div",Te,[Re,(0,t._)("div",Ge,[(0,t.Wm)(s,{modelValue:o.setInfo.fg,"onUpdate:modelValue":l[1]||(l[1]=e=>o.setInfo.fg=e)},null,8,["modelValue"])])])]),(0,t._)("div",Ze,[Pe,(0,t._)("div",qe,[Ke,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.fontFamilyList,((e,l)=>((0,t.wg)(),(0,t.j4)(c,{key:l,onClick:l=>o.setInfo.fontFamily=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,J.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",Ye,[(0,t.Uk)((0,J.zw)(o.setInfo.fontFamily),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})]),(0,t._)("div",Le,[Xe,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.fontSizeList,((e,l)=>((0,t.wg)(),(0,t.j4)(c,{key:l,onClick:l=>o.setInfo.fontSize=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,J.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",$e,[(0,t.Uk)((0,J.zw)(o.setInfo.fontSize),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})])]),(0,t._)("div",el,[ll,(0,t._)("div",nl,[ol,(0,t.Wm)(v,{style:{margin:"0 20px"}},{dropdown:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.cursorStyleList,((e,l)=>((0,t.wg)(),(0,t.j4)(c,{key:l,onClick:l=>o.setInfo.cursorStyle=e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,J.zw)(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),default:(0,t.w5)((()=>[(0,t._)("span",tl,[(0,t.Uk)((0,J.zw)(o.setInfo.cursorStyle),1),(0,t.Wm)(u,{class:"el-icon--right"},{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})])])),_:1})]),(0,t._)("div",al,[il,(0,t._)("div",sl,[(0,t.Wm)(p,{modelValue:o.setInfo.cursorBlink,"onUpdate:modelValue":l[2]||(l[2]=e=>o.setInfo.cursorBlink=e)},null,8,["modelValue"])])])])]),(0,t._)("div",rl,(0,J.zw)(o.err_msg),1),ul,(0,t._)("div",cl,[dl,(0,t.Wm)(m,{size:"small",type:"primary",onClick:o.confirm,style:{"margin-bottom":"-15px","margin-top":"10px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" 确定 ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"])}var pl={name:"StyleSetting",components:{},props:["env"],setup(e,l){const n=(0,E.iH)(!1),o=(0,E.iH)(""),t=["Monospace","Consolas","Courier","Liberation Mono"],a=[12,14,16,18,20],i=["block","underline","bar"],s=(0,E.iH)({bg:e.env.bg,fg:e.env.fg,fontFamily:e.env.fontFamily,fontSize:e.env.fontSize,cursorStyle:e.env.cursorStyle,cursorBlink:e.env.cursorBlink}),r=()=>{l.emit("callback",s.value),n.value=!1};return{fontFamilyList:t,fontSizeList:a,cursorStyleList:i,setInfo:s,DialogVisilble:n,err_msg:o,confirm:r}}};const ml=(0,Ie.Z)(pl,[["render",vl],["__scopeId","data-v-3c3d4404"]]);var gl=ml;const fl=e=>((0,t.dD)("data-v-cafde134"),e=e(),(0,t.Cn)(),e),yl=fl((()=>(0,t._)("div",{style:{"margin-top":"-15px"}},null,-1))),wl={class:"title",style:{display:"flex","align-items":"center"}},kl={style:{flex:"1","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_l={key:0},Cl={style:{display:"flex","align-items":"center"}},hl={"element-loading-text":"Loading...",class:"list-class no-select"},Il={key:0},bl=["onClick","onDblclick"],El={style:{margin:"0 10px"}},Sl=["onClick","onDblclick"],Bl={style:{margin:"0 10px"}},Al={key:1};function Dl(e,l,n,o,a,i){const s=(0,t.up)("el-input"),r=(0,t.up)("Refresh"),u=(0,t.up)("el-icon"),c=(0,t.up)("Fold"),d=(0,t.up)("Download"),v=(0,t.up)("Upload"),p=(0,t.up)("el-upload"),m=(0,t.up)("FileIcons"),g=(0,t.up)("NoData"),f=(0,t.up)("el-dialog"),y=(0,t.Q2)("loading");return(0,t.wg)(),(0,t.j4)(f,{modelValue:o.DialogVisilble,"onUpdate:modelValue":l[6]||(l[6]=e=>o.DialogVisilble=e),"before-close":o.closeDialog,title:"文件管理",width:"50%",modal:!1,"modal-class":"kk-dialog-class",draggable:""},{default:(0,t.w5)((()=>[yl,(0,t._)("div",null,[(0,t._)("div",wl,[(0,t._)("div",kl,[1==o.isShowDirInput?((0,t.wg)(),(0,t.iD)("div",_l,[(0,t.Wm)(s,{modelValue:o.dir,"onUpdate:modelValue":l[0]||(l[0]=e=>o.dir=e),placeholder:"输入目录路径",size:"small",onChange:o.dirInputCallback},null,8,["modelValue","onChange"])])):((0,t.wg)(),(0,t.iD)("div",{key:1,onDblclick:l[1]||(l[1]=e=>o.isShowDirInput=!0)},(0,J.zw)(o.dir),33))]),(0,t._)("div",Cl,[(0,t._)("div",{class:"hover-class",onClick:l[2]||(l[2]=(...e)=>o.doRefresh&&o.doRefresh(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[3]||(l[3]=(...e)=>o.doReturn&&o.doReturn(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[4]||(l[4]=(...e)=>o.doDownload&&o.doDownload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d)])),_:1})]),(0,t._)("div",{class:"hover-class",onClick:l[5]||(l[5]=(...e)=>o.doUpload&&o.doUpload(...e)),style:{"margin-left":"10px","font-size":"18px",cursor:"pointer"}},[(0,t.Wm)(p,{"show-file-list":!1,"with-credentials":!0,"http-request":o.doUpload},{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v)])),_:1})])),_:1},8,["http-request"])])])]),(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",hl,[0!=o.files.length?((0,t.wg)(),(0,t.iD)("div",Il,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.files,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.name},[1==e.isDirectory?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,J.C_)(["item-class",o.aimFileInfo&&e.name==o.aimFileInfo.name?"item-selected":""]),onClick:l=>o.aimFileInfo=e,onDblclick:l=>o.changeDir(o.dir+e.name+"/")},[(0,t.Wm)(m,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,t._)("div",El,(0,J.zw)(e.name),1)],42,bl)):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,J.C_)(["item-class",o.aimFileInfo&&e.name==o.aimFileInfo.name?"item-selected":""]),onClick:l=>o.aimFileInfo=e,onDblclick:l=>o.downloadFile(e.name)},[(0,t.Wm)(m,{name:e.name,width:"20",height:"20",isFloder:e.isDirectory},null,8,["name","isFloder"]),(0,t._)("div",Bl,(0,J.zw)(e.name),1)],42,Sl))])))),128))])):((0,t.wg)(),(0,t.iD)("div",Al,[0==o.loading?((0,t.wg)(),(0,t.j4)(g,{key:0,msg:o.noDataMsg},null,8,["msg"])):(0,t.kq)("",!0)]))])),[[y,o.loading]])])])),_:1},8,["modelValue","before-close"])}var xl=n(7387),Vl=n.n(xl),Ol=n(7178),Ql={name:"FileBlock",components:{NoData:Ee,FileIcons:Be()},props:["sshKey"],setup(e){const l=(0,E.iH)(!0),n=(0,E.iH)(null),o=(0,E.iH)(!1),t=(0,E.iH)(""),a=()=>{""==t.value&&Vl().ajax({url:W+"/pwd",type:"get",data:{sshKey:e.sshKey},success(e){t.value=e.data.path,""!=t.value&&"/"==t.value[0]||(t.value="/"+t.value),"/"!=t.value[t.value.length-1]&&(t.value=t.value+"/"),t.value=t.value.replace(/\/{2,}/g,"/"),n.value=null,r()}})},i=(0,E.iH)([]),s=(0,E.iH)("暂无文件"),r=()=>{let n=t.value;Vl().ajax({url:W+"/ls",type:"get",data:{sshKey:e.sshKey,path:n},beforeSend:function(){l.value=!0,i.value=[]},success(e){n==t.value&&("success"==e.status?(i.value=e.data.files,s.value="暂无文件"):(i.value=[],s.value=e.info))},complete:function(){n==t.value&&(l.value=!1)}})},u=l=>{if(1==o.value)return;let n=document.createElement("a");n.href=W+"/download/"+l+"?sshKey="+e.sshKey+"&path="+t.value,document.body.appendChild(n),n.click(),document.body.removeChild(n)},c=e=>{1!=o.value&&(t.value=e,n.value=null,r())},d=()=>{o.value=!1,""!=t.value&&"/"==t.value[0]||(t.value="/"+t.value),"/"!=t.value[t.value.length-1]&&(t.value=t.value+"/"),t.value=t.value.replace(/\/{2,}/g,"/"),n.value=null,r()},v=()=>{o.value=!1,r()},p=()=>{if(1==o.value)return;if("/"==t.value)return;"/"==t.value[t.value.length-1]&&(t.value=t.value.substring(0,t.value.length-1));let e=t.value.lastIndexOf("/");-1!=e&&(t.value=t.value.substring(0,e+1)),n.value=null,v()},m=()=>{1!=o.value&&n.value&&n.value.name&&!n.value.isDirectory&&u(n.value.name)},g=529408,f=async l=>{if(1==o.value)return;let n=l.file;if(!n)return;const a=n.name,i=n.size,s=parseInt(Math.ceil(i/g)),r=n.uid;let u=1;const c=t.value;for(let o=u;o<=s;o++){let l=(o-1)*g,t=l+g>=i?i:l+g,u=n.slice(l,t),d=new FormData;d.append("file",u),d.append("fileName",a),d.append("chunks",s),d.append("chunk",o),d.append("totalSize",i),d.append("id",r),d.append("sshKey",e.sshKey),d.append("path",c),await Vl().ajax({url:W+"/upload",type:"post",data:d,contentType:!1,processData:!1,success(e){202==e.code?(0,Ol.z8)({message:e.info,type:e.status,grouping:!0}):(502==e.code||503==e.code||504==e.code||602==e.code)&&((0,Ol.z8)({message:e.info,type:e.status,grouping:!0}),o=s+1)}})}},y=(0,E.iH)(!1),w=e=>{e()};return{DialogVisilble:y,closeDialog:w,isShowDirInput:o,dir:t,files:i,getInitDir:a,getDirList:r,downloadFile:u,changeDir:c,dirInputCallback:d,noDataMsg:s,doRefresh:v,doReturn:p,doDownload:m,doUpload:f,aimFileInfo:n,loading:l}}};const Hl=(0,Ie.Z)(Ql,[["render",Dl],["__scopeId","data-v-cafde134"]]);var Fl=Hl,Ul={name:"FrameWork",components:{ConnectSetting:Qe,StyleSetting:gl,FileBlock:Fl},setup(){const{toClipboard:e}=(0,b.Z)(),l=new O.FitAddon,n=(0,E.iH)(null),o=(0,E.iH)({}),a=()=>{localStorage.getItem("env")?n.value=JSON.parse(x(localStorage.getItem("env"))):n.value=Q};a();const i=()=>{localStorage.getItem("options")?(o.value=JSON.parse(x(localStorage.getItem("options"))),n.value={...n.value,...o.value[n.value["option"]]}):o.value={}};i();const s=(e,l)=>{o.value={...o.value,[e]:l},localStorage.setItem("options",D(JSON.stringify(o.value))),i()},r=(0,E.iH)({Fail:"Fail to connect remote server !\r\n",Success:"Connecting success !\r\n",Connecting:"Connecting to remote server ...\r\n",Disconnected:"Disconnect to remote server.\r\n"}),u=(0,E.iH)(r.value["Connecting"]),c=(0,E.iH)();let d=null;const v=(0,E.iH)(!0),p=()=>{d=new V.Terminal({rendererType:"canvas",convertEol:!0,scrollback:0,disableStdin:!1,cursorStyle:n.value.cursorStyle,cursorBlink:n.value.cursorBlink,theme:{foreground:n.value.fg,background:n.value.bg,cursor:"help"},lineHeight:1.2,fontFamily:n.value.fontFamily,fontSize:n.value.fontSize}),d.loadAddon(l)},m=()=>{if(c.value.style.height=window.innerHeight-25+"px",l.fit(),f.value&&f.value.readyState==WebSocket.OPEN&&d){let e=l.proposeDimensions().rows,n=l.proposeDimensions().cols;f.value.send(D(JSON.stringify({type:1,content:"",rows:e,cols:n}))),d.resize(n,e)}},g=(0,E.iH)(""),f=(0,E.iH)(null),y=()=>{f.value=new WebSocket(U+z(D(JSON.stringify(n.value)))),f.value.onopen=()=>{m()},f.value.onmessage=e=>{let l=JSON.parse(e.data);-1==l.code&&(d.clear(),u.value=r.value["Fail"],d.write(u.value),A(1)),0==l.code&&(d.clear(),u.value=r.value["Success"],g.value=x(l.info)),1==l.code&&(d.write(x(l.info)),d.options.scrollback+=d._core.buffer.lines.length)},f.value.onclose=()=>{u.value==r.value["Success"]&&(u.value=r.value["Disconnected"],d.write("\r\n"+u.value))}},w=(0,E.iH)(!1),k=()=>{w.value=!w.value},_=(0,E.iH)(),C=(0,E.iH)(),h=(0,E.iH)(),I=e=>{n.value={...n.value,...e},localStorage.setItem("env",D(JSON.stringify(n.value))),A(3)},S=async function(e){e.preventDefault();let l=await navigator.clipboard.readText();f.value&&(v.value&&(m(),v.value=!1),f.value.send(D(JSON.stringify({type:0,content:l,rows:0,cols:0}))))},B=()=>{h.value.dir="",d&&c.value&&c.value.removeEventListener("contextmenu",S),c.value.innerHTML="",v.value=!0,a(),p(),d.open(c.value),m(),d.onKey((e=>{f.value&&(v.value&&(m(),v.value=!1),f.value.send(D(JSON.stringify({type:0,content:e.key,rows:0,cols:0}))))})),d.onSelectionChange((async()=>{if(d.hasSelection()){let l=d.getSelection(),n=l.trim();n&&""!=n&&await e(l)}})),c.value.addEventListener("contextmenu",S),c.value.addEventListener("click",(function(e){e.preventDefault(),w.value=!1})),d.write(u.value)},A=e=>{1==e?(w.value=!1,_.value.DialogVisilble=!0):2==e?(w.value=!1,C.value.DialogVisilble=!0):3==e?(w.value=!1,u.value=r.value["Connecting"],f.value&&f.value.close(),y(),B()):4==e&&(w.value=!1,h.value.DialogVisilble=!0,h.value.getInitDir())};let H=null;const F=()=>{null==H&&(H=setInterval((()=>{f.value&&f.value.readyState==WebSocket.OPEN&&f.value.send(D(JSON.stringify({type:2,content:"",rows:0,cols:0})))}),25e3))};return(0,t.bv)((()=>{y(),B(),window.addEventListener("resize",(()=>{m()})),F()})),(0,t.Ah)((()=>{H&&clearInterval(H)})),{env:n,options:o,now_connect_status:u,terminal:c,doSSHConnect:y,socket:f,showSettings:k,isShowSetting:w,doSettings:A,connectSettingRef:_,styleSettingRef:C,fileBlockRef:h,saveEnv:I,sshKey:g,doHeartBeat:F,saveOp:s}}};const Wl=(0,Ie.Z)(Ul,[["render",I],["__scopeId","data-v-093bf22b"]]);var zl=Wl,Jl={name:"App",components:{FrameWork:zl}};const jl=(0,Ie.Z)(Jl,[["render",a]]);var Ml=jl,Nl=n(7866),Tl=(n(4415),n(812)),Rl=n(2748);const Gl=(0,o.ri)(Ml);Gl.use(Nl.Z,{locale:Tl.Z}),Gl.config.globalProperties.$ELEMENT={size:"small"};for(const[Zl,Pl]of Object.entries(Rl))Gl.component(Zl,Pl);Gl.mount("#app"),Vl().ajaxSetup({processData:!0,xhrFields:{withCredentials:!0},dataFilter(e){e=JSON.parse(e);let l=e.data;return l&&(e.data=JSON.parse(x(e.data))),JSON.stringify(e)}}),Gl.config.warnHandler=()=>{}},2480:function(){}},l={};function n(o){var t=l[o];if(void 0!==t)return t.exports;var a=l[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(l,o,t,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],t=e[c][1],a=e[c][2];for(var s=!0,r=0;r<o.length;r++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[r])}))?o.splice(r--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var u=t();void 0!==u&&(l=u)}}return l}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,t,a]}}(),function(){n.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(l,{a:l}),l}}(),function(){n.d=function(e,l){for(var o in l)n.o(l,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(l){return 0===e[l]};var l=function(l,o){var t,a,i=o[0],s=o[1],r=o[2],u=0;if(i.some((function(l){return 0!==e[l]}))){for(t in s)n.o(s,t)&&(n.m[t]=s[t]);if(r)var c=r(n)}for(l&&l(o);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},o=self["webpackChunkterminal"]=self["webpackChunkterminal"]||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(2937)}));o=n.O(o)})();
//# sourceMappingURL=app.47aa7351.js.map